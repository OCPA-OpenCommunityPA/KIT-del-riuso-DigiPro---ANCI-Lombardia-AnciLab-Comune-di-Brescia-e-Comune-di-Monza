<definitions id="Definition"
				 targetNamespace="http://www.omg.org/bpmn20"
				 typeLanguage="http://www.java.com/javaTypes"
				 expressionLanguage="http://www.mvel.org/2.0"
				 xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
				 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				 xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"
				 xmlns:g="http://www.jboss.org/drools/flow/gpd"
				 xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
				 xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
				 xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
				 xmlns:tns="http://www.jboss.org/drools">

    <itemDefinition id="booleanType" structureRef="java.lang.Boolean"/>

    <itemDefinition id="numberType" structureRef="java.lang.Number"/>
    <itemDefinition id="integerType" structureRef="java.lang.Number"/>

    <itemDefinition id="textType" structureRef="java.lang.String"/>
    <itemDefinition id="textRefType" structureRef="java.lang.String"/>
    <itemDefinition id="scriptType" structureRef="java.lang.String"/>
    <itemDefinition id="actorType" structureRef="java.lang.String"/>
    <itemDefinition id="actoridType" structureRef="java.lang.String"/>
    <itemDefinition id="fileType" structureRef="java.lang.String"/>
    <itemDefinition id="userTokenType" structureRef="java.lang.String"/>
    <itemDefinition id="htmlType" structureRef="java.lang.String"/>
    <itemDefinition id="noteType" structureRef="java.lang.String"/>
    <itemDefinition id="multiInstanceItemType" structureRef="java.lang.String" />
    <itemDefinition id="datetimeType" structureRef="java.lang.String"/>
    <itemDefinition id="timeSpanType" structureRef="java.lang.String"/>
    <itemDefinition id="deadlineType" structureRef="java.lang.String"/>
    <itemDefinition id="diagramType" structureRef="java.lang.String"/>

    <itemDefinition id="objectType" structureRef="java.util.HashMap"/>
    <itemDefinition id="entityType" structureRef="java.util.HashMap"/>
    <itemDefinition id="documentType" structureRef="java.util.HashMap"/>
    <itemDefinition id="fascicoloType" structureRef="java.util.HashMap"/>
    <itemDefinition id="mittenteType" structureRef="java.util.HashMap"/>
    <itemDefinition id="communicationType" structureRef="java.util.HashMap"/>
    <itemDefinition id="laneType" structureRef="java.util.HashMap"/>
    <itemDefinition id="systemType" structureRef="java.util.HashMap"/>
    <itemDefinition id="soggettoType" structureRef="java.util.HashMap"/>
    <itemDefinition id="classificaType" structureRef="java.util.HashMap"/>
    <itemDefinition id="registroType" structureRef="java.util.HashMap"/>
    <itemDefinition id="uoType" structureRef="java.util.HashMap"/>
    <itemDefinition id="roleType" structureRef="java.util.HashMap"/>
    <itemDefinition id="MessageType" structureRef="java.util.HashMap"/>

    <itemDefinition id="tempType" structureRef="java.lang.Object"/>

    <itemDefinition id="collectionType" structureRef="java.util.List"/>
    <itemDefinition id="_listItem" structureRef="java.util.List" />

    <message id="defaultMessage" itemRef="MessageType" />
    <error id="cancel" errorCode="cancel" />
    <itemDefinition id="canaleJMSType" structureRef="canaleJMS"/>
    <message id="canaleJMS" itemRef="canaleJMSType" />
    <error id="bpmn2.ServiceException" errorCode="bpmn2.ServiceException" />
    <error id="bpmn2.WorkflowException" errorCode="bpmn2.WorkflowException" />
    <error id="anyException" />
    <itemDefinition id="canaleMAILType" structureRef="canaleMAIL"/>
    <message id="canaleMAIL" itemRef="canaleMAILType" />
    <error id="bpmn2.SendException" errorCode="bpmn2.SendException" />
    <itemDefinition id="canalePORTALEType" structureRef="canalePORTALE"/>
    <message id="canalePORTALE" itemRef="canalePORTALEType" />
    <itemDefinition id="canalePECType" structureRef="canalePEC"/>
    <message id="canalePEC" itemRef="canalePECType" />

    <interface id="EAID_B73BF5BB_A892_460d_B3BA_5D8873850689" name="Interface1">
        <operation id="swaggerOperation" name="swaggerOperation">
            <inMessageRef>defaultMessage</inMessageRef>
        </operation>
    </interface>

    <process processType="Private" tns:version="1.0" isExecutable="true" id="Istanza Online - Cosap1.0" name="Istanza Online - Cosap" tns:packageName="Orchestratore">
        <property id="versioning" itemSubjectRef="textType"/>
        <property id="doc_recuperato" itemSubjectRef="objectType"/>
        <property id="oggettoDocNonInvio" itemSubjectRef="collectionType"/>
        <property id="tempo_attesa_integrazioni" itemSubjectRef="textType"/>
        <property id="UO_FirmaSmistamentoExt" itemSubjectRef="textType"/>
        <property id="_tmpc_" itemSubjectRef="collectionType"/>
        <property id="template_irricebilitaHTML" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="allegatiMotiviOstativi" itemSubjectRef="collectionType"/>
        <property id="docnume_docFinale" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariIrrecivibilita" itemSubjectRef="collectionType"/>
        <property id="DescrizioneRegistraProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="esitoPortale" itemSubjectRef="textType"/>
        <property id="listaUDPareriRicevuti" itemSubjectRef="collectionType"/>
        <property id="templatedocnonInvioHTML" itemSubjectRef="textType"/>
        <property id="ckString" itemSubjectRef="textType"/>
        <property id="UO_FirmaProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="docNonInvioProtocollato" itemSubjectRef="objectType"/>
        <property id="_tmp1_" itemSubjectRef="tempType"/>
        <property id="variabili" itemSubjectRef="objectType"/>
        <property id="tempo_attesa_pagamenti" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraMotiviOstativi" itemSubjectRef="textType"/>
        <property id="mittente_notifica" itemSubjectRef="objectType"/>
        <property id="lanes" itemSubjectRef="collectionType"/>
        <property id="documentoSilenzioAssenso" itemSubjectRef="objectType"/>
        <property id="scadenzaRicezioneAnnullamento" itemSubjectRef="datetimeType"/>
        <property id="DescrizioneRedazioneSmistamentoExt" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaDocumentoFinale" itemSubjectRef="textType"/>
        <property id="istruttoria_semplice" itemSubjectRef="textType"/>
        <property id="doc_provvFinaleNegativo" itemSubjectRef="objectType"/>
        <property id="docCopy" itemSubjectRef="objectType"/>
        <property id="DescrizioneFirmaMotiviOstativi" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraPareriInterni" itemSubjectRef="textType"/>
        <property id="UO_ApprovazionePareriInterni" itemSubjectRef="textType"/>
        <property id="mittente" itemSubjectRef="objectType"/>
        <property id="$" itemSubjectRef="objectType"/>
        <property id="UO_RegistraRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazioneIrrecivibilita" itemSubjectRef="textType"/>
        <property id="mittenti" itemSubjectRef="collectionType"/>
        <property id="UO_FirmaIrrecivibilita" itemSubjectRef="textType"/>
        <property id="UO_registrazione" itemSubjectRef="textType"/>
        <property id="motivo_irrecivibilita" itemSubjectRef="textType"/>
        <property id="destinatario" itemSubjectRef="objectType"/>
        <property id="firmatario" itemSubjectRef="objectType"/>
        <property id="documentiPortaleRicevutaPagamento" itemSubjectRef="collectionType"/>
        <property id="UO_RedazionePareriEsterni" itemSubjectRef="textType"/>
        <property id="listaFirmatari" itemSubjectRef="collectionType"/>
        <property id="doc_richiestaIntegrazioni" itemSubjectRef="objectType"/>
        <property id="_tmp0_" itemSubjectRef="tempType"/>
        <property id="UO_FirmaComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="annessiPareriInterni" itemSubjectRef="collectionType"/>
        <property id="principale" itemSubjectRef="objectType"/>
        <property id="doc_provvFinalePositivo" itemSubjectRef="objectType"/>
        <property id="tipologieAllegato" itemSubjectRef="collectionType"/>
        <property id="listaAllegati" itemSubjectRef="collectionType"/>
        <property id="noteSmistamento" itemSubjectRef="textType"/>
        <property id="userCoda" itemSubjectRef="textType"/>
        <property id="oggettoDocumentoFinale" itemSubjectRef="collectionType"/>
        <property id="letteraProvvFinalePositivo" itemSubjectRef="objectType"/>
        <property id="annessiIntegrazioniRicevuto" itemSubjectRef="collectionType"/>
        <property id="esito_verifica" itemSubjectRef="textType"/>
        <property id="doc_richiestaIntegrazioniRicevuto" itemSubjectRef="objectType"/>
        <property id="allegatiIntegrazioniRicevuto" itemSubjectRef="collectionType"/>
        <property id="data_interruzioneProcedimento" itemSubjectRef="datetimeType"/>
        <property id="assegnazione2" itemSubjectRef="collectionType"/>
        <property id="documentoConclusivoAnnullamento" itemSubjectRef="objectType"/>
        <property id="dataRicezionePareriEsterni" itemSubjectRef="datetimeType"/>
        <property id="UO_RedazioneRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="esito_people" itemSubjectRef="textType"/>
        <property id="varabiliTemplateIrricevibile" itemSubjectRef="objectType"/>
        <property id="esito_ciclo" itemSubjectRef="textType"/>
        <property id="documentiRicevutiOstativi" itemSubjectRef="collectionType"/>
        <property id="presente_classifica" itemSubjectRef="textType"/>
        <property id="azione_finale" itemSubjectRef="textType"/>
        <property id="businessState" itemSubjectRef="textType"/>
        <property id="variabiliTemplateApprovazione" itemSubjectRef="objectType"/>
        <property id="documentiRicevutiIntegrazioni" itemSubjectRef="collectionType"/>
        <property id="noteAnnullamento" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariComunicazioneAvvio" itemSubjectRef="collectionType"/>
        <property id="gestioneRicevutePEC" itemSubjectRef="textType"/>
        <property id="allegatiDocumentoAvvio" itemSubjectRef="collectionType"/>
        <property id="contextKey" itemSubjectRef="textType"/>
        <property id="UO_FirmaPareriEsterni" itemSubjectRef="textType"/>
        <property id="tempo_procedimento" itemSubjectRef="textType"/>
        <property id="ck" itemSubjectRef="collectionType"/>
        <property id="uo_pareri_selezionate" itemSubjectRef="textType"/>
        <property id="letteraProvvNegativo" itemSubjectRef="objectType"/>
        <property id="esito_cicla_notifica" itemSubjectRef="textType"/>
        <property id="variabiliTemplateSmistamento" itemSubjectRef="objectType"/>
        <property id="oggettoFirmatariPareriEsterni" itemSubjectRef="collectionType"/>
        <property id="invio_documenti" itemSubjectRef="textType"/>
        <property id="__ckValue" itemSubjectRef="collectionType"/>
        <property id="UO_RedazioneIrrecivibilita" itemSubjectRef="textType"/>
        <property id="notifica_tempi_conclusione" itemSubjectRef="textType"/>
        <property id="destinatari_notifica_attivazione" itemSubjectRef="collectionType"/>
        <property id="_tmp2_" itemSubjectRef="tempType"/>
        <property id="UO_RegistraPareriInterni" itemSubjectRef="textType"/>
        <property id="tipologieAnnesso" itemSubjectRef="collectionType"/>
        <property id="statoPratica" itemSubjectRef="textType"/>
        <property id="letteraDocRecuperato" itemSubjectRef="objectType"/>
        <property id="Administrators" itemSubjectRef="objectType"/>
        <property id="documentoProtocollato" itemSubjectRef="objectType"/>
        <property id="codaPortale" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazioneProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="docnum_docSmistamentoExt" itemSubjectRef="textType"/>
        <property id="scelta_protocollare" itemSubjectRef="textType"/>
        <property id="idPraticaPortale" itemSubjectRef="textType"/>
        <property id="pathDocAnnullamento" itemSubjectRef="textType"/>
        <property id="tipo_firma" itemSubjectRef="textType"/>
        <property id="figura_professionale_procedimento" itemSubjectRef="textType"/>
        <property id="messaggioNotificaConclusione" itemSubjectRef="textType"/>
        <property id="giorni_notifica" itemSubjectRef="textType"/>
        <property id="allegatiRichiestaIntegrazioni" itemSubjectRef="collectionType"/>
        <property id="template_pareriInterniNonApprovato" itemSubjectRef="objectType"/>
        <property id="source" itemSubjectRef="objectType"/>
        <property id="allegatiPareriInterni" itemSubjectRef="collectionType"/>
        <property id="template_pareriInterni" itemSubjectRef="objectType"/>
        <property id="ud" itemSubjectRef="collectionType"/>
        <property id="oggettoDocumentiAvvio" itemSubjectRef="collectionType"/>
        <property id="DescrizioneRedazionePareriInterni" itemSubjectRef="textType"/>
        <property id="documenti" itemSubjectRef="collectionType"/>
        <property id="UO_RegistraMotiviOstativi" itemSubjectRef="textType"/>
        <property id="variabiliTemplateDocNonInvio" itemSubjectRef="objectType"/>
        <property id="destinatari" itemSubjectRef="collectionType"/>
        <property id="UO_smistamento" itemSubjectRef="textType"/>
        <property id="uo" itemSubjectRef="textType"/>
        <property id="template_silenzioAssensoHTML" itemSubjectRef="textType"/>
        <property id="listaAnnessi" itemSubjectRef="collectionType"/>
        <property id="doc_pareri_interniConvertito" itemSubjectRef="objectType"/>
        <property id="sollecito_integrazioni" itemSubjectRef="textType"/>
        <property id="gestione_fascicolo" itemSubjectRef="textType"/>
        <property id="test" itemSubjectRef="textType"/>
        <property id="lista_call_activity" itemSubjectRef="objectType"/>
        <property id="oggettoFirmatariComunicazioneDiniego" itemSubjectRef="collectionType"/>
        <property id="DescrizioneFirmaProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="templateConclusivoSmistamento" itemSubjectRef="objectType"/>
        <property id="comunicazione_avvio" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariRichiestaIntegrazioni" itemSubjectRef="collectionType"/>
        <property id="Descrizione_crea_fascicolo" itemSubjectRef="textType"/>
        <property id="responseArrayUO" itemSubjectRef="collectionType"/>
        <property id="titoloProcedimento" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariProvvFinalePositivo" itemSubjectRef="collectionType"/>
        <property id="messagePortale" itemSubjectRef="textType"/>
        <property id="instanceName" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaPareriInterni" itemSubjectRef="textType"/>
        <property id="UO_RegistraDocumentoFinale" itemSubjectRef="textType"/>
        <property id="UO_RegistraComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="ck1" itemSubjectRef="textType"/>
        <property id="ck2" itemSubjectRef="textType"/>
        <property id="identificativoBackOffice" itemSubjectRef="textType"/>
        <property id="listaCorrelati" itemSubjectRef="collectionType"/>
        <property id="doc_comunicazioneDiniego" itemSubjectRef="objectType"/>
        <property id="DescrizioneRedazioneMotiviOstativi" itemSubjectRef="textType"/>
        <property id="idProcesso" itemSubjectRef="textType"/>
        <property id="listaAllegatiDocAnnullamento" itemSubjectRef="collectionType"/>
        <property id="tipologiaDoc_documenti_avvio" itemSubjectRef="textType"/>
        <property id="UO_InvioPareriEsterni" itemSubjectRef="textType"/>
        <property id="dataPresentazione" itemSubjectRef="textType"/>
        <property id="UO_FirmaComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="doc_pareri_interni" itemSubjectRef="objectType"/>
        <property id="UO_RegistraSmistamentoExt" itemSubjectRef="textType"/>
        <property id="integrazione" itemSubjectRef="textType"/>
        <property id="tipo_firma_protoEntrata" itemSubjectRef="textType"/>
        <property id="tempo_attesa_pareri" itemSubjectRef="textType"/>
        <property id="azioni_verifica_documenti" itemSubjectRef="objectType"/>
        <property id="uo_pareri_interni" itemSubjectRef="collectionType"/>
        <property id="oggettoDocMotiviOstativiRicevuto" itemSubjectRef="collectionType"/>
        <property id="systemToken" itemSubjectRef="userTokenType"/>
        <property id="destinatari_pareri_esterni" itemSubjectRef="collectionType"/>
        <property id="templateDocNonInvio" itemSubjectRef="objectType"/>
        <property id="tempo_attesa_ostativi" itemSubjectRef="textType"/>
        <property id="message" itemSubjectRef="objectType"/>
        <property id="target" itemSubjectRef="objectType"/>
        <property id="descrizione" itemSubjectRef="textType"/>
        <property id="esito" itemSubjectRef="textType"/>
        <property id="docnum_docProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="UO_FirmaMotiviOstativi" itemSubjectRef="textType"/>
        <property id="listaDocPareriRicevuti" itemSubjectRef="collectionType"/>
        <property id="annesso_pareri_interni" itemSubjectRef="textType"/>
        <property id="destinatari_pareri_interni" itemSubjectRef="collectionType"/>
        <property id="dataSilenzioAssenso" itemSubjectRef="datetimeType"/>
        <property id="tipologiePrincipale" itemSubjectRef="collectionType"/>
        <property id="doc_pareri_esterni" itemSubjectRef="objectType"/>
        <property id="DescrizioneApprovazionePareriInterni" itemSubjectRef="textType"/>
        <property id="indirizzo_docer" itemSubjectRef="textType"/>
        <property id="tipologieAnnotazioni" itemSubjectRef="collectionType"/>
        <property id="doc_comunicazioneIrricevibilita" itemSubjectRef="objectType"/>
        <property id="templateAnnullamentoCittadino" itemSubjectRef="objectType"/>
        <property id="INSTANCE_AOO" itemSubjectRef="textType"/>
        <property id="humanToken" itemSubjectRef="userTokenType"/>
        <property id="UO_RegistraProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="altreInfo" itemSubjectRef="textType"/>
        <property id="allegatiMotiviOstativiRicevuto" itemSubjectRef="collectionType"/>
        <property id="destinatario_notifica_soggetto" itemSubjectRef="objectType"/>
        <property id="documentoSilenzioAssensoProto" itemSubjectRef="objectType"/>
        <property id="DescrizioneRedazioneDocumentoFinale" itemSubjectRef="textType"/>
        <property id="doc_motiviOstativi" itemSubjectRef="objectType"/>
        <property id="$state" itemSubjectRef="integerType"/>
        <property id="UO_RedazioneMotiviOstativi" itemSubjectRef="textType"/>
        <property id="doc_documentoFinale" itemSubjectRef="objectType"/>
        <property id="email_notifica_attivazione" itemSubjectRef="collectionType"/>
        <property id="idProceduraPortale" itemSubjectRef="textType"/>
        <property id="oggettoDocComunicazionIrrecivibilita" itemSubjectRef="collectionType"/>
        <property id="urlDocer" itemSubjectRef="textType"/>
        <property id="destinatario_cittadino" itemSubjectRef="objectType"/>
        <property id="UO_RegistraProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="docnum_recuperato" itemSubjectRef="textType"/>
        <property id="esito_portale" itemSubjectRef="textType"/>
        <property id="destinatari_notifica_tempiConclusione" itemSubjectRef="collectionType"/>
        <property id="template_pareriInterniApprovatoHTML" itemSubjectRef="textType"/>
        <property id="UO_FirmaRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariProvvFinaleNegativo" itemSubjectRef="collectionType"/>
        <property id="allegatiDocumentoProtocollato" itemSubjectRef="collectionType"/>
        <property id="countDestinatari" itemSubjectRef="textType"/>
        <property id="invio" itemSubjectRef="textType"/>
        <property id="principaleProtocollato" itemSubjectRef="objectType"/>
        <property id="annessiDocumentoAvvio" itemSubjectRef="collectionType"/>
        <property id="descrizioneProcesso" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="doc_comunicazioneAvvio" itemSubjectRef="objectType"/>
        <property id="silenzio_assenso" itemSubjectRef="textType"/>
        <property id="annessiPareriEsterni" itemSubjectRef="collectionType"/>
        <property id="assegnazione" itemSubjectRef="collectionType"/>
        <property id="smistamento" itemSubjectRef="textType"/>
        <property id="noteDocNonInvio" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraPareriEsterni" itemSubjectRef="textType"/>
        <property id="UO_firma" itemSubjectRef="textType"/>
        <property id="incaricato" itemSubjectRef="textType"/>
        <property id="doc_ricevutaPagamento" itemSubjectRef="objectType"/>
        <property id="provvedimento_finale" itemSubjectRef="textType"/>
        <property id="UO_FirmaDocumentoFinale" itemSubjectRef="textType"/>
        <property id="listaPareriInterniRicevuti" itemSubjectRef="collectionType"/>
        <property id="UO_RedazionePareriInterni" itemSubjectRef="textType"/>
        <property id="documentoConclusivoAnnullamento_html" itemSubjectRef="textType"/>
        <property id="variabiliTemplateConclusivoAnn" itemSubjectRef="objectType"/>
        <property id="doc_motiviOstativiRicevuto" itemSubjectRef="objectType"/>
        <property id="idUser" itemSubjectRef="textType"/>
        <property id="allegatiPareriEsterni" itemSubjectRef="collectionType"/>
        <property id="instanceId" itemSubjectRef="textRefType"/>
        <property id="procedimento_concluso" itemSubjectRef="textType"/>
        <property id="allegati_documentoFinale" itemSubjectRef="collectionType"/>
        <property id="INSTANCE_ENTE" itemSubjectRef="textType"/>
        <property id="data_scadenza_motiviOstativi" itemSubjectRef="datetimeType"/>
        <property id="outcome" itemSubjectRef="objectType"/>
        <property id="tipologie_documentarie" itemSubjectRef="objectType"/>
        <property id="UO_RegistraComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="docnum_docProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="listaTitoli" itemSubjectRef="collectionType"/>
        <property id="docNonInvio" itemSubjectRef="objectType"/>
        <property id="richiesta_pareri" itemSubjectRef="textType"/>
        <property id="annessiXML" itemSubjectRef="textType"/>
        <property id="fascicolato" itemSubjectRef="textType"/>
        <property id="oggetto_notifica_attivazione" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariPareriInterni" itemSubjectRef="collectionType"/>
        <property id="oggettoFirmatariDocumentoFinale" itemSubjectRef="collectionType"/>
        <property id="scelta_fascicolare" itemSubjectRef="textType"/>
        <property id="Default" itemSubjectRef="objectType"/>
        <property id="firmatari_protoEntrata" itemSubjectRef="collectionType"/>
        <property id="oggettoDocumentoSilenzioAssenso" itemSubjectRef="collectionType"/>
        <property id="UO_RegistraPareriEsterni" itemSubjectRef="textType"/>
        <property id="oggettoProtocolloDocNonInvio" itemSubjectRef="textType"/>
        <property id="oggettoDocumentoConclusioneSmistamento" itemSubjectRef="collectionType"/>
        <property id="type_id_iniziale" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraIrrecivibilita" itemSubjectRef="textType"/>
        <property id="azione" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaIrrecivibilita" itemSubjectRef="textType"/>
        <property id="descrizioneEvento" itemSubjectRef="textType"/>
        <property id="UO_FirmaPareriInterni" itemSubjectRef="textType"/>
        <property id="id_pratica_mod" itemSubjectRef="textType"/>
        <property id="assegnazioneAnnullamento" itemSubjectRef="collectionType"/>
        <property id="destinatario_notifica" itemSubjectRef="textType"/>
        <property id="UO_RedazioneProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="oggettoDocumentiIntegrazione" itemSubjectRef="collectionType"/>
        <property id="template_pareriInterniNonApprovatoHTML" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaSmistamentoExt2" itemSubjectRef="textType"/>
        <property id="template_irricebilita" itemSubjectRef="objectType"/>
        <property id="doc_pareri_interniProtocollato" itemSubjectRef="objectType"/>
        <property id="assegnazioneUnica" itemSubjectRef="collectionType"/>
        <property id="data_scadenza_integrazioni" itemSubjectRef="datetimeType"/>
        <property id="UO_RedazioneComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="Result" itemSubjectRef="objectType"/>
        <property id="oggettoDocumentiIntegrazioneRicevuti" itemSubjectRef="collectionType"/>
        <property id="UO_RedazioneDocumentoFinale" itemSubjectRef="textType"/>
        <property id="porta_docer" itemSubjectRef="textType"/>
        <property id="doc_annessoPareriInterni" itemSubjectRef="objectType"/>
        <property id="scadenza_invio_notifica" itemSubjectRef="datetimeType"/>
        <property id="DescrizioneInvioPareriEsterni" itemSubjectRef="textType"/>
        <property id="templateSilenzioAssenso" itemSubjectRef="objectType"/>
        <property id="annessiMotiviOstativi" itemSubjectRef="collectionType"/>
        <property id="recupera_documenti_istruttoria_semplice" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazioneProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="template_pareriInterniHTML" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazionePareriEsterni" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="UO_RedazioneProvvFinalePositivo" itemSubjectRef="textType"/>
        <property id="variabiliTemplateSilenzioAssenso" itemSubjectRef="objectType"/>
        <property id="annessiDocumentoProtocollato" itemSubjectRef="collectionType"/>
        <property id="messaggioRicevuto" itemSubjectRef="objectType"/>
        <property id="DescrizioneRedazioneRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="note_approvazione" itemSubjectRef="textType"/>
        <property id="fasc_proc" itemSubjectRef="objectType"/>
        <property id="approvazionePareriInterni" itemSubjectRef="textType"/>
        <property id="history" itemSubjectRef="objectType"/>
        <property id="oggettoDocumentiAnnullamento" itemSubjectRef="collectionType"/>
        <property id="pwdCoda" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraSmistamentoExt" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazioneComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="oggettoDocMotiviOstativi" itemSubjectRef="collectionType"/>
        <property id="id_pratica" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="DescrizioneRegistraDocumentoFinale" itemSubjectRef="textType"/>
        <property id="destinatari_notifica" itemSubjectRef="collectionType"/>
        <property id="template_pareriInterniApprovato" itemSubjectRef="objectType"/>
        <property id="testPortale" itemSubjectRef="textType"/>
        <property id="interruzioneProcedimento" itemSubjectRef="textType"/>
        <property id="url_visura" itemSubjectRef="textType"/>
        <property id="UO_RedazioneSmistamentoExt" itemSubjectRef="textType"/>
        <property id="esito_finale" itemSubjectRef="textType"/>
        <property id="doc_irricevibilita" itemSubjectRef="objectType"/>
        <property id="noteSilenzioAssenso" itemSubjectRef="textType"/>
        <property id="annotazioniDocumentoProtocollato" itemSubjectRef="collectionType"/>
        <property id="annessiMotiviOstativiRicevuto" itemSubjectRef="collectionType"/>
        <property id="data_invio_comunicazione_avvio" itemSubjectRef="datetimeType"/>
        <property id="formatoISO8601" itemSubjectRef="textType"/>
        <property id="variabiliTemplateAnnullamento" itemSubjectRef="objectType"/>
        <property id="oggettoProtocolloSilAssenso" itemSubjectRef="textType"/>
        <property id="messaggio_notifica_attivazione" itemSubjectRef="textType"/>
        <property id="oggettoNotificaConclusione" itemSubjectRef="textType"/>
        <property id="UO_RegistraIrrecivibilita" itemSubjectRef="textType"/>
        <property id="descrizioneFasc" itemSubjectRef="textType"/>
        <property id="UO_FirmaProvvFinaleNegativo" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariMotiviOstativi" itemSubjectRef="collectionType"/>
        <property id="urlBroker" itemSubjectRef="textType"/>
        <property id="rest" itemSubjectRef="textType"/>
        <property id="DescrizioneFirmaPareriEsterni" itemSubjectRef="textType"/>
        <property id="oggettoFirmatariSmistamentoExt" itemSubjectRef="collectionType"/>
        <property id="DescrizioneFirmaRichiestaIntegrazioni" itemSubjectRef="textType"/>
        <property id="documentoAnnullamento" itemSubjectRef="objectType"/>
        <property id="gestioneIncaricato" itemSubjectRef="textType"/>
        <property id="esito_verifica_osservazioni" itemSubjectRef="textType"/>
        <property id="titolario" itemSubjectRef="textType"/>
        <property id="DescrizioneRedazioneComunicazioneDiniego" itemSubjectRef="textType"/>
        <property id="UO_RedazioneComunicazioneAvvio" itemSubjectRef="textType"/>
        <property id="templateConclusivoAnnullamento" itemSubjectRef="objectType"/>
        <property id="doc_templateSmistamentoEsterno" itemSubjectRef="objectType"/>
        <property id="esito_silenzio_assenso" itemSubjectRef="textType"/>
        <property id="annessiRichiestaIntegrazioni" itemSubjectRef="collectionType"/>
        <property id="UO_redazione" itemSubjectRef="textType"/>
        <property id="letteraDocCreato" itemSubjectRef="objectType"/>
        <property id="__tmp__" itemSubjectRef="tempType"/>
        <property id="_tmpevt_" itemSubjectRef="objectType"/>
        <property id="$" itemSubjectRef="objectType"/>
        <property id="_foreachc_" itemSubjectRef="collectionType"/>
        <property id="_foreachi_" itemSubjectRef="objectType"/>

<task id="block430" name="UpdateDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block430_TaskNameInput" name="TaskName" />
        <dataInput id="block430_GroupIdInput" name="GroupId" />
        <dataInput id="block430_Operation" name="operation" />

            <dataInput id="block430_userTokenInput" name="userToken" />
            <dataInput id="block430_mittenteInput" name="mittente" />
            <dataInput id="block430_documentInput" name="document" />
            <dataInput id="block430_destinatarioInput" name="destinatario" />
        
            <dataOutput id="block430_userTokenOutput" name="userToken" />
            <dataOutput id="block430_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block430_TaskNameInput</dataInputRefs>
            <dataInputRefs>block430_GroupIdInput</dataInputRefs>
            <dataInputRefs>block430_Operation</dataInputRefs>
                <dataInputRefs>block430_userTokenInput</dataInputRefs>
                <dataInputRefs>block430_mittenteInput</dataInputRefs>
                <dataInputRefs>block430_documentInput</dataInputRefs>
                <dataInputRefs>block430_destinatarioInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block430_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block430_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block430_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block430_mittenteInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block430_documentInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block430_destinatarioInput</targetRef>
                            

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block430_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block430_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block430_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">UpdateDocument</from>
           <to xsi:type="tFormalExpression">block430_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block430_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">AggiornaDocumento</from>
           <to xsi:type="tFormalExpression">block430_Operation</to>
        </assignment>
      </dataInputAssociation>


            <dataOutputAssociation>
                            <sourceRef>block430_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block430_documentOutput</sourceRef>
                            <targetRef>documentoProtocollato</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block459" scriptFormat="http://www.mvel.org/2.0" name="Commit" isForCompensation="false" >
    <extensionElements>
        <tns:metaData name="customAsync">
            <tns:metaValue>true</tns:metaValue>
        </tns:metaData>
    </extensionElements>
    <script>
        <![CDATA[



/************** start user script ***************/



/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<endEvent id="block483" name="end (terminate)">

    <dataInput id="block483_Input" name="object" />

    <inputSet>
        <dataInputRefs>block483_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block483_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>


<callActivity id="block15" isForCompensation="false" independent="false" waitForCompletion="true" name="fascicolazione entrata documenti" calledElementByName="AMD_RegistrazioneEntrataUD1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block15_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block15_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block15_proto_autoInput" name="proto_auto" />
    <dataInput id="block15_instanceNameInput" name="instanceName" />
    <dataInput id="block15_destinatari_registrazioneInput" name="destinatari_registrazione" />
    <dataInput id="block15_tipo_firma_registrazioneInput" name="tipo_firma_registrazione" />
    <dataInput id="block15_humanTokenInput" name="humanToken" />
    <dataInput id="block15_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block15_instanceIdInput" name="instanceId" />
    <dataInput id="block15_oggetto_registroInput" name="oggetto_registro" />
    <dataInput id="block15_destinatariInput" name="destinatari" />
    <dataInput id="block15_outcomeInput" name="outcome" />
    <dataInput id="block15_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block15_registrazioneInput" name="registrazione" />
    <dataInput id="block15_fascicoliSecondariInput" name="fascicoliSecondari" />
    <dataInput id="block15_systemTokenInput" name="systemToken" />
    <dataInput id="block15_mittentiInput" name="mittenti" />
    <dataInput id="block15_protocollo_mittenteInput" name="protocollo_mittente" />
    <dataInput id="block15_firmatari_registrazioneInput" name="firmatari_registrazione" />
    <dataInput id="block15_assegnazione_registroInput" name="assegnazione_registro" />
    <dataInput id="block15_descrizioneInput" name="descrizione" />
    <dataInput id="block15_firmatariInput" name="firmatari" />
    <dataInput id="block15_protocollazioneInput" name="protocollazione" />
    <dataInput id="block15_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block15_canalePECInput" name="canalePEC" />
    <dataInput id="block15_mittenti_registrazioneInput" name="mittenti_registrazione" />
    <dataInput id="block15_lista_registriInput" name="lista_registri" />
    <dataInput id="block15_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block15_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block15_assegnazioneInput" name="assegnazione" />
    <dataInput id="block15_nameInput" name="name" />
    <dataInput id="block15_descriptionInput" name="description" />
    <dataInput id="block15_processNameInput" name="processName" />
    <dataOutput id="block15_principaleOutput" name="principale" />

    <inputSet>
        <dataInputRefs>block15_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block15_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block15_proto_autoInput</dataInputRefs>
        <dataInputRefs>block15_instanceNameInput</dataInputRefs>
        <dataInputRefs>block15_destinatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block15_tipo_firma_registrazioneInput</dataInputRefs>
        <dataInputRefs>block15_humanTokenInput</dataInputRefs>
        <dataInputRefs>block15_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block15_instanceIdInput</dataInputRefs>
        <dataInputRefs>block15_oggetto_registroInput</dataInputRefs>
        <dataInputRefs>block15_destinatariInput</dataInputRefs>
        <dataInputRefs>block15_outcomeInput</dataInputRefs>
        <dataInputRefs>block15_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block15_registrazioneInput</dataInputRefs>
        <dataInputRefs>block15_fascicoliSecondariInput</dataInputRefs>
        <dataInputRefs>block15_systemTokenInput</dataInputRefs>
        <dataInputRefs>block15_mittentiInput</dataInputRefs>
        <dataInputRefs>block15_protocollo_mittenteInput</dataInputRefs>
        <dataInputRefs>block15_firmatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block15_assegnazione_registroInput</dataInputRefs>
        <dataInputRefs>block15_descrizioneInput</dataInputRefs>
        <dataInputRefs>block15_firmatariInput</dataInputRefs>
        <dataInputRefs>block15_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block15_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block15_canalePECInput</dataInputRefs>
        <dataInputRefs>block15_mittenti_registrazioneInput</dataInputRefs>
        <dataInputRefs>block15_lista_registriInput</dataInputRefs>
        <dataInputRefs>block15_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block15_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block15_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block15_nameInput</dataInputRefs>
        <dataInputRefs>block15_descriptionInput</dataInputRefs>
        <dataInputRefs>block15_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block15_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block15_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_destinatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma_registrazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_tipo_firma_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block15_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block15_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_registro var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_oggetto_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block15_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicoliSecondari var type: fascicolo -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_fascicoliSecondariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block15_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollo_mittente var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_protocollo_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_firmatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione_registro var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_assegnazione_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Fascicolazione Documenti ricevuti";]]></sourceRef>
        <targetRef>block15_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block15_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block15_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block15_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block15_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_mittenti_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lista_registri var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_lista_registriInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[documentoProtocollato.DOCNUM;]]></sourceRef>
        <targetRef>block15_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block15_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block15_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block15_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[fascicolazione entrata documenti]]></from>
            <to xsi:type="tFormalExpression">block15_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block15_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block15_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block15_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[AMD_RegistrazioneEntrataUD1.0]]></from>
            <to xsi:type="tFormalExpression">block15_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block15_principaleOutput</sourceRef>
        <targetRef>documentoProtocollato</targetRef>
</dataOutputAssociation>
    
</callActivity>





<callActivity id="block168" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera comunicazione motivo irricevibilita'" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block168_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block168_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block168_versioningInput" name="versioning" />
    <dataInput id="block168_messaggioInput" name="messaggio" />
    <dataInput id="block168_proto_autoInput" name="proto_auto" />
    <dataInput id="block168_instanceNameInput" name="instanceName" />
    <dataInput id="block168_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block168_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block168_oggettoInput" name="oggetto" />
    <dataInput id="block168_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block168_redazioneInput" name="redazione" />
    <dataInput id="block168_humanTokenInput" name="humanToken" />
    <dataInput id="block168_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block168_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block168_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block168_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block168_instanceIdInput" name="instanceId" />
    <dataInput id="block168_destinatariInput" name="destinatari" />
    <dataInput id="block168_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block168_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block168_modificaInput" name="modifica" />
    <dataInput id="block168_urlDocerInput" name="urlDocer" />
    <dataInput id="block168_outcomeInput" name="outcome" />
    <dataInput id="block168_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block168_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block168_mittenteInput" name="mittente" />
    <dataInput id="block168_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block168_systemTokenInput" name="systemToken" />
    <dataInput id="block168_mittentiInput" name="mittenti" />
    <dataInput id="block168_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block168_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block168_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block168_creazioneInput" name="creazione" />
    <dataInput id="block168_invioInput" name="invio" />
    <dataInput id="block168_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block168_descrizioneInput" name="descrizione" />
    <dataInput id="block168___ckValueInput" name="__ckValue" />
    <dataInput id="block168_firmatariInput" name="firmatari" />
    <dataInput id="block168_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block168_template_principaleInput" name="template_principale" />
    <dataInput id="block168_canalePECInput" name="canalePEC" />
    <dataInput id="block168_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block168_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block168_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block168_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block168_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block168_assegnazioneInput" name="assegnazione" />
    <dataInput id="block168_nameInput" name="name" />
    <dataInput id="block168_descriptionInput" name="description" />
    <dataInput id="block168_processNameInput" name="processName" />
    <dataOutput id="block168_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block168_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block168_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block168_versioningInput</dataInputRefs>
        <dataInputRefs>block168_messaggioInput</dataInputRefs>
        <dataInputRefs>block168_proto_autoInput</dataInputRefs>
        <dataInputRefs>block168_instanceNameInput</dataInputRefs>
        <dataInputRefs>block168_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block168_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block168_oggettoInput</dataInputRefs>
        <dataInputRefs>block168_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block168_redazioneInput</dataInputRefs>
        <dataInputRefs>block168_humanTokenInput</dataInputRefs>
        <dataInputRefs>block168_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block168_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block168_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block168_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block168_instanceIdInput</dataInputRefs>
        <dataInputRefs>block168_destinatariInput</dataInputRefs>
        <dataInputRefs>block168_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block168_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block168_modificaInput</dataInputRefs>
        <dataInputRefs>block168_urlDocerInput</dataInputRefs>
        <dataInputRefs>block168_outcomeInput</dataInputRefs>
        <dataInputRefs>block168_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block168_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block168_mittenteInput</dataInputRefs>
        <dataInputRefs>block168_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block168_systemTokenInput</dataInputRefs>
        <dataInputRefs>block168_mittentiInput</dataInputRefs>
        <dataInputRefs>block168_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block168_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block168_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block168_creazioneInput</dataInputRefs>
        <dataInputRefs>block168_invioInput</dataInputRefs>
        <dataInputRefs>block168_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block168_descrizioneInput</dataInputRefs>
        <dataInputRefs>block168___ckValueInput</dataInputRefs>
        <dataInputRefs>block168_firmatariInput</dataInputRefs>
        <dataInputRefs>block168_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block168_template_principaleInput</dataInputRefs>
        <dataInputRefs>block168_canalePECInput</dataInputRefs>
        <dataInputRefs>block168_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block168_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block168_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block168_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block168_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block168_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block168_nameInput</dataInputRefs>
        <dataInputRefs>block168_descriptionInput</dataInputRefs>
        <dataInputRefs>block168_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block168_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraIrrecivibilita]]></sourceRef>
        <targetRef>block168_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block168_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block168_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Gentile Sig. "+destinatari.get(0).IndirizzoTelematico+" con la presente e-mail vogliamo comunicarLe i motivi di irrecivibilia'";]]></sourceRef>
        <targetRef>block168_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block168_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block168_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi irrecivibilita' ";]]></sourceRef>
        <targetRef>block168_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block168_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block168_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaIrrecivibilita]]></sourceRef>
        <targetRef>block168_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraIrrecivibilita]]></sourceRef>
        <targetRef>block168_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block168_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block168_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block168_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi irricevibilita' ";]]></sourceRef>
        <targetRef>block168_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block168_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block168_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Procotollazione comunicazione motivi irricevibilita";]]></sourceRef>
        <targetRef>block168_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi irricevibilita' ";]]></sourceRef>
        <targetRef>block168_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block168_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneIrrecivibilita]]></sourceRef>
        <targetRef>block168_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block168_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block168_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block168_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneIrrecivibilita]]></sourceRef>
        <targetRef>block168_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block168_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block168_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block168_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block168_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi irricevibilita' ";]]></sourceRef>
        <targetRef>block168_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariIrrecivibilita]]></sourceRef>
        <targetRef>block168_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block168_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block168_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block168_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block168_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[doc_irricevibilita.DOCNUM;]]></sourceRef>
        <targetRef>block168_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneIrrecivibilita]]></sourceRef>
        <targetRef>block168_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block168_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraIrrecivibilita]]></sourceRef>
        <targetRef>block168_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block168_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block168_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera comunicazione motivo irricevibilita']]></from>
            <to xsi:type="tFormalExpression">block168_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block168_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block168_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block168_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block168_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block168_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_comunicazioneIrricevibilita</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block202" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<inclusiveGateway id="block259" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>

<callActivity id="block182" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera richiesta pareri e allegati con invio multiplo" calledElementByName="Filiera Dedicata Istanza di Parte1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block182_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block182_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block182_versioningInput" name="versioning" />
    <dataInput id="block182_proto_autoInput" name="proto_auto" />
    <dataInput id="block182_messaggioInput" name="messaggio" />
    <dataInput id="block182_instanceNameInput" name="instanceName" />
    <dataInput id="block182_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block182_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block182_oggettoInput" name="oggetto" />
    <dataInput id="block182_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block182_humanTokenInput" name="humanToken" />
    <dataInput id="block182_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block182_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block182_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block182_instanceIdInput" name="instanceId" />
    <dataInput id="block182_destinatariInput" name="destinatari" />
    <dataInput id="block182_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block182_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block182_urlDocerInput" name="urlDocer" />
    <dataInput id="block182_outcomeInput" name="outcome" />
    <dataInput id="block182_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block182_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block182_mittenteInput" name="mittente" />
    <dataInput id="block182_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block182_systemTokenInput" name="systemToken" />
    <dataInput id="block182_mittentiInput" name="mittenti" />
    <dataInput id="block182_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block182_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block182_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block182_invioInput" name="invio" />
    <dataInput id="block182_creazioneInput" name="creazione" />
    <dataInput id="block182_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block182_descrizioneInput" name="descrizione" />
    <dataInput id="block182___ckValueInput" name="__ckValue" />
    <dataInput id="block182_firmatariInput" name="firmatari" />
    <dataInput id="block182_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block182_template_principaleInput" name="template_principale" />
    <dataInput id="block182_canalePECInput" name="canalePEC" />
    <dataInput id="block182_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block182_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block182_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block182_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block182_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block182_assegnazioneInput" name="assegnazione" />
    <dataInput id="block182_nameInput" name="name" />
    <dataInput id="block182_descriptionInput" name="description" />
    <dataInput id="block182_processNameInput" name="processName" />
    <dataOutput id="block182_destinatariOutput" name="destinatari" />
    <dataOutput id="block182_countDestinatariOutput" name="countDestinatari" />
    <dataOutput id="block182_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block182_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block182_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block182_versioningInput</dataInputRefs>
        <dataInputRefs>block182_proto_autoInput</dataInputRefs>
        <dataInputRefs>block182_messaggioInput</dataInputRefs>
        <dataInputRefs>block182_instanceNameInput</dataInputRefs>
        <dataInputRefs>block182_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block182_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block182_oggettoInput</dataInputRefs>
        <dataInputRefs>block182_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block182_humanTokenInput</dataInputRefs>
        <dataInputRefs>block182_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block182_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block182_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block182_instanceIdInput</dataInputRefs>
        <dataInputRefs>block182_destinatariInput</dataInputRefs>
        <dataInputRefs>block182_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block182_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block182_urlDocerInput</dataInputRefs>
        <dataInputRefs>block182_outcomeInput</dataInputRefs>
        <dataInputRefs>block182_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block182_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block182_mittenteInput</dataInputRefs>
        <dataInputRefs>block182_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block182_systemTokenInput</dataInputRefs>
        <dataInputRefs>block182_mittentiInput</dataInputRefs>
        <dataInputRefs>block182_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block182_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block182_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block182_invioInput</dataInputRefs>
        <dataInputRefs>block182_creazioneInput</dataInputRefs>
        <dataInputRefs>block182_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block182_descrizioneInput</dataInputRefs>
        <dataInputRefs>block182___ckValueInput</dataInputRefs>
        <dataInputRefs>block182_firmatariInput</dataInputRefs>
        <dataInputRefs>block182_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block182_template_principaleInput</dataInputRefs>
        <dataInputRefs>block182_canalePECInput</dataInputRefs>
        <dataInputRefs>block182_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block182_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block182_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block182_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block182_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block182_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block182_nameInput</dataInputRefs>
        <dataInputRefs>block182_descriptionInput</dataInputRefs>
        <dataInputRefs>block182_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block182_destinatariOutput</dataOutputRefs>
        <dataOutputRefs>block182_countDestinatariOutput</dataOutputRefs>
        <dataOutputRefs>block182_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraPareriEsterni]]></sourceRef>
        <targetRef>block182_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block182_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block182_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block182_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Si richiedono pareri per il procedimento "+titoloProcedimento+" come da documenti in allegato."; ]]></sourceRef>
        <targetRef>block182_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block182_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Richiesta pareri "+descrizioneProcesso+" ["+ck1+"---"+ck2+"]";]]></sourceRef>
        <targetRef>block182_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block182_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaPareriEsterni]]></sourceRef>
        <targetRef>block182_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_InvioPareriEsterni]]></sourceRef>
        <targetRef>block182_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: script -->
        <sourceRef><![CDATA["Invio documenti pareri esterni";]]></sourceRef>
        <targetRef>block182_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari_pareri_esterni]]></sourceRef>
        <targetRef>block182_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block182_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Richiesta pareri e allegati";]]></sourceRef>
        <targetRef>block182_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block182_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione Uscita pareri e allegati";]]></sourceRef>
        <targetRef>block182_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firmare la richiesta pareri e allegati";]]></sourceRef>
        <targetRef>block182_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block182_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazionePareriEsterni]]></sourceRef>
        <targetRef>block182_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block182_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block182_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block182_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazionePareriEsterni]]></sourceRef>
        <targetRef>block182_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block182_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: textRef -->
        <sourceRef><![CDATA[invio]]></sourceRef>
        <targetRef>block182_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block182_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block182_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera richiesta pareri esterni";]]></sourceRef>
        <targetRef>block182_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[ck]]></sourceRef>
        <targetRef>block182___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariPareriEsterni]]></sourceRef>
        <targetRef>block182_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block182_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block182_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block182_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block182_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazionePareriEsterni]]></sourceRef>
        <targetRef>block182_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block182_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraPareriEsterni]]></sourceRef>
        <targetRef>block182_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione2]]></sourceRef>
        <targetRef>block182_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block182_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera richiesta pareri e allegati con invio multiplo]]></from>
            <to xsi:type="tFormalExpression">block182_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block182_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block182_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block182_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera Dedicata Istanza di Parte1.0]]></from>
            <to xsi:type="tFormalExpression">block182_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block182_destinatariOutput</sourceRef>
        <targetRef>destinatari_pareri_esterni</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block182_countDestinatariOutput</sourceRef>
        <targetRef>countDestinatari</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block182_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_pareri_esterni</targetRef>
</dataOutputAssociation>
    
</callActivity>





<callActivity id="block492" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione note Conclusive" calledElementByName="AMD_RedazioneUD3.3" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=figura_professionale_procedimento;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
template_principale=docNonInvio;
creazione="template";
docnum_principale="";;
mittente=mittente_notifica;
variabili_template_principale=variabiliTemplateDocNonInvio;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;
tipo_template="html";
template_principale_html=templatedocnonInvioHTML;

            docNonInvio.DOCNAME="Note Conclusive_"+".pdf";
            
//[auto-insert]
//docNonInvio
kcontext.setVariable("docNonInvio",null);
kcontext.setVariable("docNonInvio",docNonInvio);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block492_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block492_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block492_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block492_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block492_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block492_humanTokenInput" name="humanToken" />
    <dataInput id="block492_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block492_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block492_template_allegatiInput" name="template_allegati" />
    <dataInput id="block492_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block492_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block492_modificaInput" name="modifica" />
    <dataInput id="block492_lanesInput" name="lanes" />
    <dataInput id="block492_mittenteInput" name="mittente" />
    <dataInput id="block492_tipo_templateInput" name="tipo_template" />
    <dataInput id="block492_systemTokenInput" name="systemToken" />
    <dataInput id="block492_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block492_template_annessiInput" name="template_annessi" />
    <dataInput id="block492_creazioneInput" name="creazione" />
    <dataInput id="block492_descrizioneInput" name="descrizione" />
    <dataInput id="block492_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block492_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block492_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block492_template_principaleInput" name="template_principale" />
    <dataInput id="block492_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block492_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block492_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block492_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block492_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block492_userInput" name="user" />
    <dataInput id="block492_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block492_commitInput" name="commit" />
    <dataOutput id="block492_principaleOutput" name="principale" />
    <dataOutput id="block492_lanesOutput" name="lanes" />
    <dataOutput id="block492_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block492_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block492_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block492_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block492_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block492_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block492_humanTokenInput</dataInputRefs>
        <dataInputRefs>block492_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block492_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block492_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block492_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block492_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block492_modificaInput</dataInputRefs>
        <dataInputRefs>block492_lanesInput</dataInputRefs>
        <dataInputRefs>block492_mittenteInput</dataInputRefs>
        <dataInputRefs>block492_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block492_systemTokenInput</dataInputRefs>
        <dataInputRefs>block492_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block492_template_annessiInput</dataInputRefs>
        <dataInputRefs>block492_creazioneInput</dataInputRefs>
        <dataInputRefs>block492_descrizioneInput</dataInputRefs>
        <dataInputRefs>block492_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block492_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block492_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block492_template_principaleInput</dataInputRefs>
        <dataInputRefs>block492_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block492_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block492_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block492_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block492_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block492_userInput</dataInputRefs>
        <dataInputRefs>block492_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block492_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block492_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block492_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block492_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block492_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block492_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block492_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block492_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block492_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block492_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block492_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: script -->
        <sourceRef><![CDATA["html"]]></sourceRef>
        <targetRef>block492_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block492_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[templatedocnonInvioHTML]]></sourceRef>
        <targetRef>block492_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["template"]]></sourceRef>
        <targetRef>block492_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block492_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[docNonInvio]]></sourceRef>
        <targetRef>block492_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block492_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block492_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[variabiliTemplateDocNonInvio]]></sourceRef>
        <targetRef>block492_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block492_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block492_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block492_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block492_principaleOutput</sourceRef>
        <targetRef>docNonInvio</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block492_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block492_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161197" sourceRef="block443" targetRef="block445">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block73" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<task id="block314" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block314_AccountInput" name="account" />
        <dataInput id="block314_TempfolderInput" name="tempfolder" />
        <dataInput id="block314_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block314_UserTokenInput" name="userToken" />


        <dataInput id="block314_urlBrokerInput" name="urlBroker" />
        <dataInput id="block314_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block314_incaricatoInput" name="incaricato" />
        <dataInput id="block314_codaInput" name="coda" />
        <dataInput id="block314_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block314_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block314_messageInput" name="message" />
        <dataInput id="block314_idUserInput" name="idUser" />
        <dataInput id="block314_idProcessoInput" name="idProcesso" />
        <dataInput id="block314_userTokenInput" name="userToken" />
        <dataInput id="block314_esitoInput" name="esito" />
        <dataInput id="block314_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block314_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block314_pwdInput" name="pwd" />
        <dataInput id="block314_correlationKeyInput" name="correlationKey" />
        <dataInput id="block314_userInput" name="user" />

        <dataOutput id="block314_UserTokenOutput" name="userToken" />
        <dataOutput id="block314_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block314_AccountInput</dataInputRefs>
            <dataInputRefs>block314_TempfolderInput</dataInputRefs>
            <dataInputRefs>block314_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block314_UserTokenInput</dataInputRefs>
            <dataInputRefs>block314_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block314_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block314_incaricatoInput</dataInputRefs>
            <dataInputRefs>block314_codaInput</dataInputRefs>
            <dataInputRefs>block314_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block314_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block314_messageInput</dataInputRefs>
            <dataInputRefs>block314_idUserInput</dataInputRefs>
            <dataInputRefs>block314_idProcessoInput</dataInputRefs>
            <dataInputRefs>block314_userTokenInput</dataInputRefs>
            <dataInputRefs>block314_esitoInput</dataInputRefs>
            <dataInputRefs>block314_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block314_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block314_pwdInput</dataInputRefs>
            <dataInputRefs>block314_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block314_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block314_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block314_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block314_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block314_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block314_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block314_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentiIntegrazione</sourceRef>
                <targetRef>block314_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"richiestaIntegrazione";</sourceRef>
                <targetRef>block314_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>messagePortale</sourceRef>
                <targetRef>block314_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block314_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block314_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>systemToken</sourceRef>
                <targetRef>block314_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block314_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block314_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block314_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block314_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block314_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block314_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block314_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<inclusiveGateway id="block206" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160153" sourceRef="block18" targetRef="block33">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="positivo"]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block71" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160891" sourceRef="block407" targetRef="block409">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<exclusiveGateway id="block439" name="gateway-exclusive" gatewayDirection="Diverging"></exclusiveGateway>

<inclusiveGateway id="block69" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160459" sourceRef="block312" targetRef="block290">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block412" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block412_TaskNameInput" name="TaskName" />
        <dataInput id="block412_GroupIdInput" name="GroupId" />
        <dataInput id="block412_Operation" name="operation" />

            <dataInput id="block412_userTokenInput" name="userToken" />
            <dataInput id="block412_documentInput" name="document" />
        
            <dataOutput id="block412_userTokenOutput" name="userToken" />
            <dataOutput id="block412_annessiOutput" name="annessi" />
            <dataOutput id="block412_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block412_allegatiOutput" name="allegati" />
            <dataOutput id="block412_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block412_TaskNameInput</dataInputRefs>
            <dataInputRefs>block412_GroupIdInput</dataInputRefs>
            <dataInputRefs>block412_Operation</dataInputRefs>
                <dataInputRefs>block412_userTokenInput</dataInputRefs>
                <dataInputRefs>block412_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block412_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block412_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block412_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block412_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block412_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block412_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioniRicevuto</sourceRef>
                            <targetRef>block412_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block412_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block412_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block412_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block412_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block412_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block412_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block412_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block412_annessiOutput</sourceRef>
                            <targetRef>annessiIntegrazioniRicevuto</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block412_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block412_allegatiOutput</sourceRef>
                            <targetRef>allegatiIntegrazioniRicevuto</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block412_documentOutput</sourceRef>
                            <targetRef>doc_richiestaIntegrazioniRicevuto</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>


<callActivity id="block332" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block332_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block332_descrizioneInput" name="descrizione" />
    <dataInput id="block332_instanceIdInput" name="instanceId" />
    <dataInput id="block332_instanceNameInput" name="instanceName" />
    <dataInput id="block332_systemTokenInput" name="systemToken" />
    <dataInput id="block332_principaleInput" name="principale" />
    <dataInput id="block332_canalePECInput" name="canalePEC" />
    <dataInput id="block332_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block332_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block332_outcomeInput" name="outcome" />
    <dataInput id="block332_humanTokenInput" name="humanToken" />
    <dataInput id="block332_nameInput" name="name" />
    <dataInput id="block332_descriptionInput" name="description" />
    <dataInput id="block332_processNameInput" name="processName" />
    <dataOutput id="block332_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block332_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block332_descrizioneInput</dataInputRefs>
        <dataInputRefs>block332_instanceIdInput</dataInputRefs>
        <dataInputRefs>block332_instanceNameInput</dataInputRefs>
        <dataInputRefs>block332_systemTokenInput</dataInputRefs>
        <dataInputRefs>block332_principaleInput</dataInputRefs>
        <dataInputRefs>block332_canalePECInput</dataInputRefs>
        <dataInputRefs>block332_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block332_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block332_outcomeInput</dataInputRefs>
        <dataInputRefs>block332_humanTokenInput</dataInputRefs>
        <dataInputRefs>block332_nameInput</dataInputRefs>
        <dataInputRefs>block332_descriptionInput</dataInputRefs>
        <dataInputRefs>block332_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block332_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block332_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block332_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per portale";]]></sourceRef>
        <targetRef>block332_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block332_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block332_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block332_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_documentoFinale]]></sourceRef>
        <targetRef>block332_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block332_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block332_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block332_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block332_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block332_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block332_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block332_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block332_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block332_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block332_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block332_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block332_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block332_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block332_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block332_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161083" sourceRef="block13" targetRef="block429">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161629" sourceRef="block64" targetRef="block498">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_finale=="positivo"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block333" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block333_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block333_descrizioneInput" name="descrizione" />
    <dataInput id="block333_instanceIdInput" name="instanceId" />
    <dataInput id="block333_instanceNameInput" name="instanceName" />
    <dataInput id="block333_systemTokenInput" name="systemToken" />
    <dataInput id="block333_principaleInput" name="principale" />
    <dataInput id="block333_canalePECInput" name="canalePEC" />
    <dataInput id="block333_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block333_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block333_outcomeInput" name="outcome" />
    <dataInput id="block333_humanTokenInput" name="humanToken" />
    <dataInput id="block333_nameInput" name="name" />
    <dataInput id="block333_descriptionInput" name="description" />
    <dataInput id="block333_processNameInput" name="processName" />
    <dataOutput id="block333_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block333_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block333_descrizioneInput</dataInputRefs>
        <dataInputRefs>block333_instanceIdInput</dataInputRefs>
        <dataInputRefs>block333_instanceNameInput</dataInputRefs>
        <dataInputRefs>block333_systemTokenInput</dataInputRefs>
        <dataInputRefs>block333_principaleInput</dataInputRefs>
        <dataInputRefs>block333_canalePECInput</dataInputRefs>
        <dataInputRefs>block333_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block333_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block333_outcomeInput</dataInputRefs>
        <dataInputRefs>block333_humanTokenInput</dataInputRefs>
        <dataInputRefs>block333_nameInput</dataInputRefs>
        <dataInputRefs>block333_descriptionInput</dataInputRefs>
        <dataInputRefs>block333_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block333_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block333_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block333_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per il portale";]]></sourceRef>
        <targetRef>block333_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block333_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block333_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block333_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_comunicazioneDiniego]]></sourceRef>
        <targetRef>block333_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block333_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block333_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block333_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block333_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block333_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block333_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block333_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block333_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block333_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block333_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block333_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block333_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block333_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block333_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block333_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block150" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<scriptTask id="block112" scriptFormat="http://www.mvel.org/2.0" name="Impostare conclusione procedimento per concludere ciclo silenzio assenso" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160609" sourceRef="block269" targetRef="block275">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[UO_smistamento!=""]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block200" scriptFormat="http://www.mvel.org/2.0" name="Script-task  gestione data scadenza richiesta integrazioni" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

gc=java.util.GregorianCalendar.getInstance();
gc.add(java.util.GregorianCalendar.DAY_OF_MONTH, tempo_attesa_integrazioni);
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat(formatoISO8601);
data_scadenza_integrazioni=fm2.format(gc.getTime());

interruzioneProcedimento="si";
gc2=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm = new java.text.SimpleDateFormat("dd-MM-yyyy");
data_interruzioneProcedimento=fm.format(gc2.getTime());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("data_scadenza_integrazioni",null);
kcontext.setVariable("data_scadenza_integrazioni",data_scadenza_integrazioni);
kcontext.setVariable("interruzioneProcedimento",null);
kcontext.setVariable("interruzioneProcedimento",interruzioneProcedimento);
kcontext.setVariable("data_interruzioneProcedimento",null);
kcontext.setVariable("data_interruzioneProcedimento",data_interruzioneProcedimento);

        ]]>
    </script>
</scriptTask>



<task id="block337" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block337_AccountInput" name="account" />
        <dataInput id="block337_TempfolderInput" name="tempfolder" />
        <dataInput id="block337_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block337_UserTokenInput" name="userToken" />


        <dataInput id="block337_urlBrokerInput" name="urlBroker" />
        <dataInput id="block337_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block337_incaricatoInput" name="incaricato" />
        <dataInput id="block337_codaInput" name="coda" />
        <dataInput id="block337_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block337_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block337_messageInput" name="message" />
        <dataInput id="block337_idUserInput" name="idUser" />
        <dataInput id="block337_idProcessoInput" name="idProcesso" />
        <dataInput id="block337_userTokenInput" name="userToken" />
        <dataInput id="block337_esitoInput" name="esito" />
        <dataInput id="block337_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block337_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block337_pwdInput" name="pwd" />
        <dataInput id="block337_correlationKeyInput" name="correlationKey" />
        <dataInput id="block337_userInput" name="user" />

        <dataOutput id="block337_UserTokenOutput" name="userToken" />
        <dataOutput id="block337_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block337_AccountInput</dataInputRefs>
            <dataInputRefs>block337_TempfolderInput</dataInputRefs>
            <dataInputRefs>block337_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block337_UserTokenInput</dataInputRefs>
            <dataInputRefs>block337_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block337_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block337_incaricatoInput</dataInputRefs>
            <dataInputRefs>block337_codaInput</dataInputRefs>
            <dataInputRefs>block337_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block337_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block337_messageInput</dataInputRefs>
            <dataInputRefs>block337_idUserInput</dataInputRefs>
            <dataInputRefs>block337_idProcessoInput</dataInputRefs>
            <dataInputRefs>block337_userTokenInput</dataInputRefs>
            <dataInputRefs>block337_esitoInput</dataInputRefs>
            <dataInputRefs>block337_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block337_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block337_pwdInput</dataInputRefs>
            <dataInputRefs>block337_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block337_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block337_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block337_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block337_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block337_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block337_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block337_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>documentiRicevutiOstativi</sourceRef>
                <targetRef>block337_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"notifica";</sourceRef>
                <targetRef>block337_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Protocollazione documenti ricevuti relativi ai motivi ostativi";</sourceRef>
                <targetRef>block337_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block337_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block337_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block337_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block337_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block337_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block337_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block337_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block337_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block337_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block337_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<scriptTask id="block503" scriptFormat="http://www.mvel.org/2.0" name="Imposta linkFascicolo" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

_tmp0_ = "";
if(fasc_proc.CLASSIFICA!=null){
_tmp0_ = "/AppDoc/view?sid="+fasc_proc.CLASSIFICA+"|"+fasc_proc.ANNO_FASCICOLO+"|"+fasc_proc.PROGR_FASCICOLO;
}

/**************  end user script  ***************/

//[auto-insert]
//_tmp0_, _tmp0_, fasc_proc, fasc_proc
kcontext.setVariable("_tmp0_",null);
kcontext.setVariable("_tmp0_",_tmp0_);
kcontext.setVariable("_tmp0_",null);
kcontext.setVariable("_tmp0_",_tmp0_);
kcontext.setVariable("fasc_proc",null);
kcontext.setVariable("fasc_proc",fasc_proc);
kcontext.setVariable("fasc_proc",null);
kcontext.setVariable("fasc_proc",fasc_proc);



        ]]>
    </script>
</scriptTask>



<scriptTask id="block196" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraComunicazioneDiniego;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block220" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<scriptTask id="block497" scriptFormat="http://www.mvel.org/2.0" name="Gestione lista uo pareri interni" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

String[] pareri=uo_pareri_selezionate.split(",");
			java.lang.String currentP = null;	
			foreach(currentP : pareri){
					System.out.println("currentP");
					System.out.println(currentP);
	               if(!currentP.equals("")){
				 		uo_pareri_interni.add(currentP);
				   }
            }
			System.out.print("uo_pareri_interni");
			System.out.println(uo_pareri_interni.toString());
			System.out.print("-------------");

/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160315" sourceRef="block234" targetRef="block212">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160681" sourceRef="block46" targetRef="block47">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160285" sourceRef="block193" targetRef="block217">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161617" sourceRef="block497" targetRef="block496">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block176" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160861" sourceRef="block386" targetRef="block396">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160231" sourceRef="block69" targetRef="block190">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[provvedimento_finale=="si"]]>
    </conditionExpression>
</sequenceFlow>

<task id="block318" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block318_AccountInput" name="account" />
        <dataInput id="block318_TempfolderInput" name="tempfolder" />
        <dataInput id="block318_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block318_UserTokenInput" name="userToken" />


        <dataInput id="block318_urlBrokerInput" name="urlBroker" />
        <dataInput id="block318_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block318_incaricatoInput" name="incaricato" />
        <dataInput id="block318_codaInput" name="coda" />
        <dataInput id="block318_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block318_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block318_messageInput" name="message" />
        <dataInput id="block318_idUserInput" name="idUser" />
        <dataInput id="block318_idProcessoInput" name="idProcesso" />
        <dataInput id="block318_userTokenInput" name="userToken" />
        <dataInput id="block318_esitoInput" name="esito" />
        <dataInput id="block318_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block318_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block318_pwdInput" name="pwd" />
        <dataInput id="block318_correlationKeyInput" name="correlationKey" />
        <dataInput id="block318_userInput" name="user" />

        <dataOutput id="block318_UserTokenOutput" name="userToken" />
        <dataOutput id="block318_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block318_AccountInput</dataInputRefs>
            <dataInputRefs>block318_TempfolderInput</dataInputRefs>
            <dataInputRefs>block318_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block318_UserTokenInput</dataInputRefs>
            <dataInputRefs>block318_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block318_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block318_incaricatoInput</dataInputRefs>
            <dataInputRefs>block318_codaInput</dataInputRefs>
            <dataInputRefs>block318_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block318_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block318_messageInput</dataInputRefs>
            <dataInputRefs>block318_idUserInput</dataInputRefs>
            <dataInputRefs>block318_idProcessoInput</dataInputRefs>
            <dataInputRefs>block318_userTokenInput</dataInputRefs>
            <dataInputRefs>block318_esitoInput</dataInputRefs>
            <dataInputRefs>block318_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block318_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block318_pwdInput</dataInputRefs>
            <dataInputRefs>block318_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block318_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block318_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block318_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block318_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block318_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block318_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block318_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocComunicazionIrrecivibilita</sourceRef>
                <targetRef>block318_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block318_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block318_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block318_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block318_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block318_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"NEGATIVE";</sourceRef>
                <targetRef>block318_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block318_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block318_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block318_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block318_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block318_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block318_esitoOutput</sourceRef>
                <targetRef></targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160579" sourceRef="block318" targetRef="block112">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160129" sourceRef="block71" targetRef="block73">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[invio_documenti=="si"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block324" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block324_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block324_descrizioneInput" name="descrizione" />
    <dataInput id="block324_instanceIdInput" name="instanceId" />
    <dataInput id="block324_instanceNameInput" name="instanceName" />
    <dataInput id="block324_systemTokenInput" name="systemToken" />
    <dataInput id="block324_principaleInput" name="principale" />
    <dataInput id="block324_canalePECInput" name="canalePEC" />
    <dataInput id="block324_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block324_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block324_outcomeInput" name="outcome" />
    <dataInput id="block324_humanTokenInput" name="humanToken" />
    <dataInput id="block324_nameInput" name="name" />
    <dataInput id="block324_descriptionInput" name="description" />
    <dataInput id="block324_processNameInput" name="processName" />
    <dataOutput id="block324_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block324_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block324_descrizioneInput</dataInputRefs>
        <dataInputRefs>block324_instanceIdInput</dataInputRefs>
        <dataInputRefs>block324_instanceNameInput</dataInputRefs>
        <dataInputRefs>block324_systemTokenInput</dataInputRefs>
        <dataInputRefs>block324_principaleInput</dataInputRefs>
        <dataInputRefs>block324_canalePECInput</dataInputRefs>
        <dataInputRefs>block324_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block324_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block324_outcomeInput</dataInputRefs>
        <dataInputRefs>block324_humanTokenInput</dataInputRefs>
        <dataInputRefs>block324_nameInput</dataInputRefs>
        <dataInputRefs>block324_descriptionInput</dataInputRefs>
        <dataInputRefs>block324_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block324_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block324_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block324_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per portale";]]></sourceRef>
        <targetRef>block324_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block324_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block324_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block324_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[letteraProvvNegativo]]></sourceRef>
        <targetRef>block324_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block324_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block324_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block324_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block324_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block324_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block324_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block324_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block324_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block324_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block324_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block324_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block324_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block324_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block324_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block324_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161011" sourceRef="block335" targetRef="block206">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161485" sourceRef="block248" targetRef="block491">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161647" sourceRef="block475" targetRef="block501">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160927" sourceRef="block125" targetRef="block414">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160633" sourceRef="block346" targetRef="block18">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block180" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione e set variabili template e gestione ck" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraIrrecivibilita;
variabiliTemplateIrricevibile=varabiliTemplateIrricevibile;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

java.util.HashMap tplVar=new java.util.HashMap();
varabiliTemplateIrricevibile.put("note", motivo_irrecivibilita);
varabiliTemplateIrricevibile.put("titoloprocedimento", titoloProcedimento);
	varabiliTemplateIrricevibile.put("numeroprotocollo", documentoProtocollato.NUM_PG);
	varabiliTemplateIrricevibile.put("annoprotocollo", documentoProtocollato.ANNO_PG);

//variabiliTemplateIrricevibile=tplVar;

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);
kcontext.setVariable("varabiliTemplateIrricevibile",null);
kcontext.setVariable("varabiliTemplateIrricevibile",variabiliTemplateIrricevibile);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160873" sourceRef="block404" targetRef="block399">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block359" scriptFormat="http://www.mvel.org/2.0" name="Set esito portale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

esito_portale="NEGATIVE";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("esito_portale",null);
kcontext.setVariable("esito_portale",esito_portale);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161245" sourceRef="block67" targetRef="block359">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block173" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera comunicazione motivi ostativi" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block173_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block173_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block173_versioningInput" name="versioning" />
    <dataInput id="block173_messaggioInput" name="messaggio" />
    <dataInput id="block173_proto_autoInput" name="proto_auto" />
    <dataInput id="block173_instanceNameInput" name="instanceName" />
    <dataInput id="block173_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block173_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block173_oggettoInput" name="oggetto" />
    <dataInput id="block173_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block173_humanTokenInput" name="humanToken" />
    <dataInput id="block173_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block173_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block173_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block173_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block173_instanceIdInput" name="instanceId" />
    <dataInput id="block173_destinatariInput" name="destinatari" />
    <dataInput id="block173_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block173_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block173_urlDocerInput" name="urlDocer" />
    <dataInput id="block173_outcomeInput" name="outcome" />
    <dataInput id="block173_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block173_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block173_mittenteInput" name="mittente" />
    <dataInput id="block173_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block173_systemTokenInput" name="systemToken" />
    <dataInput id="block173_mittentiInput" name="mittenti" />
    <dataInput id="block173_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block173_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block173_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block173_creazioneInput" name="creazione" />
    <dataInput id="block173_invioInput" name="invio" />
    <dataInput id="block173_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block173_descrizioneInput" name="descrizione" />
    <dataInput id="block173___ckValueInput" name="__ckValue" />
    <dataInput id="block173_firmatariInput" name="firmatari" />
    <dataInput id="block173_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block173_template_principaleInput" name="template_principale" />
    <dataInput id="block173_canalePECInput" name="canalePEC" />
    <dataInput id="block173_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block173_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block173_tipoOperazioneInput" name="tipoOperazione" />
    <dataInput id="block173_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block173_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block173_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block173_assegnazioneInput" name="assegnazione" />
    <dataInput id="block173_nameInput" name="name" />
    <dataInput id="block173_descriptionInput" name="description" />
    <dataInput id="block173_processNameInput" name="processName" />
    <dataOutput id="block173_messagePortaleOutput" name="messagePortale" />
    <dataOutput id="block173_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block173_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block173_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block173_versioningInput</dataInputRefs>
        <dataInputRefs>block173_messaggioInput</dataInputRefs>
        <dataInputRefs>block173_proto_autoInput</dataInputRefs>
        <dataInputRefs>block173_instanceNameInput</dataInputRefs>
        <dataInputRefs>block173_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block173_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block173_oggettoInput</dataInputRefs>
        <dataInputRefs>block173_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block173_humanTokenInput</dataInputRefs>
        <dataInputRefs>block173_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block173_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block173_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block173_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block173_instanceIdInput</dataInputRefs>
        <dataInputRefs>block173_destinatariInput</dataInputRefs>
        <dataInputRefs>block173_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block173_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block173_urlDocerInput</dataInputRefs>
        <dataInputRefs>block173_outcomeInput</dataInputRefs>
        <dataInputRefs>block173_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block173_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block173_mittenteInput</dataInputRefs>
        <dataInputRefs>block173_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block173_systemTokenInput</dataInputRefs>
        <dataInputRefs>block173_mittentiInput</dataInputRefs>
        <dataInputRefs>block173_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block173_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block173_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block173_creazioneInput</dataInputRefs>
        <dataInputRefs>block173_invioInput</dataInputRefs>
        <dataInputRefs>block173_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block173_descrizioneInput</dataInputRefs>
        <dataInputRefs>block173___ckValueInput</dataInputRefs>
        <dataInputRefs>block173_firmatariInput</dataInputRefs>
        <dataInputRefs>block173_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block173_template_principaleInput</dataInputRefs>
        <dataInputRefs>block173_canalePECInput</dataInputRefs>
        <dataInputRefs>block173_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block173_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block173_tipoOperazioneInput</dataInputRefs>
        <dataInputRefs>block173_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block173_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block173_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block173_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block173_nameInput</dataInputRefs>
        <dataInputRefs>block173_descriptionInput</dataInputRefs>
        <dataInputRefs>block173_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block173_messagePortaleOutput</dataOutputRefs>
        <dataOutputRefs>block173_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraMotiviOstativi]]></sourceRef>
        <targetRef>block173_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block173_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block173_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Le inviamo la comunicazione per i motivi ostativi";]]></sourceRef>
        <targetRef>block173_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block173_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block173_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Comunicazioni motivi ostativi";]]></sourceRef>
        <targetRef>block173_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block173_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaMotiviOstativi]]></sourceRef>
        <targetRef>block173_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraMotiviOstativi]]></sourceRef>
        <targetRef>block173_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block173_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block173_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block173_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi ostativi";]]></sourceRef>
        <targetRef>block173_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block173_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione comunicazione motivi ostativi";]]></sourceRef>
        <targetRef>block173_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi ostativi";]]></sourceRef>
        <targetRef>block173_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block173_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneMotiviOstativi]]></sourceRef>
        <targetRef>block173_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block173_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block173_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block173_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneMotiviOstativi]]></sourceRef>
        <targetRef>block173_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block173_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block173_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block173_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block173_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Comunicazione motivi ostativi";]]></sourceRef>
        <targetRef>block173_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[ck]]></sourceRef>
        <targetRef>block173___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariMotiviOstativi]]></sourceRef>
        <targetRef>block173_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block173_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block173_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block173_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block173_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipoOperazione var type: script -->
        <sourceRef><![CDATA["richiestaIntegrazioni";]]></sourceRef>
        <targetRef>block173_tipoOperazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneMotiviOstativi]]></sourceRef>
        <targetRef>block173_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block173_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraMotiviOstativi]]></sourceRef>
        <targetRef>block173_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block173_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block173_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera comunicazione motivi ostativi]]></from>
            <to xsi:type="tFormalExpression">block173_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block173_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block173_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block173_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block173_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block173_messagePortaleOutput</sourceRef>
        <targetRef>messagePortale</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block173_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_motiviOstativi</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161059" sourceRef="block425" targetRef="block426">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[rest==""]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block460" scriptFormat="http://www.mvel.org/2.0" name="Gestione interruzione e calcolo scadenza procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

interruzioneProcedimento="no";

gc=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm2 =new java.text.SimpleDateFormat("dd-MM-yyyy");


java.util.Date oggi = gc.getTime();
java.util.Date data_interruzione = fm2.parse(data_interruzioneProcedimento); 

java.lang.Long millisecondiFraDueDate = oggi.getTime() - data_interruzione.getTime();

java.lang.Float diff=millisecondiFraDueDate/86400000;
int giorniInterruzione= diff.intValue();

gc2=java.util.GregorianCalendar.getInstance();
gc2.setTime(fm2.parse(dataSilenzioAssenso));
gc2.add(java.util.GregorianCalendar.DAY_OF_MONTH, giorniInterruzione);

dataSilenzioAssenso=fm2.format(gc2.getTime());

System.out.println("la nuova data silenzioAssenso e': " +dataSilenzioAssenso);



System.out.println("se la data di avvio non  vuota, allora incremento anche la data di avvio");

if(data_invio_comunicazione_avvio!=""){
gc3=java.util.GregorianCalendar.getInstance();
gc3.setTime(fm2.parse(data_invio_comunicazione_avvio));
gc3.add(java.util.GregorianCalendar.DAY_OF_MONTH, giorniInterruzione);
data_invio_comunicazione_avvio=fm2.format(gc3.getTime());

System.out.println("la data invio_comunicazione  stata incrementata e': " +data_invio_comunicazione_avvio);
}

/**************  end user script  ***************/

//[auto-insert]
//interruzioneProcedimento, dataSilenzioAssenso, data_invio_comunicazione_avvio
kcontext.setVariable("interruzioneProcedimento",null);
kcontext.setVariable("interruzioneProcedimento",interruzioneProcedimento);
kcontext.setVariable("dataSilenzioAssenso",null);
kcontext.setVariable("dataSilenzioAssenso",dataSilenzioAssenso);
kcontext.setVariable("data_invio_comunicazione_avvio",null);
kcontext.setVariable("data_invio_comunicazione_avvio",data_invio_comunicazione_avvio);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161395" sourceRef="block411" targetRef="block482">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161509" sourceRef="block493" targetRef="block64">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161029" sourceRef="block206" targetRef="block412">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="ricevuti_positivi"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160243" sourceRef="block73" targetRef="block192">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[azione_finale=="crea_doc"]]>
    </conditionExpression>
</sequenceFlow>

<task id="block311" name="CreateDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block311_TaskNameInput" name="TaskName" />
        <dataInput id="block311_GroupIdInput" name="GroupId" />
        <dataInput id="block311_Operation" name="operation" />

            <dataInput id="block311_userTokenInput" name="userToken" />
            <dataInput id="block311_documentInput" name="document" />
        
            <dataOutput id="block311_userTokenOutput" name="userToken" />
            <dataOutput id="block311_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block311_TaskNameInput</dataInputRefs>
            <dataInputRefs>block311_GroupIdInput</dataInputRefs>
            <dataInputRefs>block311_Operation</dataInputRefs>
                <dataInputRefs>block311_userTokenInput</dataInputRefs>
                <dataInputRefs>block311_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block311_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block311_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block311_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_templateSmistamentoEsterno</sourceRef>
                            <targetRef>block311_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block311_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block311_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block311_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">CreateDocument</from>
           <to xsi:type="tFormalExpression">block311_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	<dataInputAssociation>
        <targetRef>block311_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">CreaDocumento</from>
           <to xsi:type="tFormalExpression">block311_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block311_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block311_documentOutput</sourceRef>
                    <targetRef>doc_templateSmistamentoEsterno</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<endEvent id="block494" name="end (terminate)">

    <dataInput id="block494_Input" name="object" />

    <inputSet>
        <dataInputRefs>block494_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block494_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>

<task id="block303" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block303_AccountInput" name="account" />
        <dataInput id="block303_TempfolderInput" name="tempfolder" />
        <dataInput id="block303_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block303_UserTokenInput" name="userToken" />


        <dataInput id="block303_urlBrokerInput" name="urlBroker" />
        <dataInput id="block303_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block303_incaricatoInput" name="incaricato" />
        <dataInput id="block303_codaInput" name="coda" />
        <dataInput id="block303_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block303_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block303_messageInput" name="message" />
        <dataInput id="block303_idUserInput" name="idUser" />
        <dataInput id="block303_idProcessoInput" name="idProcesso" />
        <dataInput id="block303_userTokenInput" name="userToken" />
        <dataInput id="block303_esitoInput" name="esito" />
        <dataInput id="block303_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block303_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block303_pwdInput" name="pwd" />
        <dataInput id="block303_correlationKeyInput" name="correlationKey" />
        <dataInput id="block303_userInput" name="user" />

        <dataOutput id="block303_UserTokenOutput" name="userToken" />
        <dataOutput id="block303_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block303_AccountInput</dataInputRefs>
            <dataInputRefs>block303_TempfolderInput</dataInputRefs>
            <dataInputRefs>block303_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block303_UserTokenInput</dataInputRefs>
            <dataInputRefs>block303_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block303_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block303_incaricatoInput</dataInputRefs>
            <dataInputRefs>block303_codaInput</dataInputRefs>
            <dataInputRefs>block303_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block303_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block303_messageInput</dataInputRefs>
            <dataInputRefs>block303_idUserInput</dataInputRefs>
            <dataInputRefs>block303_idProcessoInput</dataInputRefs>
            <dataInputRefs>block303_userTokenInput</dataInputRefs>
            <dataInputRefs>block303_esitoInput</dataInputRefs>
            <dataInputRefs>block303_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block303_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block303_pwdInput</dataInputRefs>
            <dataInputRefs>block303_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block303_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block303_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block303_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block303_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block303_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block303_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block303_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentoFinale</sourceRef>
                <targetRef>block303_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block303_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block303_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block303_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block303_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block303_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block303_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block303_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block303_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block303_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block303_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block303_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block303_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<scriptTask id="block310" scriptFormat="http://www.mvel.org/2.0" name="Set tipo componente nel documentale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

doc_templateSmistamentoEsterno.TIPO_COMPONENTE="PRINCIPALE";


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("doc_templateSmistamentoEsterno",null);
kcontext.setVariable("doc_templateSmistamentoEsterno",doc_templateSmistamentoEsterno);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160291" sourceRef="block221" targetRef="block142">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_ciclo=="cicla"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161641" sourceRef="block496" targetRef="block502">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160687" sourceRef="block175" targetRef="block230">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block382" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Gestione RicevutePEC2.0" calledElementByName="GestioneRicevutePEC2.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block382_mittenteInput" name="mittente" />
    <dataInput id="block382_messaggioInput" name="messaggio" />
    <dataInput id="block382_instanceNameInput" name="instanceName" />
    <dataInput id="block382_documentoPrincipaleInput" name="documentoPrincipale" />
    <dataInput id="block382_systemTokenInput" name="systemToken" />
    <dataInput id="block382_ck1Input" name="ck1" />
    <dataInput id="block382_oggettoInput" name="oggetto" />
    <dataInput id="block382_ck2Input" name="ck2" />
    <dataInput id="block382_tipo_invioInput" name="tipo_invio" />
    <dataInput id="block382_humanTokenInput" name="humanToken" />
    <dataInput id="block382_descrizioneInput" name="descrizione" />
    <dataInput id="block382_instanceIdInput" name="instanceId" />
    <dataInput id="block382_destinatariInput" name="destinatari" />
    <dataInput id="block382_canalePECInput" name="canalePEC" />
    <dataInput id="block382_retryInput" name="retry" />
    <dataInput id="block382_nameInput" name="name" />
    <dataInput id="block382_descriptionInput" name="description" />
    <dataInput id="block382_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block382_processNameInput" name="processName" />
    <dataOutput id="block382_ricevuteOutput" name="ricevute" />
    <dataOutput id="block382_esitoOutput" name="esito" />

    <inputSet>
        <dataInputRefs>block382_mittenteInput</dataInputRefs>
        <dataInputRefs>block382_messaggioInput</dataInputRefs>
        <dataInputRefs>block382_instanceNameInput</dataInputRefs>
        <dataInputRefs>block382_documentoPrincipaleInput</dataInputRefs>
        <dataInputRefs>block382_systemTokenInput</dataInputRefs>
        <dataInputRefs>block382_ck1Input</dataInputRefs>
        <dataInputRefs>block382_oggettoInput</dataInputRefs>
        <dataInputRefs>block382_ck2Input</dataInputRefs>
        <dataInputRefs>block382_tipo_invioInput</dataInputRefs>
        <dataInputRefs>block382_humanTokenInput</dataInputRefs>
        <dataInputRefs>block382_descrizioneInput</dataInputRefs>
        <dataInputRefs>block382_instanceIdInput</dataInputRefs>
        <dataInputRefs>block382_destinatariInput</dataInputRefs>
        <dataInputRefs>block382_canalePECInput</dataInputRefs>
        <dataInputRefs>block382_retryInput</dataInputRefs>
        <dataInputRefs>block382_nameInput</dataInputRefs>
        <dataInputRefs>block382_descriptionInput</dataInputRefs>
        <dataInputRefs>block382_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block382_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block382_ricevuteOutput</dataOutputRefs>
        <dataOutputRefs>block382_esitoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block382_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Sollecito";]]></sourceRef>
        <targetRef>block382_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block382_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:documentoPrincipale var type: document -->
        <sourceRef><![CDATA[doc_pareri_esterni]]></sourceRef>
        <targetRef>block382_documentoPrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block382_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block382_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Sollecito";]]></sourceRef>
        <targetRef>block382_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: textRef -->
        <sourceRef><![CDATA[ck2]]></sourceRef>
        <targetRef>block382_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_invio var type: script -->
        <sourceRef><![CDATA["orchestratore";]]></sourceRef>
        <targetRef>block382_tipo_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block382_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione ricevute PEC";]]></sourceRef>
        <targetRef>block382_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block382_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari_pareri_esterni]]></sourceRef>
        <targetRef>block382_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block382_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block382_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:retry var type: script -->
        <sourceRef><![CDATA["3";]]></sourceRef>
        <targetRef>block382_retryInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block382_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Gestione RicevutePEC2.0]]></from>
            <to xsi:type="tFormalExpression">block382_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block382_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block382_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block382_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block382_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block382_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[GestioneRicevutePEC2.0]]></from>
            <to xsi:type="tFormalExpression">block382_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block382_ricevuteOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block382_esitoOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161479" sourceRef="block490" targetRef="block375">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- **************************** INIZIO SUBPROCESS block405 ****************************** -->

<subProcess id="block405" isForCompensation="false" name="sub-process gestione firmatari "  triggeredByEvent="false">

    <property id="idGruppoDaRecuperare" itemSubjectRef="textType"/>
    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="restCall" itemSubjectRef="textType"/>
    <property id="responseArray" itemSubjectRef="collectionType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("responseArray",null);
kcontext.setVariable("responseArray",[]);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<ioSpecification>

    <dataInput id="block405_CollectionExpressionInput" name="CollectionExpression" />
    <dataOutput id="block405_OutputCollectionExpressionOutput" name="OutputCollectionExpression" />

    <inputSet>
        <dataInputRefs>block405_CollectionExpressionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block405_OutputCollectionExpressionOutput</dataOutputRefs>
    </outputSet>

</ioSpecification>

<dataInputAssociation>
    <sourceRef>UO_firma.split(",");</sourceRef>
    <targetRef>block405_CollectionExpressionInput</targetRef>
</dataInputAssociation>

<dataOutputAssociation>
    <sourceRef>block405_OutputCollectionExpressionOutput</sourceRef>
    <targetRef>_foreachc_</targetRef>
</dataOutputAssociation>


<multiInstanceLoopCharacteristics >
    <loopDataInputRef>block405_CollectionExpressionInput</loopDataInputRef>
    <loopDataOutputRef>block405_OutputCollectionExpressionOutput</loopDataOutputRef>
    <inputDataItem id="idGruppoDaRecuperare" itemSubjectRef="tempType"/>
    <outputDataItem id="_foreachi_" itemSubjectRef="tempType"/>
</multiInstanceLoopCharacteristics>

<scriptTask id="block405_block4" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione lista gruppi" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

//fare una hashmap firmatario
//inserire la mappa firmatario nella lista
java.lang.String descrizioneGruppo = responseArray.get(0).Descrizione;
java.lang.String idGruppoRecuperato = responseArray.get(0).CodiceUO;
java.util.HashMap firmatario = new java.util.HashMap()
firmatario.put("identity",idGruppoRecuperato);
firmatario.put("descrizione",descrizioneGruppo);
listaFirmatari.add(firmatario);


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("listaFirmatari",null);
kcontext.setVariable("listaFirmatari",listaFirmatari);

        ]]>
    </script>
</scriptTask>



<!-- id:block405_block2 -->
<startEvent id="block405_block2" name="Start" isInterrupting="false" >
    <dataOutput id="block405_block2_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block405_block2_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block405_block2_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<scriptTask id="block405_block7" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione rest call" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

restCall=rest+"Organigramma?uo="+idGruppoDaRecuperare;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("restCall",null);
kcontext.setVariable("restCall",restCall);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_3055" sourceRef="block405_block2" targetRef="block405_block7">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_3043" sourceRef="block405_block4" targetRef="block405_block3">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block405_block3" name="end">

</endEvent>

<task id="block405_block6" name="callRestService" tns:taskName="callRestService-task" >
    <ioSpecification>

        <dataInput id="block405_block6_description" name="description" />
        <dataInput id="block405_block6_name" name="name" />


        <dataInput id="block405_block6_userTokenInput" name="userToken" />
        <dataInput id="block405_block6_urlInput" name="url" />

        <dataOutput id="block405_block6_UserTokenOutput" name="userToken" />
        <dataOutput id="block405_block6_responseArrayOutput" name="responseArray" />
        <dataOutput id="block405_block6_responseObjectOutput" name="responseObject" />


        <inputSet>
            <dataInputRefs>block405_block6_name</dataInputRefs>
            <dataInputRefs>block405_block6_description</dataInputRefs>
            <dataInputRefs>block405_block6_userTokenInput</dataInputRefs>
            <dataInputRefs>block405_block6_urlInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block405_block6_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block405_block6_responseArrayOutput</dataOutputRefs>
            <dataOutputRefs>block405_block6_responseObjectOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>systemToken</sourceRef>
                <targetRef>block405_block6_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>restCall</sourceRef>
                <targetRef>block405_block6_urlInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block405_block6_responseArrayOutput</sourceRef>
                <targetRef>responseArray</targetRef>

    </dataOutputAssociation>
    <dataOutputAssociation>
                <sourceRef>block405_block6_responseObjectOutput</sourceRef>
                <targetRef></targetRef>

    </dataOutputAssociation>


</task>
<sequenceFlow id="con_3049" sourceRef="block405_block6" targetRef="block405_block4">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_3061" sourceRef="block405_block7" targetRef="block405_block6">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<inclusiveGateway id="block469" name="Inclusive Split (OR)" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_161431" sourceRef="block180" targetRef="block487">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block421" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_161215" sourceRef="block456" targetRef="block438">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160273" sourceRef="block208" targetRef="block67">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161401" sourceRef="block394" targetRef="block483">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block189" isForCompensation="false" independent="false" waitForCompletion="true" name="filiera provvedimento finale positivo - potrebbe essere un template diverso da quello negativo quindi usiamo due strade diverse" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block189_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block189_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block189_versioningInput" name="versioning" />
    <dataInput id="block189_messaggioInput" name="messaggio" />
    <dataInput id="block189_proto_autoInput" name="proto_auto" />
    <dataInput id="block189_instanceNameInput" name="instanceName" />
    <dataInput id="block189_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block189_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block189_oggettoInput" name="oggetto" />
    <dataInput id="block189_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block189_humanTokenInput" name="humanToken" />
    <dataInput id="block189_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block189_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block189_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block189_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block189_instanceIdInput" name="instanceId" />
    <dataInput id="block189_destinatariInput" name="destinatari" />
    <dataInput id="block189_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block189_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block189_urlDocerInput" name="urlDocer" />
    <dataInput id="block189_outcomeInput" name="outcome" />
    <dataInput id="block189_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block189_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block189_mittenteInput" name="mittente" />
    <dataInput id="block189_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block189_systemTokenInput" name="systemToken" />
    <dataInput id="block189_mittentiInput" name="mittenti" />
    <dataInput id="block189_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block189_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block189_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block189_invioInput" name="invio" />
    <dataInput id="block189_creazioneInput" name="creazione" />
    <dataInput id="block189_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block189_descrizioneInput" name="descrizione" />
    <dataInput id="block189___ckValueInput" name="__ckValue" />
    <dataInput id="block189_firmatariInput" name="firmatari" />
    <dataInput id="block189_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block189_template_principaleInput" name="template_principale" />
    <dataInput id="block189_canalePECInput" name="canalePEC" />
    <dataInput id="block189_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block189_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block189_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block189_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block189_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block189_assegnazioneInput" name="assegnazione" />
    <dataInput id="block189_nameInput" name="name" />
    <dataInput id="block189_descriptionInput" name="description" />
    <dataInput id="block189_processNameInput" name="processName" />
    <dataOutput id="block189_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block189_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block189_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block189_versioningInput</dataInputRefs>
        <dataInputRefs>block189_messaggioInput</dataInputRefs>
        <dataInputRefs>block189_proto_autoInput</dataInputRefs>
        <dataInputRefs>block189_instanceNameInput</dataInputRefs>
        <dataInputRefs>block189_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block189_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block189_oggettoInput</dataInputRefs>
        <dataInputRefs>block189_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block189_humanTokenInput</dataInputRefs>
        <dataInputRefs>block189_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block189_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block189_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block189_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block189_instanceIdInput</dataInputRefs>
        <dataInputRefs>block189_destinatariInput</dataInputRefs>
        <dataInputRefs>block189_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block189_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block189_urlDocerInput</dataInputRefs>
        <dataInputRefs>block189_outcomeInput</dataInputRefs>
        <dataInputRefs>block189_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block189_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block189_mittenteInput</dataInputRefs>
        <dataInputRefs>block189_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block189_systemTokenInput</dataInputRefs>
        <dataInputRefs>block189_mittentiInput</dataInputRefs>
        <dataInputRefs>block189_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block189_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block189_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block189_invioInput</dataInputRefs>
        <dataInputRefs>block189_creazioneInput</dataInputRefs>
        <dataInputRefs>block189_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block189_descrizioneInput</dataInputRefs>
        <dataInputRefs>block189___ckValueInput</dataInputRefs>
        <dataInputRefs>block189_firmatariInput</dataInputRefs>
        <dataInputRefs>block189_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block189_template_principaleInput</dataInputRefs>
        <dataInputRefs>block189_canalePECInput</dataInputRefs>
        <dataInputRefs>block189_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block189_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block189_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block189_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block189_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block189_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block189_nameInput</dataInputRefs>
        <dataInputRefs>block189_descriptionInput</dataInputRefs>
        <dataInputRefs>block189_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block189_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block189_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block189_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block189_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block189_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block189_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block189_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block189_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block189_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Provvedimento finale positivo";]]></sourceRef>
        <targetRef>block189_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block189_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione uscita provvedimento finale positivo";]]></sourceRef>
        <targetRef>block189_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firmare provvedimento finale positivo";]]></sourceRef>
        <targetRef>block189_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block189_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block189_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block189_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block189_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block189_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block189_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block189_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera provvedimento finale positivo";]]></sourceRef>
        <targetRef>block189_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block189_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block189_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block189_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block189_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block189_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraProvvFinalePositivo]]></sourceRef>
        <targetRef>block189_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block189_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block189_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[filiera provvedimento finale positivo - potrebbe essere un template diverso da quello negativo quindi usiamo due strade diverse]]></from>
            <to xsi:type="tFormalExpression">block189_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block189_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[il documento "provvedimeto finale" potrebbe essere un template diverso da quello negativo quindi usiamo due strade diverse]]></from>
            <to xsi:type="tFormalExpression">block189_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block189_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block189_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block189_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_provvFinalePositivo</targetRef>
</dataOutputAssociation>
    
</callActivity>




<userTask id="block46" name="HT-Generico_block46" >


    <ioSpecification>

        <dataInput id="block46_TaskNameInput" name="TaskName" />
        <dataInput id="block46_GroupIdInput" name="GroupId" />
        <dataInput id="block46_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block46_allegatiRichiestaIntegrazioniInput" name="allegatiRichiestaIntegrazioni" />
            <dataInput id="block46_annessiIntegrazioniRicevutoInput" name="annessiIntegrazioniRicevuto" />
            <dataInput id="block46_allegatiMotiviOstativiInput" name="allegatiMotiviOstativi" />
            <dataInput id="block46_doc_richiestaIntegrazioniRicevutoInput" name="doc_richiestaIntegrazioniRicevuto" />
            <dataInput id="block46_allegatiIntegrazioniRicevutoInput" name="allegatiIntegrazioniRicevuto" />
            <dataInput id="block46_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block46_doc_motiviOstativiRicevutoInput" name="doc_motiviOstativiRicevuto" />
            <dataInput id="block46_allegatiMotiviOstativiRicevutoInput" name="allegatiMotiviOstativiRicevuto" />
            <dataInput id="block46_annessiMotiviOstativiRicevutoInput" name="annessiMotiviOstativiRicevuto" />
            <dataInput id="block46_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block46_doc_motiviOstativiInput" name="doc_motiviOstativi" />
            <dataInput id="block46_porta_docerInput" name="porta_docer" />
            <dataInput id="block46_annessiMotiviOstativiInput" name="annessiMotiviOstativi" />
            <dataInput id="block46_allegatiDocumentoAvvioInput" name="allegatiDocumentoAvvio" />
            <dataInput id="block46_esito_verifica_osservazioniInput" name="esito_verifica_osservazioni" />
            <dataInput id="block46_fasc_procInput" name="fasc_proc" />
            <dataInput id="block46_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block46_annessiDocumentoAvvioInput" name="annessiDocumentoAvvio" />
            <dataInput id="block46_doc_richiestaIntegrazioniInput" name="doc_richiestaIntegrazioni" />
            <dataInput id="block46_comunicazione_avvioInput" name="comunicazione_avvio" />
            <dataInput id="block46_commentInput" name="comment" />
            <dataInput id="block46_doc_comunicazioneAvvioInput" name="doc_comunicazioneAvvio" />
            <dataInput id="block46_annessiRichiestaIntegrazioniInput" name="annessiRichiestaIntegrazioni" />
            <dataInput id="block46_documentoProtocollatoInput" name="documentoProtocollato" />
        
            <dataOutput id="block46_esito_verifica_osservazioniOutput" name="esito_verifica_osservazioni" />
            <dataOutput id="block46_reasonOutput" name="reason" />
            <dataOutput id="block46_userTokenOutput" name="userToken" />
           

        <inputSet>
            <dataInputRefs>block46_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block46_TaskNameInput</dataInputRefs>
            <dataInputRefs>block46_GroupIdInput</dataInputRefs>
                <dataInputRefs>block46_allegatiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block46_annessiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_allegatiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block46_doc_richiestaIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_allegatiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block46_doc_motiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_allegatiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_annessiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block46_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block46_doc_motiviOstativiInput</dataInputRefs>
                <dataInputRefs>block46_porta_docerInput</dataInputRefs>
                <dataInputRefs>block46_annessiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block46_allegatiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block46_esito_verifica_osservazioniInput</dataInputRefs>
                <dataInputRefs>block46_fasc_procInput</dataInputRefs>
                <dataInputRefs>block46_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block46_annessiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block46_doc_richiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block46_comunicazione_avvioInput</dataInputRefs>
                <dataInputRefs>block46_commentInput</dataInputRefs>
                <dataInputRefs>block46_doc_comunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block46_annessiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block46_documentoProtocollatoInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block46_esito_verifica_osservazioniOutput</dataOutputRefs>
                <dataOutputRefs>block46_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block46_userTokenOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>allegatiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block46_allegatiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block46_annessiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativi</sourceRef>
                            <targetRef>block46_allegatiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioniRicevuto</sourceRef>
                            <targetRef>block46_doc_richiestaIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block46_allegatiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block46_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativiRicevuto</sourceRef>
                            <targetRef>block46_doc_motiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block46_allegatiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block46_annessiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block46_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativi</sourceRef>
                            <targetRef>block46_doc_motiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block46_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativi</sourceRef>
                            <targetRef>block46_annessiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoAvvio</sourceRef>
                            <targetRef>block46_allegatiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>esito_verifica_osservazioni</sourceRef>
                            <targetRef>block46_esito_verifica_osservazioniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc</sourceRef>
                            <targetRef>block46_fasc_procInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block46_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoAvvio</sourceRef>
                            <targetRef>block46_annessiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioni</sourceRef>
                            <targetRef>block46_doc_richiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>comunicazione_avvio</sourceRef>
                            <targetRef>block46_comunicazione_avvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block46_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block46_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_comunicazioneAvvio</sourceRef>
                            <targetRef>block46_doc_comunicazioneAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block46_annessiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block46_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block46_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block46_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Verifica osservazioni cittadino e RIPRESA TEMPI PROCEDIMENTO"</from>
           <to xsi:type="tFormalExpression">block46_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block46_esito_verifica_osservazioniOutput</sourceRef>
                    <targetRef>esito_verifica_osservazioni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block46_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block46_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<sequenceFlow id="con_160789" sourceRef="block357" targetRef="block358">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block433" scriptFormat="http://www.mvel.org/2.0" name="Gestione documento non protocollato" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

principaleProtocollato=new java.util.HashMap(principale);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("principaleProtocollato",null);
kcontext.setVariable("principaleProtocollato",principaleProtocollato);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161071" sourceRef="block279" targetRef="block427">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161521" sourceRef="block495" targetRef="block242">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block211" scriptFormat="http://www.mvel.org/2.0" name="set lista di annessi" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

doc_annessoPareriInterni.TIPO_COMPONENTE="ANNESSO";
listaAnnessi.clear();
listaAnnessi.add(doc_annessoPareriInterni);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("listaAnnessi",null);
kcontext.setVariable("listaAnnessi",listaAnnessi);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block349" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_161503" sourceRef="block492" targetRef="block368">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160747" sourceRef="block184" targetRef="block360">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block322" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block322_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block322_descrizioneInput" name="descrizione" />
    <dataInput id="block322_instanceIdInput" name="instanceId" />
    <dataInput id="block322_instanceNameInput" name="instanceName" />
    <dataInput id="block322_systemTokenInput" name="systemToken" />
    <dataInput id="block322_principaleInput" name="principale" />
    <dataInput id="block322_canalePECInput" name="canalePEC" />
    <dataInput id="block322_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block322_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block322_outcomeInput" name="outcome" />
    <dataInput id="block322_humanTokenInput" name="humanToken" />
    <dataInput id="block322_nameInput" name="name" />
    <dataInput id="block322_descriptionInput" name="description" />
    <dataInput id="block322_processNameInput" name="processName" />
    <dataOutput id="block322_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block322_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block322_descrizioneInput</dataInputRefs>
        <dataInputRefs>block322_instanceIdInput</dataInputRefs>
        <dataInputRefs>block322_instanceNameInput</dataInputRefs>
        <dataInputRefs>block322_systemTokenInput</dataInputRefs>
        <dataInputRefs>block322_principaleInput</dataInputRefs>
        <dataInputRefs>block322_canalePECInput</dataInputRefs>
        <dataInputRefs>block322_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block322_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block322_outcomeInput</dataInputRefs>
        <dataInputRefs>block322_humanTokenInput</dataInputRefs>
        <dataInputRefs>block322_nameInput</dataInputRefs>
        <dataInputRefs>block322_descriptionInput</dataInputRefs>
        <dataInputRefs>block322_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block322_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block322_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block322_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documento per portale";]]></sourceRef>
        <targetRef>block322_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block322_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block322_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block322_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[letteraDocRecuperato]]></sourceRef>
        <targetRef>block322_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block322_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block322_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block322_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block322_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block322_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block322_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block322_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block322_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block322_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block322_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block322_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block322_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block322_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block322_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block322_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160723" sourceRef="block270" targetRef="block355">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block404" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Crea copia Documento richiesta annullamento" calledElementByName="Creazione UD1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block404_descrizioneInput" name="descrizione" />
    <dataInput id="block404_instanceIdInput" name="instanceId" />
    <dataInput id="block404_instanceNameInput" name="instanceName" />
    <dataInput id="block404_systemTokenInput" name="systemToken" />
    <dataInput id="block404_canalePECInput" name="canalePEC" />
    <dataInput id="block404_documentoInput" name="documento" />
    <dataInput id="block404_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block404_outcomeInput" name="outcome" />
    <dataInput id="block404_humanTokenInput" name="humanToken" />
    <dataInput id="block404_nameInput" name="name" />
    <dataInput id="block404_descriptionInput" name="description" />
    <dataInput id="block404_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block404_processNameInput" name="processName" />
    <dataOutput id="block404_documentoOutput" name="documento" />

    <inputSet>
        <dataInputRefs>block404_descrizioneInput</dataInputRefs>
        <dataInputRefs>block404_instanceIdInput</dataInputRefs>
        <dataInputRefs>block404_instanceNameInput</dataInputRefs>
        <dataInputRefs>block404_systemTokenInput</dataInputRefs>
        <dataInputRefs>block404_canalePECInput</dataInputRefs>
        <dataInputRefs>block404_documentoInput</dataInputRefs>
        <dataInputRefs>block404_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block404_outcomeInput</dataInputRefs>
        <dataInputRefs>block404_humanTokenInput</dataInputRefs>
        <dataInputRefs>block404_nameInput</dataInputRefs>
        <dataInputRefs>block404_descriptionInput</dataInputRefs>
        <dataInputRefs>block404_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block404_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block404_documentoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Creazione copia documento richiesta annullamento";]]></sourceRef>
        <targetRef>block404_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block404_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block404_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block404_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block404_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block404_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:documento var type: document -->
        <sourceRef><![CDATA[docCopy]]></sourceRef>
        <targetRef>block404_documentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block404_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block404_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block404_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block404_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Crea copia Documento richiesta annullamento]]></from>
            <to xsi:type="tFormalExpression">block404_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block404_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block404_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block404_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block404_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block404_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD1.0]]></from>
            <to xsi:type="tFormalExpression">block404_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block404_documentoOutput</sourceRef>
        <targetRef>docCopy</targetRef>
</dataOutputAssociation>
    
</callActivity>




<scriptTask id="block371" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione variabilili template" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=figura_professionale_procedimento;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

java.util.HashMap tplVar=new java.util.HashMap();

tplVar.put("note", noteSilenzioAssenso);
tplVar.put("titoloprocedimento", titoloProcedimento);
tplVar.put("numeroprotocollo", documentoProtocollato.NUM_PG);
tplVar.put("annoprotocollo", documentoProtocollato.ANNO_PG);


variabiliTemplateSilenzioAssenso=tplVar;


java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);

ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("variabiliTemplateSilenzioAssenso",null);
kcontext.setVariable("variabiliTemplateSilenzioAssenso",variabiliTemplateSilenzioAssenso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161233" sourceRef="block458" targetRef="block165">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160807" sourceRef="block16" targetRef="block381">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160981" sourceRef="block60" targetRef="block61">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160567" sourceRef="block214" targetRef="block330">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161017" sourceRef="block423" targetRef="block424">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block33" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_161389" sourceRef="block112" targetRef="block481">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161149" sourceRef="block440" targetRef="block442">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[(esito_verifica=="negativo") || (esito_verifica=="positivo" && recupera_documenti_istruttoria_semplice=="no")]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160897" sourceRef="block191" targetRef="block332">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161143" sourceRef="block439" targetRef="block27">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[istruttoria_semplice=="no"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block424" scriptFormat="http://www.mvel.org/2.0" name="Script-task Gestione codice e descrizione Uo per la protocollazione della pratica" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.HashMap amministrazione =new java.util.HashMap(mittenti.get(0));
amministrazione.put("CodiceAmministrazioneUo",responseArrayUO.get(0).CodiceUO);
amministrazione.put("DenominazioneUo",responseArrayUO.get(0).Descrizione);
mittenti.clear();
mittenti.add(amministrazione);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("mittenti",null);
kcontext.setVariable("mittenti",mittenti);

        ]]>
    </script>
</scriptTask>




<callActivity id="block175" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity ricezione risposta motivi ostativi (ricezione entro 10 giorni delle osservazioni - INTERRUZIONE TEMPI PROCEDIMENTO)" calledElementByName="GestioneRicezionePortale2.1" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block175_proto_autoInput" name="proto_auto" />
    <dataInput id="block175_instanceNameInput" name="instanceName" />
    <dataInput id="block175_ck1Input" name="ck1" />
    <dataInput id="block175_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block175_ck2Input" name="ck2" />
    <dataInput id="block175_humanTokenInput" name="humanToken" />
    <dataInput id="block175_instanceIdInput" name="instanceId" />
    <dataInput id="block175_porta_docerInput" name="porta_docer" />
    <dataInput id="block175_soggetto_ricezioneInput" name="soggetto_ricezione" />
    <dataInput id="block175_destinatariInput" name="destinatari" />
    <dataInput id="block175_fascicolazione_protocolloInput" name="fascicolazione_protocollo" />
    <dataInput id="block175_outcomeInput" name="outcome" />
    <dataInput id="block175_mittenteInput" name="mittente" />
    <dataInput id="block175_scadenzaInput" name="scadenza" />
    <dataInput id="block175_systemTokenInput" name="systemToken" />
    <dataInput id="block175_mittentiInput" name="mittenti" />
    <dataInput id="block175_fasc_procInput" name="fasc_proc" />
    <dataInput id="block175_canaleInput" name="canale" />
    <dataInput id="block175_firmatarioInput" name="firmatario" />
    <dataInput id="block175_descrizioneInput" name="descrizione" />
    <dataInput id="block175_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block175_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block175_oggetto_protocollazione_pecInput" name="oggetto_protocollazione_pec" />
    <dataInput id="block175_assegnazioneInput" name="assegnazione" />
    <dataInput id="block175_nameInput" name="name" />
    <dataInput id="block175_descriptionInput" name="description" />
    <dataInput id="block175_processNameInput" name="processName" />
    <dataOutput id="block175_principaleOutput" name="principale" />
    <dataOutput id="block175_documentiRicevutiPortaleOutput" name="documentiRicevutiPortale" />
    <dataOutput id="block175_esitoOutput" name="esito" />

    <inputSet>
        <dataInputRefs>block175_proto_autoInput</dataInputRefs>
        <dataInputRefs>block175_instanceNameInput</dataInputRefs>
        <dataInputRefs>block175_ck1Input</dataInputRefs>
        <dataInputRefs>block175_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block175_ck2Input</dataInputRefs>
        <dataInputRefs>block175_humanTokenInput</dataInputRefs>
        <dataInputRefs>block175_instanceIdInput</dataInputRefs>
        <dataInputRefs>block175_porta_docerInput</dataInputRefs>
        <dataInputRefs>block175_soggetto_ricezioneInput</dataInputRefs>
        <dataInputRefs>block175_destinatariInput</dataInputRefs>
        <dataInputRefs>block175_fascicolazione_protocolloInput</dataInputRefs>
        <dataInputRefs>block175_outcomeInput</dataInputRefs>
        <dataInputRefs>block175_mittenteInput</dataInputRefs>
        <dataInputRefs>block175_scadenzaInput</dataInputRefs>
        <dataInputRefs>block175_systemTokenInput</dataInputRefs>
        <dataInputRefs>block175_mittentiInput</dataInputRefs>
        <dataInputRefs>block175_fasc_procInput</dataInputRefs>
        <dataInputRefs>block175_canaleInput</dataInputRefs>
        <dataInputRefs>block175_firmatarioInput</dataInputRefs>
        <dataInputRefs>block175_descrizioneInput</dataInputRefs>
        <dataInputRefs>block175_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block175_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block175_oggetto_protocollazione_pecInput</dataInputRefs>
        <dataInputRefs>block175_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block175_nameInput</dataInputRefs>
        <dataInputRefs>block175_descriptionInput</dataInputRefs>
        <dataInputRefs>block175_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block175_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block175_documentiRicevutiPortaleOutput</dataOutputRefs>
        <dataOutputRefs>block175_esitoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block175_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block175_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block175_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block175_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: textRef -->
        <sourceRef><![CDATA[ck2]]></sourceRef>
        <targetRef>block175_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block175_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block175_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block175_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:soggetto_ricezione var type: soggetto -->
        <sourceRef><![CDATA[destinatario_cittadino]]></sourceRef>
        <targetRef>block175_soggetto_ricezioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block175_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione_protocollo var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block175_fascicolazione_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block175_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block175_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:scadenza var type: datetimeRef -->
        <sourceRef><![CDATA[data_scadenza_motiviOstativi]]></sourceRef>
        <targetRef>block175_scadenzaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block175_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block175_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fasc_proc var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block175_fasc_procInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canale var type: script -->
        <sourceRef><![CDATA["portale";]]></sourceRef>
        <targetRef>block175_canaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: object -->
        <sourceRef><![CDATA[firmatario]]></sourceRef>
        <targetRef>block175_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione ricezione motivi ostativi";]]></sourceRef>
        <targetRef>block175_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block175_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraMotiviOstativi]]></sourceRef>
        <targetRef>block175_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollazione_pec var type: script -->
        <sourceRef><![CDATA["Protocollazione Entrata comunicazione motivi ostativi";]]></sourceRef>
        <targetRef>block175_oggetto_protocollazione_pecInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block175_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block175_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity ricezione risposta motivi ostativi (ricezione entro 10 giorni delle osservazioni - INTERRUZIONE TEMPI PROCEDIMENTO)]]></from>
            <to xsi:type="tFormalExpression">block175_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block175_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[NOTE: ricezione entro 10 giorni delle osservazioni - INTERRUZIONE TEMPI PROCEDIMENTO . Quando il timer della ricezione scade e non riceviamo alcuna risposta, allora andiamo nella parte conclusiva del flusso, quindi non facciamo nessun sollecito]]></from>
            <to xsi:type="tFormalExpression">block175_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block175_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[GestioneRicezionePortale2.1]]></from>
            <to xsi:type="tFormalExpression">block175_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block175_principaleOutput</sourceRef>
        <targetRef>doc_motiviOstativiRicevuto</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block175_documentiRicevutiPortaleOutput</sourceRef>
        <targetRef>documentiRicevutiOstativi</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block175_esitoOutput</sourceRef>
        <targetRef>esito</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block47" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160111" sourceRef="block15" targetRef="block16">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161125" sourceRef="block437" targetRef="block434">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160867" sourceRef="block397" targetRef="block404">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160855" sourceRef="block385" targetRef="block269">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block441" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160741" sourceRef="block359" targetRef="block68">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161371" sourceRef="block478" targetRef="block474">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block165" scriptFormat="http://www.mvel.org/2.0" name="Gestione data silenzio assenso e destinatari notifica conclusione " isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println("Gestione data silenzio assenso");
gc=java.util.GregorianCalendar.getInstance();
gc2=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat("dd-MM-yyyy");
data_invio_comunicazione_avvio=fm2.format(gc2.getTime());

gc.add(java.util.GregorianCalendar.DATE, java.lang.Integer.parseInt(tempo_procedimento));
dataSilenzioAssenso=fm2.format(gc.getTime());


System.out.println("Gestione destinatari notifica tempi conclusione");
destinatari_notifica_tempiConclusione.clear();
mail=null;
foreach(mail:destinatari_notifica){
soggetto=new java.util.HashMap();
soggetto.put("IndirizzoTelematico",mail);
destinatari_notifica_tempiConclusione.add(soggetto);
}

System.out.println("AAAAAAAAAAAAAAAAAA set dataSilenzioAssenso in format dd-MM-yyyy :"+dataSilenzioAssenso);


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("dataSilenzioAssenso",null);
kcontext.setVariable("dataSilenzioAssenso",dataSilenzioAssenso);
kcontext.setVariable("destinatari_notifica_tempiConclusione",null);
kcontext.setVariable("destinatari_notifica_tempiConclusione",destinatari_notifica_tempiConclusione);
kcontext.setVariable("data_invio_comunicazione_avvio",null);
kcontext.setVariable("data_invio_comunicazione_avvio",data_invio_comunicazione_avvio);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161545" sourceRef="block420" targetRef="block421">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[rest==""]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block67" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<inclusiveGateway id="block208" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160357" sourceRef="block257" targetRef="block260">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[richiesta_pareri=="enti_esterni"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161077" sourceRef="block427" targetRef="block428">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block14" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<inclusiveGateway id="block363" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_161101" sourceRef="block433" targetRef="block432">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block475" name="Aggiorna related" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block475_TaskNameInput" name="TaskName" />
        <dataInput id="block475_GroupIdInput" name="GroupId" />
        <dataInput id="block475_Operation" name="operation" />

            <dataInput id="block475_userTokenInput" name="userToken" />
            <dataInput id="block475_relatedDocsInput" name="relatedDocs" />
            <dataInput id="block475_documentInput" name="document" />
        
            <dataOutput id="block475_deltaOutput" name="delta" />
            <dataOutput id="block475_userTokenOutput" name="userToken" />
            <dataOutput id="block475_resultsOutput" name="results" />
            <dataOutput id="block475_firstOutput" name="first" />
           

        <inputSet>
            <dataInputRefs>block475_TaskNameInput</dataInputRefs>
            <dataInputRefs>block475_GroupIdInput</dataInputRefs>
            <dataInputRefs>block475_Operation</dataInputRefs>
                <dataInputRefs>block475_userTokenInput</dataInputRefs>
                <dataInputRefs>block475_relatedDocsInput</dataInputRefs>
                <dataInputRefs>block475_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block475_deltaOutput</dataOutputRefs>
                <dataOutputRefs>block475_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block475_resultsOutput</dataOutputRefs>
                <dataOutputRefs>block475_firstOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block475_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>listaAnnessi</sourceRef>
                            <targetRef>block475_relatedDocsInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interniProtocollato</sourceRef>
                            <targetRef>block475_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block475_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block475_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block475_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">Aggiorna related</from>
           <to xsi:type="tFormalExpression">block475_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
    <dataInputAssociation>
        <targetRef>block475_Operation</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">AggiornaRelated</from>
            <to xsi:type="tFormalExpression">block475_Operation</to>
        </assignment>
    </dataInputAssociation>



            <dataOutputAssociation>
                            <sourceRef>block475_deltaOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block475_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block475_resultsOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block475_firstOutput</sourceRef>
                            <targetRef>doc_pareri_interniProtocollato</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block184" scriptFormat="http://www.mvel.org/2.0" name="Gestione Data scadenza ricezione multipla" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

int scadenzaPareri = Integer.parseInt(tempo_attesa_pareri);
gc=java.util.GregorianCalendar.getInstance();
gc.add(java.util.GregorianCalendar.DATE, scadenzaPareri);
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat("dd-MM-yyyy");
dataRicezionePareriEsterni=fm2.format(gc.getTime());

System.out.println("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa data scadenza: "+dataRicezionePareriEsterni);


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("dataRicezionePareriEsterni",null);
kcontext.setVariable("dataRicezionePareriEsterni",dataRicezionePareriEsterni);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block275" scriptFormat="http://www.mvel.org/2.0" name="gestione figura professionale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

Default.identity=UO_smistamento;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);

        ]]>
    </script>
</scriptTask>



<!-- **************************** INIZIO SUBPROCESS block418 ****************************** -->

<subProcess id="block418" isForCompensation="false" name="sub-process gestione lista documenti pareri ricevuti"  triggeredByEvent="false">

    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="allegatiPareri" itemSubjectRef="collectionType"/>
    <property id="annessiPareri" itemSubjectRef="collectionType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>
    <property id="docPareriRicevuto" itemSubjectRef="objectType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("docPareriRicevuto",null);
kcontext.setVariable("docPareriRicevuto",{"@structure":"document","DOCNAME":"","TYPE_ID":"DOCUMENTO","ABSTRACT":"docPareriRicevuto","TIPO_PROTOCOLLAZIONE":"","id":"docPareriRicevuto","name":"docPareriRicevuto"});
kcontext.setVariable("annessiPareri",null);
kcontext.setVariable("annessiPareri",[]);
kcontext.setVariable("allegatiPareri",null);
kcontext.setVariable("allegatiPareri",[]);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<ioSpecification>

    <dataInput id="block418_CollectionExpressionInput" name="CollectionExpression" />
    <dataOutput id="block418_OutputCollectionExpressionOutput" name="OutputCollectionExpression" />

    <inputSet>
        <dataInputRefs>block418_CollectionExpressionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block418_OutputCollectionExpressionOutput</dataOutputRefs>
    </outputSet>

</ioSpecification>

<dataInputAssociation>
    <sourceRef>listaDocPareriRicevuti</sourceRef>
    <targetRef>block418_CollectionExpressionInput</targetRef>
</dataInputAssociation>

<dataOutputAssociation>
    <sourceRef>block418_OutputCollectionExpressionOutput</sourceRef>
    <targetRef>_foreachc_</targetRef>
</dataOutputAssociation>


<multiInstanceLoopCharacteristics >
    <loopDataInputRef>block418_CollectionExpressionInput</loopDataInputRef>
    <loopDataOutputRef>block418_OutputCollectionExpressionOutput</loopDataOutputRef>
    <inputDataItem id="docPareriRicevuto" itemSubjectRef="tempType"/>
    <outputDataItem id="_foreachi_" itemSubjectRef="tempType"/>
</multiInstanceLoopCharacteristics>

<endEvent id="block418_block1" name="end">

</endEvent>

<task id="block418_block2" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block418_block2_TaskNameInput" name="TaskName" />
        <dataInput id="block418_block2_GroupIdInput" name="GroupId" />
        <dataInput id="block418_block2_Operation" name="operation" />

            <dataInput id="block418_block2_userTokenInput" name="userToken" />
            <dataInput id="block418_block2_documentInput" name="document" />
        
            <dataOutput id="block418_block2_userTokenOutput" name="userToken" />
            <dataOutput id="block418_block2_annessiOutput" name="annessi" />
            <dataOutput id="block418_block2_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block418_block2_allegatiOutput" name="allegati" />
            <dataOutput id="block418_block2_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block418_block2_TaskNameInput</dataInputRefs>
            <dataInputRefs>block418_block2_GroupIdInput</dataInputRefs>
            <dataInputRefs>block418_block2_Operation</dataInputRefs>
                <dataInputRefs>block418_block2_userTokenInput</dataInputRefs>
                <dataInputRefs>block418_block2_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block418_block2_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block418_block2_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block418_block2_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block418_block2_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block418_block2_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block418_block2_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>docPareriRicevuto</sourceRef>
                            <targetRef>block418_block2_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block418_block2_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block418_block2_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block418_block2_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block418_block2_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block418_block2_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block418_block2_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block418_block2_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block418_block2_annessiOutput</sourceRef>
                            <targetRef>annessiPareri</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block418_block2_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block418_block2_allegatiOutput</sourceRef>
                            <targetRef>allegatiPareri</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block418_block2_documentOutput</sourceRef>
                            <targetRef>docPareriRicevuto</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<sequenceFlow id="con_9621" sourceRef="block418_block2" targetRef="block418_block3">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- id:block418_block0 -->
<startEvent id="block418_block0" name="Start" isInterrupting="false" >
    <dataOutput id="block418_block0_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block418_block0_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block418_block0_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<scriptTask id="block418_block3" scriptFormat="http://www.mvel.org/2.0" name="aggiunta documenti alla lista documenti pareri da far visualizzare nello human task" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.ArrayList listaDocumentiRicevuti = new java.util.ArrayList();
listaDocumentiRicevuti.add(docPareriRicevuto);
if(annessiPareri.size()>0){
listaDocumentiRicevuti.addAll(annessiPareri);
}
if(allegatiPareri.size()>0){
listaDocumentiRicevuti.addAll(allegatiPareri);
}

listaUDPareriRicevuti.addAll(listaDocumentiRicevuti);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("listaUDPareriRicevuti",null);
kcontext.setVariable("listaUDPareriRicevuti",listaUDPareriRicevuti);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_9627" sourceRef="block418_block3" targetRef="block418_block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_9615" sourceRef="block418_block0" targetRef="block418_block2">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<scriptTask id="block282" scriptFormat="http://www.mvel.org/2.0" name="Script-task Gestione invio messaggio" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
principale=principaleProtocollato;

/************** start user script ***************/

System.out.println("xxxxxxxxxxx");
System.out.println(principale.toString());

System.out.println(" anche se non abbiamo tutti i dati del fascicolo, in questo step riporto lo standard del calcolo della ck - questo invio non segue una ricezione; dato che in questo caso il progressivo fascicolo potrebbe essere vuoto, per ovviare a questo problema la ck1 si valorizza a 0 ");
java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

if(ck1==""){
ck1="0";
}


docTemp = new java.lang.Object();
int i=0;
int indexXml=null;
java.util.ArrayList newListDoc = new java.util.ArrayList();

foreach(docTemp : documenti){
(documenti.get(i)).put("numeroProtocollo",principale.NUM_PG);
(documenti.get(i)).put("annoProtocollo",principale.ANNO_PG);

if(!(documenti.get(i)).get("principale").equals("xml")){
newListDoc.add(documenti.get(i));
}
i=i+1;
}

documenti = newListDoc;

System.out.println("XXXXX new list doc: "+documenti.toString());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("documenti",null);
kcontext.setVariable("documenti",documenti);
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160585" sourceRef="block290" targetRef="block338">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160171" sourceRef="block169" targetRef="block173">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161533" sourceRef="block14" targetRef="block16">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_fascicolare=="no"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block183" scriptFormat="http://www.mvel.org/2.0" name="Generazione ck - set assengazione2 " isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
assegnazione=assegnazione2;
uo_assegnazione=UO_RegistraPareriEsterni;

/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;


assegnazione.get(0).identity=uo_assegnazione;


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("assegnazione2",null);
kcontext.setVariable("assegnazione2",assegnazione);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160369" sourceRef="block259" targetRef="block260">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161269" sourceRef="block345" targetRef="block460">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[interruzioneProcedimento=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161659" sourceRef="block502" targetRef="block135">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[annesso_pareri_interni=="si"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block263" scriptFormat="http://www.mvel.org/2.0" name="task a solo scopo illustrativo" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/



/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>




<callActivity id="block466" isForCompensation="false" independent="false" waitForCompletion="true" name="AMD_RegistrazioneEntrataUD1.0" calledElementByName="#{lista_call_activity.AMD_RegistrazioneEntrataUD}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block466_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block466_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block466_proto_autoInput" name="proto_auto" />
    <dataInput id="block466_instanceNameInput" name="instanceName" />
    <dataInput id="block466_destinatari_registrazioneInput" name="destinatari_registrazione" />
    <dataInput id="block466_tipo_firma_registrazioneInput" name="tipo_firma_registrazione" />
    <dataInput id="block466_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block466_humanTokenInput" name="humanToken" />
    <dataInput id="block466_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block466_instanceIdInput" name="instanceId" />
    <dataInput id="block466_oggetto_registroInput" name="oggetto_registro" />
    <dataInput id="block466_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block466_destinatariInput" name="destinatari" />
    <dataInput id="block466_lanesInput" name="lanes" />
    <dataInput id="block466_outcomeInput" name="outcome" />
    <dataInput id="block466_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block466_registrazioneInput" name="registrazione" />
    <dataInput id="block466_fascicoliSecondariInput" name="fascicoliSecondari" />
    <dataInput id="block466_systemTokenInput" name="systemToken" />
    <dataInput id="block466_mittentiInput" name="mittenti" />
    <dataInput id="block466_protocollo_mittenteInput" name="protocollo_mittente" />
    <dataInput id="block466_firmatari_registrazioneInput" name="firmatari_registrazione" />
    <dataInput id="block466_assegnazione_registroInput" name="assegnazione_registro" />
    <dataInput id="block466_descrizioneInput" name="descrizione" />
    <dataInput id="block466_firmatariInput" name="firmatari" />
    <dataInput id="block466_protocollazioneInput" name="protocollazione" />
    <dataInput id="block466_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block466_canalePECInput" name="canalePEC" />
    <dataInput id="block466_mittenti_registrazioneInput" name="mittenti_registrazione" />
    <dataInput id="block466_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block466_lista_registriInput" name="lista_registri" />
    <dataInput id="block466_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block466_assegnazioneInput" name="assegnazione" />
    <dataInput id="block466_processNameInput" name="processName" />
    <dataInput id="block466_commitInput" name="commit" />
    <dataOutput id="block466_principaleOutput" name="principale" />
    <dataOutput id="block466_lanesOutput" name="lanes" />
    <dataOutput id="block466_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block466_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block466_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block466_proto_autoInput</dataInputRefs>
        <dataInputRefs>block466_instanceNameInput</dataInputRefs>
        <dataInputRefs>block466_destinatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block466_tipo_firma_registrazioneInput</dataInputRefs>
        <dataInputRefs>block466_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block466_humanTokenInput</dataInputRefs>
        <dataInputRefs>block466_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block466_instanceIdInput</dataInputRefs>
        <dataInputRefs>block466_oggetto_registroInput</dataInputRefs>
        <dataInputRefs>block466_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block466_destinatariInput</dataInputRefs>
        <dataInputRefs>block466_lanesInput</dataInputRefs>
        <dataInputRefs>block466_outcomeInput</dataInputRefs>
        <dataInputRefs>block466_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block466_registrazioneInput</dataInputRefs>
        <dataInputRefs>block466_fascicoliSecondariInput</dataInputRefs>
        <dataInputRefs>block466_systemTokenInput</dataInputRefs>
        <dataInputRefs>block466_mittentiInput</dataInputRefs>
        <dataInputRefs>block466_protocollo_mittenteInput</dataInputRefs>
        <dataInputRefs>block466_firmatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block466_assegnazione_registroInput</dataInputRefs>
        <dataInputRefs>block466_descrizioneInput</dataInputRefs>
        <dataInputRefs>block466_firmatariInput</dataInputRefs>
        <dataInputRefs>block466_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block466_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block466_canalePECInput</dataInputRefs>
        <dataInputRefs>block466_mittenti_registrazioneInput</dataInputRefs>
        <dataInputRefs>block466_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block466_lista_registriInput</dataInputRefs>
        <dataInputRefs>block466_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block466_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block466_processNameInput</dataInputRefs>
        <dataInputRefs>block466_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block466_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block466_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block466_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma_protoEntrata]]></sourceRef>
        <targetRef>block466_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si"]]></sourceRef>
        <targetRef>block466_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_destinatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma_registrazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_tipo_firma_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block466_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block466_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block466_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_registro var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_oggetto_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block466_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block466_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione in entrata dei documenti del servizio online "+titoloProcedimento;]]></sourceRef>
        <targetRef>block466_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrazione var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block466_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicoliSecondari var type: fascicolo -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_fascicoliSecondariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block466_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block466_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollo_mittente var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_protocollo_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_firmatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione_registro var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_assegnazione_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Protocollazione entrata pratica dal portale";]]></sourceRef>
        <targetRef>block466_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: soggetto -->
        <sourceRef><![CDATA[firmatari_protoEntrata]]></sourceRef>
        <targetRef>block466_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si"]]></sourceRef>
        <targetRef>block466_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block466_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block466_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_mittenti_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[principale.DOCNUM;]]></sourceRef>
        <targetRef>block466_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lista_registri var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_lista_registriInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block466_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block466_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: text -->
        <targetRef>block466_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.AMD_RegistrazioneEntrataUD}]]></from>
            <to xsi:type="tFormalExpression">block466_processNameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block466_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block466_principaleOutput</sourceRef>
        <targetRef>principaleProtocollato</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block466_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block466_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>





<callActivity id="block375" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity filiera dedicata" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block375_versioningInput" name="versioning" />
    <dataInput id="block375_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block375_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block375_approvazioneInput" name="approvazione" />
    <dataInput id="block375_oggettoInput" name="oggetto" />
    <dataInput id="block375_registrareInput" name="registrare" />
    <dataInput id="block375_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block375_humanTokenInput" name="humanToken" />
    <dataInput id="block375_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block375_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block375_destinatariInput" name="destinatari" />
    <dataInput id="block375_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block375_urlDocerInput" name="urlDocer" />
    <dataInput id="block375_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block375_mittenteInput" name="mittente" />
    <dataInput id="block375_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block375_mittentiInput" name="mittenti" />
    <dataInput id="block375_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block375_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block375_invioInput" name="invio" />
    <dataInput id="block375_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block375_firmareInput" name="firmare" />
    <dataInput id="block375_canalePECInput" name="canalePEC" />
    <dataInput id="block375_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block375_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block375_assegnazioneInput" name="assegnazione" />
    <dataInput id="block375_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block375_messaggioInput" name="messaggio" />
    <dataInput id="block375_proto_autoInput" name="proto_auto" />
    <dataInput id="block375_instanceNameInput" name="instanceName" />
    <dataInput id="block375_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block375_redazioneInput" name="redazione" />
    <dataInput id="block375_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block375_conversioneInput" name="conversione" />
    <dataInput id="block375_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block375_instanceIdInput" name="instanceId" />
    <dataInput id="block375_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block375_modificaInput" name="modifica" />
    <dataInput id="block375_outcomeInput" name="outcome" />
    <dataInput id="block375_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block375_systemTokenInput" name="systemToken" />
    <dataInput id="block375_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block375_creazioneInput" name="creazione" />
    <dataInput id="block375_descrizioneInput" name="descrizione" />
    <dataInput id="block375___ckValueInput" name="__ckValue" />
    <dataInput id="block375_firmatariInput" name="firmatari" />
    <dataInput id="block375_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block375_template_principaleInput" name="template_principale" />
    <dataInput id="block375_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block375_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block375_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block375_nameInput" name="name" />
    <dataInput id="block375_descriptionInput" name="description" />
    <dataInput id="block375_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block375_processNameInput" name="processName" />
    <dataOutput id="block375_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block375_versioningInput</dataInputRefs>
        <dataInputRefs>block375_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block375_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block375_approvazioneInput</dataInputRefs>
        <dataInputRefs>block375_oggettoInput</dataInputRefs>
        <dataInputRefs>block375_registrareInput</dataInputRefs>
        <dataInputRefs>block375_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block375_humanTokenInput</dataInputRefs>
        <dataInputRefs>block375_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block375_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block375_destinatariInput</dataInputRefs>
        <dataInputRefs>block375_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block375_urlDocerInput</dataInputRefs>
        <dataInputRefs>block375_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block375_mittenteInput</dataInputRefs>
        <dataInputRefs>block375_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block375_mittentiInput</dataInputRefs>
        <dataInputRefs>block375_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block375_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block375_invioInput</dataInputRefs>
        <dataInputRefs>block375_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block375_firmareInput</dataInputRefs>
        <dataInputRefs>block375_canalePECInput</dataInputRefs>
        <dataInputRefs>block375_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block375_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block375_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block375_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block375_messaggioInput</dataInputRefs>
        <dataInputRefs>block375_proto_autoInput</dataInputRefs>
        <dataInputRefs>block375_instanceNameInput</dataInputRefs>
        <dataInputRefs>block375_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block375_redazioneInput</dataInputRefs>
        <dataInputRefs>block375_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block375_conversioneInput</dataInputRefs>
        <dataInputRefs>block375_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block375_instanceIdInput</dataInputRefs>
        <dataInputRefs>block375_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block375_modificaInput</dataInputRefs>
        <dataInputRefs>block375_outcomeInput</dataInputRefs>
        <dataInputRefs>block375_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block375_systemTokenInput</dataInputRefs>
        <dataInputRefs>block375_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block375_creazioneInput</dataInputRefs>
        <dataInputRefs>block375_descrizioneInput</dataInputRefs>
        <dataInputRefs>block375___ckValueInput</dataInputRefs>
        <dataInputRefs>block375_firmatariInput</dataInputRefs>
        <dataInputRefs>block375_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block375_template_principaleInput</dataInputRefs>
        <dataInputRefs>block375_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block375_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block375_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block375_nameInput</dataInputRefs>
        <dataInputRefs>block375_descriptionInput</dataInputRefs>
        <dataInputRefs>block375_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block375_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block375_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block375_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block375_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:approvazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_approvazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block375_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block375_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block375_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block375_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: textRef -->
        <sourceRef><![CDATA[oggettoProtocolloSilAssenso]]></sourceRef>
        <targetRef>block375_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_redazione]]></sourceRef>
        <targetRef>block375_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block375_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: script -->
        <sourceRef><![CDATA["Redazione documento silenzio assenso";]]></sourceRef>
        <targetRef>block375_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block375_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block375_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block375_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block375_assegnazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block375_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block375_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block375_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block375_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block375_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block375_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Registrazione Automatica";]]></sourceRef>
        <targetRef>block375_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block375_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[documentoSilenzioAssenso.DOCNUM;]]></sourceRef>
        <targetRef>block375_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block375_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block375_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity filiera dedicata]]></from>
            <to xsi:type="tFormalExpression">block375_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block375_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[questa filiera viene utilizzata solamente per registrare in automatico il documento]]></from>
            <to xsi:type="tFormalExpression">block375_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block375_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block375_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block375_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block375_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block375_documento_principale_registratoOutput</sourceRef>
        <targetRef>documentoSilenzioAssensoProto</targetRef>
</dataOutputAssociation>
    
</callActivity>





<callActivity id="block214" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Filiera destrutturata con invio del provvedimento positivo" calledElementByName="#{lista_call_activity.FilieraDestrutturataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block214_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block214_versioningInput" name="versioning" />
    <dataInput id="block214_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block214_messaggioInput" name="messaggio" />
    <dataInput id="block214_proto_autoInput" name="proto_auto" />
    <dataInput id="block214_instanceNameInput" name="instanceName" />
    <dataInput id="block214_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block214_registrareInput" name="registrare" />
    <dataInput id="block214_oggettoInput" name="oggetto" />
    <dataInput id="block214_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block214_redazioneInput" name="redazione" />
    <dataInput id="block214_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block214_humanTokenInput" name="humanToken" />
    <dataInput id="block214_abilita_ht_verificaInput" name="abilita_ht_verifica" />
    <dataInput id="block214_conversioneInput" name="conversione" />
    <dataInput id="block214_tipo_registrazioneInput" name="tipo_registrazione" />
    <dataInput id="block214_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block214_instanceIdInput" name="instanceId" />
    <dataInput id="block214_porta_docerInput" name="porta_docer" />
    <dataInput id="block214_destinatariInput" name="destinatari" />
    <dataInput id="block214_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block214_urlDocerInput" name="urlDocer" />
    <dataInput id="block214_outcomeInput" name="outcome" />
    <dataInput id="block214_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block214_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block214_mittenteInput" name="mittente" />
    <dataInput id="block214_linkFascicoloInput" name="linkFascicolo" />
    <dataInput id="block214_systemTokenInput" name="systemToken" />
    <dataInput id="block214_mittentiInput" name="mittenti" />
    <dataInput id="block214_pubblicazioneInput" name="pubblicazione" />
    <dataInput id="block214_conversione_manualeInput" name="conversione_manuale" />
    <dataInput id="block214_creazioneInput" name="creazione" />
    <dataInput id="block214_inviareInput" name="inviare" />
    <dataInput id="block214_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block214_firmatarioInput" name="firmatario" />
    <dataInput id="block214_descrizioneInput" name="descrizione" />
    <dataInput id="block214_protocollazioneInput" name="protocollazione" />
    <dataInput id="block214_firmareInput" name="firmare" />
    <dataInput id="block214_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block214_canalePECInput" name="canalePEC" />
    <dataInput id="block214_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block214_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block214_timbrareInput" name="timbrare" />
    <dataInput id="block214_assegnazioneInput" name="assegnazione" />
    <dataInput id="block214_nameInput" name="name" />
    <dataInput id="block214_descriptionInput" name="description" />
    <dataInput id="block214_processNameInput" name="processName" />
    <dataOutput id="block214_principale_registratoOutput" name="principale_registrato" />
    <dataOutput id="block214_docnum_principaleOutput" name="docnum_principale" />

    <inputSet>
        <dataInputRefs>block214_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block214_versioningInput</dataInputRefs>
        <dataInputRefs>block214_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block214_messaggioInput</dataInputRefs>
        <dataInputRefs>block214_proto_autoInput</dataInputRefs>
        <dataInputRefs>block214_instanceNameInput</dataInputRefs>
        <dataInputRefs>block214_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block214_registrareInput</dataInputRefs>
        <dataInputRefs>block214_oggettoInput</dataInputRefs>
        <dataInputRefs>block214_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block214_redazioneInput</dataInputRefs>
        <dataInputRefs>block214_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block214_humanTokenInput</dataInputRefs>
        <dataInputRefs>block214_abilita_ht_verificaInput</dataInputRefs>
        <dataInputRefs>block214_conversioneInput</dataInputRefs>
        <dataInputRefs>block214_tipo_registrazioneInput</dataInputRefs>
        <dataInputRefs>block214_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block214_instanceIdInput</dataInputRefs>
        <dataInputRefs>block214_porta_docerInput</dataInputRefs>
        <dataInputRefs>block214_destinatariInput</dataInputRefs>
        <dataInputRefs>block214_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block214_urlDocerInput</dataInputRefs>
        <dataInputRefs>block214_outcomeInput</dataInputRefs>
        <dataInputRefs>block214_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block214_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block214_mittenteInput</dataInputRefs>
        <dataInputRefs>block214_linkFascicoloInput</dataInputRefs>
        <dataInputRefs>block214_systemTokenInput</dataInputRefs>
        <dataInputRefs>block214_mittentiInput</dataInputRefs>
        <dataInputRefs>block214_pubblicazioneInput</dataInputRefs>
        <dataInputRefs>block214_conversione_manualeInput</dataInputRefs>
        <dataInputRefs>block214_creazioneInput</dataInputRefs>
        <dataInputRefs>block214_inviareInput</dataInputRefs>
        <dataInputRefs>block214_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block214_firmatarioInput</dataInputRefs>
        <dataInputRefs>block214_descrizioneInput</dataInputRefs>
        <dataInputRefs>block214_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block214_firmareInput</dataInputRefs>
        <dataInputRefs>block214_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block214_canalePECInput</dataInputRefs>
        <dataInputRefs>block214_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block214_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block214_timbrareInput</dataInputRefs>
        <dataInputRefs>block214_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block214_nameInput</dataInputRefs>
        <dataInputRefs>block214_descriptionInput</dataInputRefs>
        <dataInputRefs>block214_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block214_principale_registratoOutput</dataOutputRefs>
        <dataOutputRefs>block214_docnum_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block214_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block214_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block214_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Con la presente e-mail Le inviamo in allegato la lettera di accompagnamento con i documenti provvedimenti finali inerenti la sua istanza on-line";]]></sourceRef>
        <targetRef>block214_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block214_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block214_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria documento provvedimento finale";]]></sourceRef>
        <targetRef>block214_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block214_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block214_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block214_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:abilita_ht_verifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block214_abilita_ht_verificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_registrazione var type: script -->
        <sourceRef><![CDATA["u";]]></sourceRef>
        <targetRef>block214_tipo_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block214_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block214_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block214_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block214_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provvedimento finale positivo";]]></sourceRef>
        <targetRef>block214_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block214_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block214_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provvedimento finale positivo";]]></sourceRef>
        <targetRef>block214_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provverimento finale positivo";]]></sourceRef>
        <targetRef>block214_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block214_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:linkFascicolo var type: script -->
        <sourceRef><![CDATA[_tmp0_;]]></sourceRef>
        <targetRef>block214_linkFascicoloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block214_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block214_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:pubblicazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block214_pubblicazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione_manuale var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block214_conversione_manualeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block214_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:inviare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block214_inviareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block214_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provvedimento finale positivo";]]></sourceRef>
        <targetRef>block214_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block214_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block214_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block214_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block214_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block214_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block214_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:timbrare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block214_timbrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block214_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block214_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Filiera destrutturata con invio del provvedimento positivo]]></from>
            <to xsi:type="tFormalExpression">block214_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block214_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block214_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block214_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDestrutturataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block214_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block214_principale_registratoOutput</sourceRef>
        <targetRef>letteraProvvFinalePositivo</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block214_docnum_principaleOutput</sourceRef>
        <targetRef>docnum_docProvvFinalePositivo</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160921" sourceRef="block413" targetRef="block46">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block390" name="Aggiorna related" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block390_TaskNameInput" name="TaskName" />
        <dataInput id="block390_GroupIdInput" name="GroupId" />
        <dataInput id="block390_Operation" name="operation" />

            <dataInput id="block390_userTokenInput" name="userToken" />
            <dataInput id="block390_relatedDocsInput" name="relatedDocs" />
            <dataInput id="block390_documentInput" name="document" />
        
            <dataOutput id="block390_deltaOutput" name="delta" />
            <dataOutput id="block390_userTokenOutput" name="userToken" />
            <dataOutput id="block390_resultsOutput" name="results" />
            <dataOutput id="block390_firstOutput" name="first" />
           

        <inputSet>
            <dataInputRefs>block390_TaskNameInput</dataInputRefs>
            <dataInputRefs>block390_GroupIdInput</dataInputRefs>
            <dataInputRefs>block390_Operation</dataInputRefs>
                <dataInputRefs>block390_userTokenInput</dataInputRefs>
                <dataInputRefs>block390_relatedDocsInput</dataInputRefs>
                <dataInputRefs>block390_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block390_deltaOutput</dataOutputRefs>
                <dataOutputRefs>block390_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block390_resultsOutput</dataOutputRefs>
                <dataOutputRefs>block390_firstOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block390_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>listaAllegatiDocAnnullamento</sourceRef>
                            <targetRef>block390_relatedDocsInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoConclusivoAnnullamento</sourceRef>
                            <targetRef>block390_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block390_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block390_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block390_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">Aggiorna related</from>
           <to xsi:type="tFormalExpression">block390_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
    <dataInputAssociation>
        <targetRef>block390_Operation</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">AggiornaRelated</from>
            <to xsi:type="tFormalExpression">block390_Operation</to>
        </assignment>
    </dataInputAssociation>



            <dataOutputAssociation>
                            <sourceRef>block390_deltaOutput</sourceRef>
                            <targetRef>listaAllegatiDocAnnullamento</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block390_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block390_resultsOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block390_firstOutput</sourceRef>
                            <targetRef>documentoConclusivoAnnullamento</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block463" scriptFormat="http://www.mvel.org/2.0" name="Gestione silenzio assenso" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

//verifica se procedimento_concluso e se non concluso verifica i tempi procedimento. 
//Esce con esito_silenzio_assenso che impostato a "no" se procedimento concluso e tempi rispettati oppure a "avviato" se procedimento non concluso e tempi scaduti.
esito_ciclo="cicla";
gc=java.util.GregorianCalendar.getInstance();
oggi=gc.getTime();
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat("dd-MM-yyyy");
scadenza=fm2.parse(dataSilenzioAssenso);

System.out.println("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA oggi:"+oggi);
System.out.println("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA scadenza:"+dataSilenzioAssenso);
if(interruzioneProcedimento.equals("no")){
System.out.println("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx procedimento NON interrotto ");
	if(oggi.after(scadenza)){
System.out.println("BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB oggi after scadenza");
			    esito_ciclo="fine";
		          if(procedimento_concluso.equals("si")){
		                esito_silenzio_assenso="no";
		            }
		        else{
		                esito_silenzio_assenso="avviato";
		               }
	}

	if(oggi.before(scadenza)){
System.out.println("BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB oggi prima scadenza");
	    if(procedimento_concluso.equals("si")){
		  esito_silenzio_assenso="no";
		  esito_ciclo="fine";
	     }
	}
}

/**************  end user script  ***************/

//[auto-insert]
//esito_ciclo, esito_ciclo, esito_silenzio_assenso, esito_silenzio_assenso, esito_silenzio_assenso, esito_ciclo
kcontext.setVariable("esito_ciclo",null);
kcontext.setVariable("esito_ciclo",esito_ciclo);
kcontext.setVariable("esito_ciclo",null);
kcontext.setVariable("esito_ciclo",esito_ciclo);
kcontext.setVariable("esito_silenzio_assenso",null);
kcontext.setVariable("esito_silenzio_assenso",esito_silenzio_assenso);
kcontext.setVariable("esito_silenzio_assenso",null);
kcontext.setVariable("esito_silenzio_assenso",esito_silenzio_assenso);
kcontext.setVariable("esito_silenzio_assenso",null);
kcontext.setVariable("esito_silenzio_assenso",esito_silenzio_assenso);
kcontext.setVariable("esito_ciclo",null);
kcontext.setVariable("esito_ciclo",esito_ciclo);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160555" sourceRef="block333" targetRef="block109">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161173" sourceRef="block444" targetRef="block441">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161671" sourceRef="block189" targetRef="block503">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160213" sourceRef="block181" targetRef="block167">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- **************************** INIZIO SUBPROCESS block496 ****************************** -->

<subProcess id="block496" isForCompensation="false" name="Richiesta parere enti scelti"  triggeredByEvent="false">

    <property id="Result_pareri" itemSubjectRef="objectType"/>
    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="uo_corrente" itemSubjectRef="textType"/>
    <property id="uo_proto_corrente" itemSubjectRef="objectType"/>
    <property id="allegati_pareri_ricevuti" itemSubjectRef="collectionType"/>
    <property id="Default" itemSubjectRef="objectType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>
    <property id="documentoPareriRicevuti" itemSubjectRef="objectType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",{"@structure":"object","id":"Default","name":"Default"});
kcontext.setVariable("uo_proto_corrente",null);
kcontext.setVariable("uo_proto_corrente",{});
kcontext.setVariable("Result_pareri",null);
kcontext.setVariable("Result_pareri",{});
kcontext.setVariable("documentoPareriRicevuti",null);
kcontext.setVariable("documentoPareriRicevuti",{"@structure":"document","DOCNAME":"","TYPE_ID":"DOCUMENTO","ABSTRACT":"documentoPareriRicevuti","TIPO_PROTOCOLLAZIONE":""});
kcontext.setVariable("allegati_pareri_ricevuti",null);
kcontext.setVariable("allegati_pareri_ricevuti",[]);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<ioSpecification>

    <dataInput id="block496_CollectionExpressionInput" name="CollectionExpression" />
    <dataOutput id="block496_OutputCollectionExpressionOutput" name="OutputCollectionExpression" />

    <inputSet>
        <dataInputRefs>block496_CollectionExpressionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block496_OutputCollectionExpressionOutput</dataOutputRefs>
    </outputSet>

</ioSpecification>

<dataInputAssociation>
    <sourceRef>uo_pareri_interni</sourceRef>
    <targetRef>block496_CollectionExpressionInput</targetRef>
</dataInputAssociation>

<dataOutputAssociation>
    <sourceRef>block496_OutputCollectionExpressionOutput</sourceRef>
    <targetRef>_foreachc_</targetRef>
</dataOutputAssociation>


<multiInstanceLoopCharacteristics >
    <loopDataInputRef>block496_CollectionExpressionInput</loopDataInputRef>
    <loopDataOutputRef>block496_OutputCollectionExpressionOutput</loopDataOutputRef>
    <inputDataItem id="uo_corrente" itemSubjectRef="tempType"/>
    <outputDataItem id="_foreachi_" itemSubjectRef="tempType"/>
</multiInstanceLoopCharacteristics>

<scriptTask id="block496_block8" scriptFormat="http://www.mvel.org/2.0" name="Gestione pareri" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/


java.util.HashMap parere=new java.util.HashMap();
parere.put("uo",uo_corrente);
parere.put("descrizione_uo",uo_proto_corrente.descrizione);
parere.put("documento_principale",documentoPareriRicevuti);
parere.put("lista_allegati",allegati_pareri_ricevuti);

System.out.println("parereeeeeeeee ");
System.out.println(parere);
listaPareriInterniRicevuti.add(parere);
System.out.println("lista_pareri_plllllllllllllllllllllll");
System.out.println(listaPareriInterniRicevuti);

/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_11419" sourceRef="block496_block36" targetRef="block496_block8">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block496_block2" scriptFormat="http://www.mvel.org/2.0" name="Gestione figura professionale per HT" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

Default=new java.util.HashMap();
Default.put("identity",uo_corrente)

/**************  end user script  ***************/

//[auto-insert]
//Default
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);



//[auto-insert]
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_11395" sourceRef="block496_block25" targetRef="block496_block2">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_11389" sourceRef="block496_block0" targetRef="block496_block25">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block496_block1" name="end">

</endEvent>

<userTask id="block496_block3" name="HT-Generico_block496_block3" >


    <ioSpecification>

        <dataInput id="block496_block3_TaskNameInput" name="TaskName" />
        <dataInput id="block496_block3_GroupIdInput" name="GroupId" />
        <dataInput id="block496_block3_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block496_block3_uo_proto_correnteInput" name="uo_proto_corrente" />
            <dataInput id="block496_block3_commentInput" name="comment" />
            <dataInput id="block496_block3_allegatiPareriInterniInput" name="allegatiPareriInterni" />
            <dataInput id="block496_block3_doc_pareri_interniProtocollatoInput" name="doc_pareri_interniProtocollato" />
            <dataInput id="block496_block3_annessiPareriInterniInput" name="annessiPareriInterni" />
        
            <dataOutput id="block496_block3_reasonOutput" name="reason" />
            <dataOutput id="block496_block3_userTokenOutput" name="userToken" />
            <dataOutput id="block496_block3_ResultOutput" name="Result" />
           

        <inputSet>
            <dataInputRefs>block496_block3_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block496_block3_TaskNameInput</dataInputRefs>
            <dataInputRefs>block496_block3_GroupIdInput</dataInputRefs>
                <dataInputRefs>block496_block3_uo_proto_correnteInput</dataInputRefs>
                <dataInputRefs>block496_block3_commentInput</dataInputRefs>
                <dataInputRefs>block496_block3_allegatiPareriInterniInput</dataInputRefs>
                <dataInputRefs>block496_block3_doc_pareri_interniProtocollatoInput</dataInputRefs>
                <dataInputRefs>block496_block3_annessiPareriInterniInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block496_block3_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block496_block3_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block496_block3_ResultOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>uo_proto_corrente</sourceRef>
                            <targetRef>block496_block3_uo_proto_correnteInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block496_block3_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block496_block3_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiPareriInterni</sourceRef>
                            <targetRef>block496_block3_allegatiPareriInterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interniProtocollato</sourceRef>
                            <targetRef>block496_block3_doc_pareri_interniProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiPareriInterni</sourceRef>
                            <targetRef>block496_block3_annessiPareriInterniInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block496_block3_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block496_block3_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Richiesta parere"</from>
           <to xsi:type="tFormalExpression">block496_block3_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block496_block3_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block496_block3_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block496_block3_ResultOutput</sourceRef>
                    <targetRef>Result_pareri</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<!-- id:block496_block0 -->
<startEvent id="block496_block0" name="Start" isInterrupting="false" >
    <dataOutput id="block496_block0_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block496_block0_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block496_block0_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<sequenceFlow id="con_11413" sourceRef="block496_block35" targetRef="block496_block36">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block496_block36" isForCompensation="false" independent="false" waitForCompletion="true" name="Creazione UD documento pareri" calledElementByName="Creazione UD2.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block496_block36_System_AccountInput" name="System_Account" />
    <dataInput id="block496_block36_allegatiPrincipaleInput" name="allegatiPrincipale" />
    <dataInput id="block496_block36_lista_correlatiInput" name="lista_correlati" />
    <dataInput id="block496_block36_descrizioneInput" name="descrizione" />
    <dataInput id="block496_block36_documentoInput" name="documento" />
    <dataInput id="block496_block36_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block496_block36_asyncInput" name="async" />
    <dataInput id="block496_block36_processNameInput" name="processName" />
    <dataInput id="block496_block36_nameInput" name="name" />
    <dataInput id="block496_block36_commitInput" name="commit" />
    <dataInput id="block496_block36_descriptionInput" name="description" />
    <dataInput id="block496_block36_waitForCompletionInput" name="waitForCompletion" />
    <dataOutput id="block496_block36_documentoOutput" name="documento" />
    <dataOutput id="block496_block36_lista_correlati_udOutput" name="lista_correlati_ud" />

    <inputSet>
        <dataInputRefs>block496_block36_System_AccountInput</dataInputRefs>
        <dataInputRefs>block496_block36_allegatiPrincipaleInput</dataInputRefs>
        <dataInputRefs>block496_block36_lista_correlatiInput</dataInputRefs>
        <dataInputRefs>block496_block36_descrizioneInput</dataInputRefs>
        <dataInputRefs>block496_block36_documentoInput</dataInputRefs>
        <dataInputRefs>block496_block36_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block496_block36_asyncInput</dataInputRefs>
        <dataInputRefs>block496_block36_processNameInput</dataInputRefs>
        <dataInputRefs>block496_block36_nameInput</dataInputRefs>
        <dataInputRefs>block496_block36_commitInput</dataInputRefs>
        <dataInputRefs>block496_block36_descriptionInput</dataInputRefs>
        <dataInputRefs>block496_block36_waitForCompletionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block496_block36_documentoOutput</dataOutputRefs>
        <dataOutputRefs>block496_block36_lista_correlati_udOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:System_Account var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block496_block36_System_AccountInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:allegatiPrincipale var type: document -->
        <sourceRef><![CDATA[allegati_pareri_ricevuti]]></sourceRef>
        <targetRef>block496_block36_allegatiPrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lista_correlati var type: document -->
        <sourceRef><![CDATA[allegati_pareri_ricevuti]]></sourceRef>
        <targetRef>block496_block36_lista_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Creazione documento pareri";]]></sourceRef>
        <targetRef>block496_block36_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:documento var type: document -->
        <sourceRef><![CDATA[documentoPareriRicevuti]]></sourceRef>
        <targetRef>block496_block36_documentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: tempRef -->
        <sourceRef><![CDATA[uo_corrente]]></sourceRef>
        <targetRef>block496_block36_figura_professionaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block496_block36_asyncInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block496_block36_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD2.0]]></from>
            <to xsi:type="tFormalExpression">block496_block36_processNameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block496_block36_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD documento pareri]]></from>
            <to xsi:type="tFormalExpression">block496_block36_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block496_block36_commitInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block496_block36_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD documento pareri]]></from>
            <to xsi:type="tFormalExpression">block496_block36_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block496_block36_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block496_block36_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block496_block36_documentoOutput</sourceRef>
        <targetRef>documentoPareriRicevuti</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block496_block36_lista_correlati_udOutput</sourceRef>
        <targetRef>allegati_pareri_ricevuti</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_11383" sourceRef="block496_block8" targetRef="block496_block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block496_block25" scriptFormat="http://www.mvel.org/2.0" name="Set uo_proto_corrente" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println(" uo_corrente "+uo_corrente);
java.util.HashMap destinatario = null;
foreach(destinatario : destinatari_pareri_interni){
      if(destinatario.id == uo_corrente){
       uo_proto_corrente=destinatario;
      System.out.println(" uo_proto_corrente "+uo_proto_corrente);
      }
}

/**************  end user script  ***************/

//[auto-insert]
//destinatario, uo_proto_corrente
kcontext.setVariable("destinatario",null);
kcontext.setVariable("destinatario",destinatario);
kcontext.setVariable("uo_proto_corrente",null);
kcontext.setVariable("uo_proto_corrente",uo_proto_corrente);



        ]]>
    </script>
</scriptTask>



<scriptTask id="block496_block35" scriptFormat="http://www.mvel.org/2.0" name="Gestione documento pareri " isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

documentoPareriRicevuti=null;
allegati_pareri_ricevuti = new java.util.ArrayList();
coppia = new java.lang.Object();
foreach (coppia : Result_pareri.entrySet()){
    System.out.println("coppia dsdsd    "+coppia);
    if(coppia.getKey().contains("PARERIRICEVUTI")) {
    princ=new java.util.HashMap();
    princ.put("@structure","document");
    princ.put("filePath",coppia.getValue().get("filePath"));
    princ.put("TYPE_ID","DOCUMENTO");
    princ.put("TIPO_COMPONENTE","PRINCIPALE");
    documentoPareriRicevuti=princ;
    }
     if(coppia.getKey().contains("ALLEGATO")) {
        allegato=new java.util.HashMap();
        allegato.put("@structure","document");
        allegato.put("filePath",coppia.getValue().get("filePath"));
        allegato.put("TYPE_ID","DOCUMENTO");
        allegato.put("TIPO_COMPONENTE","ALLEGATO");
        allegati_pareri_ricevuti.add(allegato);
        }
}
System.out.println("documentoPareriRicevuti dsdsd    "+documentoPareriRicevuti);
System.out.println("allegati_pareri_ricevuti dsdsd   "+allegati_pareri_ricevuti);


/**************  end user script  ***************/

//[auto-insert]
//documentoPareriRicevuti, allegati_pareri_ricevuti, documentoPareriRicevuti
kcontext.setVariable("documentoPareriRicevuti",null);
kcontext.setVariable("documentoPareriRicevuti",documentoPareriRicevuti);
kcontext.setVariable("allegati_pareri_ricevuti",null);
kcontext.setVariable("allegati_pareri_ricevuti",allegati_pareri_ricevuti);
kcontext.setVariable("documentoPareriRicevuti",null);
kcontext.setVariable("documentoPareriRicevuti",documentoPareriRicevuti);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_11401" sourceRef="block496_block2" targetRef="block496_block3">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_11407" sourceRef="block496_block3" targetRef="block496_block35">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<sequenceFlow id="con_161461" sourceRef="block390" targetRef="block400">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block381" scriptFormat="http://www.mvel.org/2.0" name="Script-task impostazioni default" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

Default.identity=figura_professionale_procedimento;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160363" sourceRef="block259" targetRef="block261">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160405" sourceRef="block165" targetRef="block246">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block109" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<scriptTask id="block234" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraSmistamentoExt;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block385" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>

<callActivity id="block312" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documento per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block312_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block312_descrizioneInput" name="descrizione" />
    <dataInput id="block312_instanceIdInput" name="instanceId" />
    <dataInput id="block312_instanceNameInput" name="instanceName" />
    <dataInput id="block312_systemTokenInput" name="systemToken" />
    <dataInput id="block312_principaleInput" name="principale" />
    <dataInput id="block312_canalePECInput" name="canalePEC" />
    <dataInput id="block312_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block312_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block312_outcomeInput" name="outcome" />
    <dataInput id="block312_humanTokenInput" name="humanToken" />
    <dataInput id="block312_nameInput" name="name" />
    <dataInput id="block312_descriptionInput" name="description" />
    <dataInput id="block312_processNameInput" name="processName" />
    <dataOutput id="block312_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block312_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block312_descrizioneInput</dataInputRefs>
        <dataInputRefs>block312_instanceIdInput</dataInputRefs>
        <dataInputRefs>block312_instanceNameInput</dataInputRefs>
        <dataInputRefs>block312_systemTokenInput</dataInputRefs>
        <dataInputRefs>block312_principaleInput</dataInputRefs>
        <dataInputRefs>block312_canalePECInput</dataInputRefs>
        <dataInputRefs>block312_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block312_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block312_outcomeInput</dataInputRefs>
        <dataInputRefs>block312_humanTokenInput</dataInputRefs>
        <dataInputRefs>block312_nameInput</dataInputRefs>
        <dataInputRefs>block312_descriptionInput</dataInputRefs>
        <dataInputRefs>block312_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block312_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block312_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block312_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block312_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block312_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block312_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block312_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_templateSmistamentoEsterno]]></sourceRef>
        <targetRef>block312_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block312_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block312_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block312_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block312_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block312_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block312_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block312_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block312_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block312_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documento per portale]]></from>
            <to xsi:type="tFormalExpression">block312_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block312_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block312_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block312_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block312_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block312_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoConclusioneSmistamento</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160693" sourceRef="block352" targetRef="block341">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161413" sourceRef="block340" targetRef="block485">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160423" sourceRef="block307" targetRef="block305">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161575" sourceRef="block428" targetRef="block467">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block194" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraProvvFinaleNegativo;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<exclusiveGateway id="block440" name="gateway-exclusive" gatewayDirection="Diverging"></exclusiveGateway>

<sequenceFlow id="con_160819" sourceRef="block382" targetRef="block363">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160201" sourceRef="block18" targetRef="block180">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="negativoIrricevibilita"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block198" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera richiesta integrazioni" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block198_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block198_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block198_versioningInput" name="versioning" />
    <dataInput id="block198_messaggioInput" name="messaggio" />
    <dataInput id="block198_proto_autoInput" name="proto_auto" />
    <dataInput id="block198_instanceNameInput" name="instanceName" />
    <dataInput id="block198_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block198_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block198_oggettoInput" name="oggetto" />
    <dataInput id="block198_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block198_humanTokenInput" name="humanToken" />
    <dataInput id="block198_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block198_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block198_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block198_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block198_instanceIdInput" name="instanceId" />
    <dataInput id="block198_destinatariInput" name="destinatari" />
    <dataInput id="block198_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block198_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block198_urlDocerInput" name="urlDocer" />
    <dataInput id="block198_outcomeInput" name="outcome" />
    <dataInput id="block198_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block198_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block198_mittenteInput" name="mittente" />
    <dataInput id="block198_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block198_systemTokenInput" name="systemToken" />
    <dataInput id="block198_mittentiInput" name="mittenti" />
    <dataInput id="block198_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block198_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block198_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block198_invioInput" name="invio" />
    <dataInput id="block198_creazioneInput" name="creazione" />
    <dataInput id="block198_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block198_descrizioneInput" name="descrizione" />
    <dataInput id="block198___ckValueInput" name="__ckValue" />
    <dataInput id="block198_firmatariInput" name="firmatari" />
    <dataInput id="block198_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block198_template_principaleInput" name="template_principale" />
    <dataInput id="block198_canalePECInput" name="canalePEC" />
    <dataInput id="block198_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block198_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block198_tipoOperazioneInput" name="tipoOperazione" />
    <dataInput id="block198_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block198_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block198_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block198_assegnazioneInput" name="assegnazione" />
    <dataInput id="block198_nameInput" name="name" />
    <dataInput id="block198_descriptionInput" name="description" />
    <dataInput id="block198_processNameInput" name="processName" />
    <dataOutput id="block198_messagePortaleOutput" name="messagePortale" />
    <dataOutput id="block198_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block198_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block198_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block198_versioningInput</dataInputRefs>
        <dataInputRefs>block198_messaggioInput</dataInputRefs>
        <dataInputRefs>block198_proto_autoInput</dataInputRefs>
        <dataInputRefs>block198_instanceNameInput</dataInputRefs>
        <dataInputRefs>block198_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block198_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block198_oggettoInput</dataInputRefs>
        <dataInputRefs>block198_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block198_humanTokenInput</dataInputRefs>
        <dataInputRefs>block198_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block198_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block198_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block198_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block198_instanceIdInput</dataInputRefs>
        <dataInputRefs>block198_destinatariInput</dataInputRefs>
        <dataInputRefs>block198_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block198_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block198_urlDocerInput</dataInputRefs>
        <dataInputRefs>block198_outcomeInput</dataInputRefs>
        <dataInputRefs>block198_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block198_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block198_mittenteInput</dataInputRefs>
        <dataInputRefs>block198_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block198_systemTokenInput</dataInputRefs>
        <dataInputRefs>block198_mittentiInput</dataInputRefs>
        <dataInputRefs>block198_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block198_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block198_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block198_invioInput</dataInputRefs>
        <dataInputRefs>block198_creazioneInput</dataInputRefs>
        <dataInputRefs>block198_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block198_descrizioneInput</dataInputRefs>
        <dataInputRefs>block198___ckValueInput</dataInputRefs>
        <dataInputRefs>block198_firmatariInput</dataInputRefs>
        <dataInputRefs>block198_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block198_template_principaleInput</dataInputRefs>
        <dataInputRefs>block198_canalePECInput</dataInputRefs>
        <dataInputRefs>block198_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block198_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block198_tipoOperazioneInput</dataInputRefs>
        <dataInputRefs>block198_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block198_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block198_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block198_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block198_nameInput</dataInputRefs>
        <dataInputRefs>block198_descriptionInput</dataInputRefs>
        <dataInputRefs>block198_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block198_messagePortaleOutput</dataOutputRefs>
        <dataOutputRefs>block198_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block198_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block198_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Con la presente email Le viene richiesto di inviare ulteriori informazioni al fine di procedere con la procedura amministrativa";]]></sourceRef>
        <targetRef>block198_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block198_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block198_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Richiesta integrazioni";]]></sourceRef>
        <targetRef>block198_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block198_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block198_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block198_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block198_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Richiesta integrazioni";]]></sourceRef>
        <targetRef>block198_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block198_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Richiesta Integrazioni - "+descrizione;]]></sourceRef>
        <targetRef>block198_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firmare richiesta integrazioni";]]></sourceRef>
        <targetRef>block198_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block198_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block198_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block198_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block198_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block198_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block198_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block198_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block198_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera richiesta integrazioni";]]></sourceRef>
        <targetRef>block198_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[ck]]></sourceRef>
        <targetRef>block198___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block198_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block198_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block198_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block198_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipoOperazione var type: script -->
        <sourceRef><![CDATA["richiestaIntegrazioni";]]></sourceRef>
        <targetRef>block198_tipoOperazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block198_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block198_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block198_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block198_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera richiesta integrazioni]]></from>
            <to xsi:type="tFormalExpression">block198_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block198_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block198_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block198_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block198_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block198_messagePortaleOutput</sourceRef>
        <targetRef>messagePortale</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block198_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_richiestaIntegrazioni</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161113" sourceRef="block436" targetRef="block437">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_fascicolare=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161185" sourceRef="block438" targetRef="block451">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block261" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<task id="block414" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block414_TaskNameInput" name="TaskName" />
        <dataInput id="block414_GroupIdInput" name="GroupId" />
        <dataInput id="block414_Operation" name="operation" />

            <dataInput id="block414_userTokenInput" name="userToken" />
            <dataInput id="block414_documentInput" name="document" />
        
            <dataOutput id="block414_userTokenOutput" name="userToken" />
            <dataOutput id="block414_annessiOutput" name="annessi" />
            <dataOutput id="block414_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block414_allegatiOutput" name="allegati" />
            <dataOutput id="block414_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block414_TaskNameInput</dataInputRefs>
            <dataInputRefs>block414_GroupIdInput</dataInputRefs>
            <dataInputRefs>block414_Operation</dataInputRefs>
                <dataInputRefs>block414_userTokenInput</dataInputRefs>
                <dataInputRefs>block414_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block414_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block414_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block414_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block414_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block414_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block414_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interniProtocollato</sourceRef>
                            <targetRef>block414_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block414_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block414_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block414_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block414_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block414_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block414_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block414_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block414_annessiOutput</sourceRef>
                            <targetRef>annessiPareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block414_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block414_allegatiOutput</sourceRef>
                            <targetRef>allegatiPareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block414_documentOutput</sourceRef>
                            <targetRef>doc_pareri_interniProtocollato</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block399" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione lista allegati" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

listaAllegatiDocAnnullamento.add(docCopy);
System.out.println("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"+listaAllegatiDocAnnullamento.toString());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("listaAllegatiDocAnnullamento",null);
kcontext.setVariable("listaAllegatiDocAnnullamento",listaAllegatiDocAnnullamento);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161317" sourceRef="block469" targetRef="block234">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[smistamento=="esterno"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block364" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione variabili template" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraDocumentoFinale;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

java.util.HashMap tplVar=new java.util.HashMap();

variabiliTemplateDocNonInvio.put("note", noteDocNonInvio);
variabiliTemplateDocNonInvio.put("titoloprocedimento", titoloProcedimento);
variabiliTemplateDocNonInvio.put("numeroprotocollo", documentoProtocollato.NUM_PG);
variabiliTemplateDocNonInvio.put("annoprotocollo", documentoProtocollato.ANNO_PG);

//variabiliTemplateDocNonInvio=tplVar;


java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);

ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;


/**************  end user script  ***************/

//[auto-insert]
//ck
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);



//[auto-insert]
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("variabiliTemplateDocNonInvio",null);
kcontext.setVariable("variabiliTemplateDocNonInvio",variabiliTemplateDocNonInvio);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block455" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_161491" sourceRef="block364" targetRef="block366">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161161" sourceRef="block445" targetRef="block441">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[presente_classifica!="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160879" sourceRef="block399" targetRef="block387">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161665" sourceRef="block502" targetRef="block501">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[annesso_pareri_interni=="no"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block330" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block330_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block330_descrizioneInput" name="descrizione" />
    <dataInput id="block330_instanceIdInput" name="instanceId" />
    <dataInput id="block330_instanceNameInput" name="instanceName" />
    <dataInput id="block330_systemTokenInput" name="systemToken" />
    <dataInput id="block330_principaleInput" name="principale" />
    <dataInput id="block330_canalePECInput" name="canalePEC" />
    <dataInput id="block330_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block330_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block330_outcomeInput" name="outcome" />
    <dataInput id="block330_humanTokenInput" name="humanToken" />
    <dataInput id="block330_nameInput" name="name" />
    <dataInput id="block330_descriptionInput" name="description" />
    <dataInput id="block330_processNameInput" name="processName" />
    <dataOutput id="block330_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block330_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block330_descrizioneInput</dataInputRefs>
        <dataInputRefs>block330_instanceIdInput</dataInputRefs>
        <dataInputRefs>block330_instanceNameInput</dataInputRefs>
        <dataInputRefs>block330_systemTokenInput</dataInputRefs>
        <dataInputRefs>block330_principaleInput</dataInputRefs>
        <dataInputRefs>block330_canalePECInput</dataInputRefs>
        <dataInputRefs>block330_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block330_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block330_outcomeInput</dataInputRefs>
        <dataInputRefs>block330_humanTokenInput</dataInputRefs>
        <dataInputRefs>block330_nameInput</dataInputRefs>
        <dataInputRefs>block330_descriptionInput</dataInputRefs>
        <dataInputRefs>block330_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block330_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block330_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block330_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per portale";]]></sourceRef>
        <targetRef>block330_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block330_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block330_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block330_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[letteraProvvFinalePositivo]]></sourceRef>
        <targetRef>block330_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block330_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block330_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block330_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block330_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block330_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block330_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block330_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block330_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block330_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block330_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block330_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block330_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block330_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block330_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block330_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<endEvent id="block133" name="end">

</endEvent>

<sequenceFlow id="con_160711" sourceRef="block150" targetRef="block176">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito!="scaduto"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160603" sourceRef="block301" targetRef="block340">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160147" sourceRef="block27" targetRef="block13">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<exclusiveGateway id="block467" name="Exclusive Split (XOR)" gatewayDirection="Diverging"></exclusiveGateway>

<sequenceFlow id="con_161095" sourceRef="block430" targetRef="block17">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block162" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione variabili firmatari come oggetti generici" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println("smistamento"+smistamento);
oggettoFirmatariSmistamentoExt.clear()
oggettoFirmatariComunicazioneAvvio.clear()
oggettoFirmatariMotiviOstativi.clear()
oggettoFirmatariIrrecivibilita.clear()
oggettoFirmatariRichiestaIntegrazioni.clear()
oggettoFirmatariPareriInterni.clear()
oggettoFirmatariPareriEsterni.clear()
oggettoFirmatariProvvFinalePositivo.clear()
oggettoFirmatariDocumentoFinale.clear()
oggettoFirmatariProvvFinaleNegativo.clear()
oggettoFirmatariComunicazioneDiniego.clear()


java.lang.String str="";

if(gestioneIncaricato=="no"){
java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaSmistamentoExt.split(",")));

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariSmistamentoExt.add(map);
}

 
java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaComunicazioneAvvio.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariComunicazioneAvvio.add(map);
}


java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaMotiviOstativi.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariMotiviOstativi.add(map);
}


java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaIrrecivibilita.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariIrrecivibilita.add(map);
}

java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaRichiestaIntegrazioni.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariRichiestaIntegrazioni.add(map);
}

java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaPareriInterni.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariPareriInterni.add(map);
}

java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaPareriEsterni.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariPareriEsterni.add(map);
}


java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaProvvFinalePositivo.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariProvvFinalePositivo.add(map);
}


java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaDocumentoFinale.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariDocumentoFinale.add(map);
}


java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaProvvFinaleNegativo.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariProvvFinaleNegativo.add(map);
}

java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_FirmaComunicazioneDiniego.split(",")));
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariComunicazioneDiniego.add(map);
}

}



if(gestioneIncaricato=="si"){

java.util.ArrayList lista=new java.util.ArrayList(java.util.Arrays.asList(UO_firma.split(",")));

System.out.println("firmafirmafirma:"+ lista.toString());
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariSmistamentoExt.add(map);
}

 
foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariComunicazioneAvvio.add(map);
}


foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariMotiviOstativi.add(map);
}

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariIrrecivibilita.add(map);
}

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariRichiestaIntegrazioni.add(map);
}

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariPareriInterni.add(map);
}


foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariPareriEsterni.add(map);
}


foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariProvvFinalePositivo.add(map);
}


foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariDocumentoFinale.add(map);
}

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariProvvFinaleNegativo.add(map);
}

foreach(str : lista){
java.util.HashMap map = new java.util.HashMap();
map.put("user","");
map.put("figura_professionale",str);
oggettoFirmatariComunicazioneDiniego.add(map);
}

}



Default.identity=figura_professionale_procedimento;


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("oggettoFirmatariSmistamentoExt",null);
kcontext.setVariable("oggettoFirmatariSmistamentoExt",oggettoFirmatariSmistamentoExt);
kcontext.setVariable("oggettoFirmatariComunicazioneAvvio",null);
kcontext.setVariable("oggettoFirmatariComunicazioneAvvio",oggettoFirmatariComunicazioneAvvio);
kcontext.setVariable("oggettoFirmatariMotiviOstativi",null);
kcontext.setVariable("oggettoFirmatariMotiviOstativi",oggettoFirmatariMotiviOstativi);
kcontext.setVariable("oggettoFirmatariIrrecivibilita",null);
kcontext.setVariable("oggettoFirmatariIrrecivibilita",oggettoFirmatariIrrecivibilita);
kcontext.setVariable("oggettoFirmatariRichiestaIntegrazioni",null);
kcontext.setVariable("oggettoFirmatariRichiestaIntegrazioni",oggettoFirmatariRichiestaIntegrazioni);
kcontext.setVariable("oggettoFirmatariPareriInterni",null);
kcontext.setVariable("oggettoFirmatariPareriInterni",oggettoFirmatariPareriInterni);
kcontext.setVariable("oggettoFirmatariPareriEsterni",null);
kcontext.setVariable("oggettoFirmatariPareriEsterni",oggettoFirmatariPareriEsterni);
kcontext.setVariable("oggettoFirmatariProvvFinalePositivo",null);
kcontext.setVariable("oggettoFirmatariProvvFinalePositivo",oggettoFirmatariProvvFinalePositivo);
kcontext.setVariable("oggettoFirmatariDocumentoFinale",null);
kcontext.setVariable("oggettoFirmatariDocumentoFinale",oggettoFirmatariDocumentoFinale);
kcontext.setVariable("oggettoFirmatariProvvFinaleNegativo",null);
kcontext.setVariable("oggettoFirmatariProvvFinaleNegativo",oggettoFirmatariProvvFinaleNegativo);
kcontext.setVariable("oggettoFirmatariComunicazioneDiniego",null);
kcontext.setVariable("oggettoFirmatariComunicazioneDiniego",oggettoFirmatariComunicazioneDiniego);
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161263" sourceRef="block459" targetRef="block285">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161365" sourceRef="block135" targetRef="block478">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160267" sourceRef="block90" targetRef="block196">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[provvedimento_finale=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161275" sourceRef="block460" targetRef="block346">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block393" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block393_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block393_descrizioneInput" name="descrizione" />
    <dataInput id="block393_instanceIdInput" name="instanceId" />
    <dataInput id="block393_instanceNameInput" name="instanceName" />
    <dataInput id="block393_systemTokenInput" name="systemToken" />
    <dataInput id="block393_principaleInput" name="principale" />
    <dataInput id="block393_canalePECInput" name="canalePEC" />
    <dataInput id="block393_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block393_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block393_outcomeInput" name="outcome" />
    <dataInput id="block393_humanTokenInput" name="humanToken" />
    <dataInput id="block393_nameInput" name="name" />
    <dataInput id="block393_descriptionInput" name="description" />
    <dataInput id="block393_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block393_processNameInput" name="processName" />
    <dataOutput id="block393_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block393_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block393_descrizioneInput</dataInputRefs>
        <dataInputRefs>block393_instanceIdInput</dataInputRefs>
        <dataInputRefs>block393_instanceNameInput</dataInputRefs>
        <dataInputRefs>block393_systemTokenInput</dataInputRefs>
        <dataInputRefs>block393_principaleInput</dataInputRefs>
        <dataInputRefs>block393_canalePECInput</dataInputRefs>
        <dataInputRefs>block393_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block393_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block393_outcomeInput</dataInputRefs>
        <dataInputRefs>block393_humanTokenInput</dataInputRefs>
        <dataInputRefs>block393_nameInput</dataInputRefs>
        <dataInputRefs>block393_descriptionInput</dataInputRefs>
        <dataInputRefs>block393_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block393_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block393_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block393_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block393_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti portale";]]></sourceRef>
        <targetRef>block393_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block393_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block393_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block393_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[documentoConclusivoAnnullamento]]></sourceRef>
        <targetRef>block393_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block393_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block393_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block393_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block393_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block393_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block393_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block393_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block393_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block393_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block393_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block393_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block393_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block393_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block393_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block393_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block393_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block393_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentiAnnullamento</targetRef>
</dataOutputAssociation>
    
</callActivity>




<task id="block476" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block476_TaskNameInput" name="TaskName" />
        <dataInput id="block476_GroupIdInput" name="GroupId" />
        <dataInput id="block476_Operation" name="operation" />

            <dataInput id="block476_userTokenInput" name="userToken" />
            <dataInput id="block476_documentInput" name="document" />
        
            <dataOutput id="block476_userTokenOutput" name="userToken" />
            <dataOutput id="block476_annessiOutput" name="annessi" />
            <dataOutput id="block476_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block476_allegatiOutput" name="allegati" />
            <dataOutput id="block476_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block476_TaskNameInput</dataInputRefs>
            <dataInputRefs>block476_GroupIdInput</dataInputRefs>
            <dataInputRefs>block476_Operation</dataInputRefs>
                <dataInputRefs>block476_userTokenInput</dataInputRefs>
                <dataInputRefs>block476_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block476_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block476_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block476_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block476_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block476_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block476_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interniProtocollato</sourceRef>
                            <targetRef>block476_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block476_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block476_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block476_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block476_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block476_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block476_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block476_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block476_annessiOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block476_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block476_allegatiOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block476_documentOutput</sourceRef>
                            <targetRef>doc_pareri_interniProtocollato</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<endEvent id="block481" name="end (terminate)">

    <dataInput id="block481_Input" name="object" />

    <inputSet>
        <dataInputRefs>block481_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block481_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>


<callActivity id="block138" isForCompensation="false" independent="false" waitForCompletion="true" name="Creazione fascicolo sotto un titolario o ricerca  del fascicolo " calledElementByName="CreaFascicoloSottoTitolario1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block138_gestione_fascicoloInput" name="gestione_fascicolo" />
    <dataInput id="block138_instanceNameInput" name="instanceName" />
    <dataInput id="block138_systemTokenInput" name="systemToken" />
    <dataInput id="block138_fasc_procInput" name="fasc_proc" />
    <dataInput id="block138_humanTokenInput" name="humanToken" />
    <dataInput id="block138_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block138_descrizioneInput" name="descrizione" />
    <dataInput id="block138_instanceIdInput" name="instanceId" />
    <dataInput id="block138_descrizioneFascInput" name="descrizioneFasc" />
    <dataInput id="block138_canalePECInput" name="canalePEC" />
    <dataInput id="block138_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block138_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block138_outcomeInput" name="outcome" />
    <dataInput id="block138_nameInput" name="name" />
    <dataInput id="block138_descriptionInput" name="description" />
    <dataInput id="block138_processNameInput" name="processName" />
    <dataOutput id="block138_fasc_procOutput" name="fasc_proc" />

    <inputSet>
        <dataInputRefs>block138_gestione_fascicoloInput</dataInputRefs>
        <dataInputRefs>block138_instanceNameInput</dataInputRefs>
        <dataInputRefs>block138_systemTokenInput</dataInputRefs>
        <dataInputRefs>block138_fasc_procInput</dataInputRefs>
        <dataInputRefs>block138_humanTokenInput</dataInputRefs>
        <dataInputRefs>block138_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block138_descrizioneInput</dataInputRefs>
        <dataInputRefs>block138_instanceIdInput</dataInputRefs>
        <dataInputRefs>block138_descrizioneFascInput</dataInputRefs>
        <dataInputRefs>block138_canalePECInput</dataInputRefs>
        <dataInputRefs>block138_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block138_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block138_outcomeInput</dataInputRefs>
        <dataInputRefs>block138_nameInput</dataInputRefs>
        <dataInputRefs>block138_descriptionInput</dataInputRefs>
        <dataInputRefs>block138_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block138_fasc_procOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:gestione_fascicolo var type: textRef -->
        <sourceRef><![CDATA[gestione_fascicolo]]></sourceRef>
        <targetRef>block138_gestione_fascicoloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block138_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block138_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fasc_proc var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block138_fasc_procInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block138_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block138_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block138_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[Descrizione_crea_fascicolo]]></sourceRef>
        <targetRef>block138_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block138_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizioneFasc var type: textRef -->
        <sourceRef><![CDATA[descrizioneProcesso]]></sourceRef>
        <targetRef>block138_descrizioneFascInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block138_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block138_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block138_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block138_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block138_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block138_outcomeInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block138_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione fascicolo sotto un titolario o ricerca  del fascicolo ]]></from>
            <to xsi:type="tFormalExpression">block138_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block138_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block138_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block138_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[CreaFascicoloSottoTitolario1.0]]></from>
            <to xsi:type="tFormalExpression">block138_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block138_fasc_procOutput</sourceRef>
        <targetRef>fasc_proc</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161341" sourceRef="block463" targetRef="block221">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block348" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160501" sourceRef="block217" targetRef="block324">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161221" sourceRef="block440" targetRef="block455">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="positivo" && recupera_documenti_istruttoria_semplice=="si"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block245" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraDocumentoFinale;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block437" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160801" sourceRef="block381" targetRef="block356">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block341" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block341_AccountInput" name="account" />
        <dataInput id="block341_TempfolderInput" name="tempfolder" />
        <dataInput id="block341_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block341_UserTokenInput" name="userToken" />


        <dataInput id="block341_urlBrokerInput" name="urlBroker" />
        <dataInput id="block341_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block341_incaricatoInput" name="incaricato" />
        <dataInput id="block341_codaInput" name="coda" />
        <dataInput id="block341_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block341_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block341_messageInput" name="message" />
        <dataInput id="block341_idUserInput" name="idUser" />
        <dataInput id="block341_idProcessoInput" name="idProcesso" />
        <dataInput id="block341_userTokenInput" name="userToken" />
        <dataInput id="block341_esitoInput" name="esito" />
        <dataInput id="block341_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block341_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block341_pwdInput" name="pwd" />
        <dataInput id="block341_correlationKeyInput" name="correlationKey" />
        <dataInput id="block341_userInput" name="user" />

        <dataOutput id="block341_UserTokenOutput" name="userToken" />
        <dataOutput id="block341_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block341_AccountInput</dataInputRefs>
            <dataInputRefs>block341_TempfolderInput</dataInputRefs>
            <dataInputRefs>block341_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block341_UserTokenInput</dataInputRefs>
            <dataInputRefs>block341_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block341_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block341_incaricatoInput</dataInputRefs>
            <dataInputRefs>block341_codaInput</dataInputRefs>
            <dataInputRefs>block341_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block341_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block341_messageInput</dataInputRefs>
            <dataInputRefs>block341_idUserInput</dataInputRefs>
            <dataInputRefs>block341_idProcessoInput</dataInputRefs>
            <dataInputRefs>block341_userTokenInput</dataInputRefs>
            <dataInputRefs>block341_esitoInput</dataInputRefs>
            <dataInputRefs>block341_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block341_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block341_pwdInput</dataInputRefs>
            <dataInputRefs>block341_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block341_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block341_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block341_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block341_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block341_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block341_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block341_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentoSilenzioAssenso</sourceRef>
                <targetRef>block341_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block341_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Procedimento concluso - silenzio assenso";</sourceRef>
                <targetRef>block341_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block341_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block341_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block341_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"POSITIVE";</sourceRef>
                <targetRef>block341_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block341_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block341_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block341_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block341_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block341_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block341_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<scriptTask id="block339" scriptFormat="http://www.mvel.org/2.0" name="Set conclusione del procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160975" sourceRef="block418" targetRef="block60">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161653" sourceRef="block501" targetRef="block476">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160513" sourceRef="block215" targetRef="block322">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block413" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block413_TaskNameInput" name="TaskName" />
        <dataInput id="block413_GroupIdInput" name="GroupId" />
        <dataInput id="block413_Operation" name="operation" />

            <dataInput id="block413_userTokenInput" name="userToken" />
            <dataInput id="block413_documentInput" name="document" />
        
            <dataOutput id="block413_userTokenOutput" name="userToken" />
            <dataOutput id="block413_annessiOutput" name="annessi" />
            <dataOutput id="block413_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block413_allegatiOutput" name="allegati" />
            <dataOutput id="block413_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block413_TaskNameInput</dataInputRefs>
            <dataInputRefs>block413_GroupIdInput</dataInputRefs>
            <dataInputRefs>block413_Operation</dataInputRefs>
                <dataInputRefs>block413_userTokenInput</dataInputRefs>
                <dataInputRefs>block413_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block413_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block413_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block413_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block413_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block413_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block413_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativiRicevuto</sourceRef>
                            <targetRef>block413_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block413_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block413_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block413_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block413_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block413_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block413_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block413_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block413_annessiOutput</sourceRef>
                            <targetRef>annessiMotiviOstativiRicevuto</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block413_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block413_allegatiOutput</sourceRef>
                            <targetRef>allegatiMotiviOstativiRicevuto</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block413_documentOutput</sourceRef>
                            <targetRef>doc_motiviOstativiRicevuto</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block478" scriptFormat="http://www.mvel.org/2.0" name="Set Variabili template" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

if(approvazionePareriInterni.equals("positivo")){
template_pareriInterniHTML=template_pareriInterniApprovatoHTML;
}
if(approvazionePareriInterni.equals("negativo")){
template_pareriInterniHTML=template_pareriInterniNonApprovatoHTML;
}

java.util.HashMap tplVar=new java.util.HashMap();
variabiliTemplateApprovazione.put("note", note_approvazione);
variabiliTemplateApprovazione.put("titoloprocedimento", titoloProcedimento);
variabiliTemplateApprovazione.put("numeroprotocollo", documentoProtocollato.NUM_PG);
variabiliTemplateApprovazione.put("annoprotocollo", documentoProtocollato.ANNO_PG);

//variabiliTemplateApprovazione=tplVar;

/**************  end user script  ***************/

//[auto-insert]
//template_pareriInterniHTML, template_pareriInterniHTML, variabiliTemplateApprovazione
kcontext.setVariable("template_pareriInterniHTML",null);
kcontext.setVariable("template_pareriInterniHTML",template_pareriInterniHTML);
kcontext.setVariable("template_pareriInterniHTML",null);
kcontext.setVariable("template_pareriInterniHTML",template_pareriInterniHTML);
kcontext.setVariable("variabiliTemplateApprovazione",null);
kcontext.setVariable("variabiliTemplateApprovazione",variabiliTemplateApprovazione);



        ]]>
    </script>
</scriptTask>



<scriptTask id="block9" scriptFormat="http://www.mvel.org/2.0" name="Recupero variabili per le impostazioni del flusso dalle configurazioni del procedimento - gestione UD  - gestione fascicolo del procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
richiesta_attesa_integrazioni=richiesta_pareri;
type_id_iniziale=tipologiaDoc_documenti_avvio;

/************** start user script ***************/

java.util.Map forminput = new java.util.HashMap();
com.fasterxml.jackson.databind.ObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();
 matcherFunc = def(key) {
    java.util.HashMap match = null;
    java.lang.String pattern = "(.*)\\[(\\d)+\\](.*)";
    // Create a Pattern object
    java.util.regex.Pattern r = java.util.regex.Pattern.compile(pattern);
    // Now create matcher object.
    java.util.regex.Matcher matcher = r.matcher(key);
    if (matcher.find()) {
        match = new java.util.HashMap();
        match.put("total", matcher.group(0));
        match.put("before", matcher.group(1));
        match.put("index", matcher.group(2));
        match.put("after", matcher.group(3));
        System.out.println("group 0: " + matcher.group(0));
        System.out.println("group 1: " + matcher.group(1));
        System.out.println("group 2: " + matcher.group(2));
        System.out.println("group 3: " + matcher.group(3));
    }
    match;
}

stringToObject= def(key, string) {
    System.out.println("RRRRR print key");
    System.out.println(key);
    if (string != null && string != "") {
        org.json.JSONObject jsonObj = new org.json.JSONObject(string);
        java.util.HashMap result = new com.fasterxml.jackson.databind.ObjectMapper().readValue(jsonObj.toString(), java.util.HashMap.class);
    } else {
        java.util.HashMap result = new java.util.HashMap();
    }
    result;
}

docTemp = null;
int j = 0;
foreach(docTemp: message.get("listaDocumenti")) {
    //COSTRUISCO FORMINPUT
    java.lang.String formInput = docTemp.get("formInput");
    if (formInput != null) {
        org.json.JSONArray jArray = new org.json.JSONArray(formInput);
        java.util.Map match = null;
        if (jArray != null) {
            elementoJson = null;
            foreach(elementoJson: jArray) {
                java.util.HashMap result = mapper.readValue(java.lang.String.valueOf(elementoJson), java.util.HashMap.class);
                java.lang.String k = result.get("name");
                java.lang.String v = result.get("value");
                match = matcherFunc(k);
                if (match != null) {
                    if (forminput.containsKey(match.get("before"))) {
                        java.util.ArrayList listMappa = (java.util.ArrayList) forminput.get(match.get("before")); // check if array
                        listMappa.add(v);
                    } else {
                        java.util.ArrayList tmpList = new java.util.ArrayList();
                        tmpList.add(v);
                        forminput.put(match.get("before"), tmpList);
                    }
                } else {
                    if (forminput.get(k) != null) {
                        if (!forminput.containsKey(k)) {
                            forminput.put(k, v);
                        }
                    } else {
                        forminput.put(k, v);
                    }
                }
            }
        }
    }
}
System.out.println("RRRRR forminput*******");
System.out.println(forminput);


System.out.println("Gestione variabili flusso");
java.lang.String mittentePecAux="";
java.lang.String mittenteNotificaAux="";
java.util.ArrayList destinatariPareriEsterniAux=new java.util.ArrayList();
java.util.ArrayList destinatariPareriInterni=new java.util.ArrayList();
titolo=null;

foreach(titolo:listaTitoli){
              if(titolo.get("nome").equals(titoloProcedimento)){
					System.out.println("TITOLO SELEZIONATO: "+titolo.toString());
					if(titolo.get("codice_titolario")!=null && titolo.get("codice_titolario")!=""){
						presente_classifica="si";
					}
					fasc_proc.CLASSIFICA=titolo.get("codice_titolario");
					fasc_proc.ANNO_FASCICOLO=titolo.get("anno_fascicolo");
					fasc_proc.PROGR_FASCICOLO=titolo.get("progressivo_fascicolo");
					
					silenzio_assenso=titolo.get("silenzio_assenso");
					comunicazione_avvio=titolo.get("comunicazione_avvio");
					tempo_attesa_integrazioni=titolo.get("tempo_attesa_integrazioni");
					richiesta_pareri=titolo.get("richiesta_pareri");
					provvedimento_finale=titolo.get("provvedimento_finale");
					invio_documenti=titolo.get("invio_documenti");
					azione_finale=titolo.get("azione_finale");
					System.out.println("Tempo proc da titolo: "+titolo.get("tempo_procedimento"));
					tempo_procedimento=titolo.get("tempo_procedimento");
					System.out.println("tempo procedimento variabile: "+tempo_procedimento);
					notifica_tempi_conclusione=titolo.get("notifica_tempi_conclusione");
					giorni_notifica=titolo.get("giorni_notifica");
					destinatari_notifica=(java.util.ArrayList) titolo.get("destinatari_notifica");
					gestione_fascicolo=titolo.get("gestione_fascicolo");
                              annesso_pareri_interni=titolo.get("annesso_pareri_interni");
					
					if(titolo.get("scelta_fascicolare")!=null){
						if(titolo.get("scelta_fascicolare")!=""){
						scelta_fascicolare=titolo.get("scelta_fascicolare");
					}
					}
					//altrimenti la variabile scelta fascicolare e' in gia' in config e prende il valore assegnato
					if(titolo.get("scelta_protocollare")!=null){
						if(titolo.get("scelta_protocollare")!=""){
						scelta_protocollare=titolo.get("scelta_protocollare");
					}
					}
					if(titolo.get("istruttoria_semplice")!=null){
						if(titolo.get("istruttoria_semplice")!=""){
						istruttoria_semplice=titolo.get("istruttoria_semplice");
					}
					}
					if(titolo.get("recupera_documenti_istruttoria_semplice")!=null){
						if(titolo.get("recupera_documenti_istruttoria_semplice")!=""){
						recupera_documenti_istruttoria_semplice=titolo.get("recupera_documenti_istruttoria_semplice");
					}
					}
					if(titolo.get("tipologiaDoc_documenti_avvio")!=null){
						if(titolo.get("tipologiaDoc_documenti_avvio")!=""){
						type_id_iniziale=titolo.get("tipologiaDoc_documenti_avvio");
					}
					}
					//impostazioni figure professionali
					// se nel titolo sono valorizzate le figure professionali alloca considero i valori
					//altrimenti valorizzo le figure professionali con la uo passata nel messaggio di start
					//la UO_Smistamento se essa non e' valorizzata nel titolo allora la valorizzo con stringa vuota
					
					UO_smistamento= ((titolo.get("UO_smistamento")!=null)&&(titolo.get("UO_smistamento")!=""))? titolo.get("UO_smistamento"):"";
					UO_redazione=((titolo.get("UO_redazione")!=null)&&(titolo.get("UO_redazione")!=""))? titolo.get("UO_redazione"): uo;
					UO_firma= ((titolo.get("UO_firma")!=null)&&(titolo.get("UO_firma")!=""))? titolo.get("UO_firma"): uo;
					UO_registrazione= ((titolo.get("UO_registrazione")!=null)&&(titolo.get("UO_registrazione")!=""))? titolo.get("UO_registrazione"): uo;

					figura_professionale_procedimento="";
					if(titolo.get("campoTipoServizioInHTML")!=null && titolo.get("UO_Amministrativa_tipo_servizio")!=null){
						java.lang.String tipoServizioInHTML=forminput.get(titolo.get("campoTipoServizioInHTML"));
						System.out.println("XXXXX tipoServizioInHTML e': "+tipoServizioInHTML);
						if(tipoServizioInHTML!=null){
							figura_professionale_procedimento=titolo.get("UO_Amministrativa_tipo_servizio").get(tipoServizioInHTML);
						}
					}
					System.out.println("XXXXX la fig prof procedimento e': "+figura_professionale_procedimento);
					if(figura_professionale_procedimento==""){
						figura_professionale_procedimento= ((titolo.get("UO_Amministrativa")!=null)&&(titolo.get("UO_Amministrativa")!=""))? titolo.get("UO_Amministrativa"): uo;
					}
					
				
					email_notifica_attivazione=(java.util.ArrayList) titolo.get("destinatari_notifica_attivazione");
					mittentePecAux=titolo.get("mittente_pec");
					mittenteNotificaAux=titolo.get("mittente_notifica");
					destinatariPareriEsterniAux=(java.util.ArrayList) titolo.get("destinatari_pareri_esterni");
                              destinatariPareriInterni=(java.util.ArrayList) titolo.get("destinatari_pareri_interni");
					
			        //se il tipo_firma e' specificato nel titolo prendo in considerazione questo, 
					//altrimenti prendo la configurazionione di default 
					tipo_firma= ((titolo.get("tipo_firma")!=null)&&(titolo.get("tipo_firma")!=""))? titolo.get("tipo_firma"):tipo_firma;

					//verifico se si tratta di un procedimento inserito da operatori dell'ente e non dai cittadini
					//in tal caso recupero i dati del cittadino dal form del modulo html
					if(titolo.get("istanza_operatore")!=null){
						if(titolo.get("istanza_operatore")!="" && titolo.get("istanza_operatore")=="si" && titolo.get("campiCittadinoInHTML")!=null){
							destinatario_cittadino = new java.util.HashMap();
							System.out.println("XXXXX Avvio gestione istanza operatore con campi: "+titolo.get("campiCittadinoInHTML"));
							if(titolo.get("campiCittadinoInHTML").get("nome")!=null){
								destinatario_cittadino.put("nome", forminput.get(titolo.get("campiCittadinoInHTML").get("nome")));
							}else{
								destinatario_cittadino.put("nome", "ND");
							}
							if(titolo.get("campiCittadinoInHTML").get("cognome")!=null){
								destinatario_cittadino.put("cognome", forminput.get(titolo.get("campiCittadinoInHTML").get("cognome")));
							}else{
								destinatario_cittadino.put("cognome", "ND");
							}
							if(titolo.get("campiCittadinoInHTML").get("indirizzoTelematico")!=null){
								destinatario_cittadino.put("IndirizzoTelematico",forminput.get(titolo.get("campiCittadinoInHTML").get("indirizzoTelematico")));
							}else{
								destinatario_cittadino.put("IndirizzoTelematico","ND");
							}
							if(titolo.get("campiCittadinoInHTML").get("codiceFiscale")!=null){
								destinatario_cittadino.put("codiceFiscale",forminput.get(titolo.get("campiCittadinoInHTML").get("codiceFiscale")));
							}else{
								destinatario_cittadino.put("codiceFiscale","ND");
							}
							if(titolo.get("campiCittadinoInHTML").get("titolo")!=null){
								destinatario_cittadino.put("titolo", forminput.get(titolo.get("campiCittadinoInHTML").get("titolo")));
							}else{
								destinatario_cittadino.put("titolo", "ND");
							}
							if(titolo.get("campiCittadinoInHTML").get("indirizzoPostale")!=null){
								destinatario_cittadino.put("indirizzoPostale",forminput.get(titolo.get("campiCittadinoInHTML").get("indirizzoPostale")));
							}else{
								destinatario_cittadino.put("indirizzoPostale", "ND");
							}
							destinatario_cittadino.put("denominazione",destinatario_cittadino.get("nome")+" "+destinatario_cittadino.get("cognome"));
							destinatario_cittadino.put("type","PersonaFisica");
							destinatario_cittadino.put("@TYPE","PersonaFisica");

							destinatari.clear();
							destinatari.add(destinatario_cittadino);
							System.out.println("XXXXX I destinatari sono:"+destinatari.toString());
						}
					}

                 }
}

System.out.println("se il titolario passato nel messaggio di start e' diverso da null allora sovrascrivo la classifica del fascicolo, altrimenti prendo la classifica dalla lista titoli");
if(titolario!=null && titolario!=""){
fasc_proc.CLASSIFICA=titolario;
presente_classifica="si";
}

System.out.println("GESTIONE MITTENTE PEC E MITTENTE NOTIFICA");

if(!mittentePecAux.equals("")){
 System.out.println("il mittente pec  valorizzato nelle impostazioni del titolo");
mittente.IndirizzoTelematico=mittentePecAux.toString();
}
if(!mittenteNotificaAux.equals("")){
System.out.println("il mittente notifica  valorizzato nelle impostazioni del titolo");
mittente_notifica.IndirizzoTelematico=mittenteNotificaAux.toString();
}

dest=null;
java.util.ArrayList tmp=new java.util.ArrayList();
if(destinatariPareriEsterniAux.size()>0){
  foreach(dest:destinatariPareriEsterniAux){
              
                tmp.add(dest);                      		
  }
destinatari_pareri_esterni=tmp;
}


destInterni=null;
java.util.ArrayList tmpInterni=new java.util.ArrayList();
if(destinatariPareriInterni.size()>0){
  foreach(destInterni:destinatariPareriInterni){
              
                tmpInterni.add(destInterni);                      		
  }
destinatari_pareri_interni=tmpInterni;
}

System.out.println("Il mittente pec: "+mittente.toString());
System.out.println("Il mittente notifica: "+mittente_notifica.toString());
System.out.println("I destinatari pareri esterni sono: "+destinatari_pareri_esterni.toString());
System.out.println("I destinatari pareri interni sono: "+destinatari_pareri_interni.toString());

System.out.println("UO_redazione "+UO_redazione);
System.out.println("UO_Registra "+UO_registrazione);
System.out.println("UO_FIRMA "+UO_firma);

/**************  end user script  ***************/

//[auto-insert]
//annesso_pareri_interni, destinatario_cittadino, destinatari_pareri_interni
kcontext.setVariable("annesso_pareri_interni",null);
kcontext.setVariable("annesso_pareri_interni",annesso_pareri_interni);
kcontext.setVariable("destinatario_cittadino",null);
kcontext.setVariable("destinatario_cittadino",destinatario_cittadino);
kcontext.setVariable("destinatari_pareri_interni",null);
kcontext.setVariable("destinatari_pareri_interni",destinatari_pareri_interni);



//[auto-insert]
kcontext.setVariable("comunicazione_avvio",null);
kcontext.setVariable("comunicazione_avvio",comunicazione_avvio);
kcontext.setVariable("richiesta_pareri",null);
kcontext.setVariable("richiesta_pareri",richiesta_pareri);
kcontext.setVariable("invio_documenti",null);
kcontext.setVariable("invio_documenti",invio_documenti);
kcontext.setVariable("azione_finale",null);
kcontext.setVariable("azione_finale",azione_finale);
kcontext.setVariable("tempo_procedimento",null);
kcontext.setVariable("tempo_procedimento",tempo_procedimento);
kcontext.setVariable("notifica_tempi_conclusione",null);
kcontext.setVariable("notifica_tempi_conclusione",notifica_tempi_conclusione);
kcontext.setVariable("giorni_notifica",null);
kcontext.setVariable("giorni_notifica",giorni_notifica);
kcontext.setVariable("gestione_fascicolo",null);
kcontext.setVariable("gestione_fascicolo",gestione_fascicolo);
kcontext.setVariable("tempo_attesa_integrazioni",null);
kcontext.setVariable("tempo_attesa_integrazioni",tempo_attesa_integrazioni);
kcontext.setVariable("provvedimento_finale",null);
kcontext.setVariable("provvedimento_finale",provvedimento_finale);
kcontext.setVariable("silenzio_assenso",null);
kcontext.setVariable("silenzio_assenso",silenzio_assenso);
kcontext.setVariable("destinatari_notifica",null);
kcontext.setVariable("destinatari_notifica",destinatari_notifica);
kcontext.setVariable("UO_registrazione",null);
kcontext.setVariable("UO_registrazione",UO_registrazione);
kcontext.setVariable("UO_firma",null);
kcontext.setVariable("UO_firma",UO_firma);
kcontext.setVariable("UO_redazione",null);
kcontext.setVariable("UO_redazione",UO_redazione);
kcontext.setVariable("UO_smistamento",null);
kcontext.setVariable("UO_smistamento",UO_smistamento);
kcontext.setVariable("email_notifica_attivazione",null);
kcontext.setVariable("email_notifica_attivazione",email_notifica_attivazione);
kcontext.setVariable("figura_professionale_procedimento",null);
kcontext.setVariable("figura_professionale_procedimento",figura_professionale_procedimento);
kcontext.setVariable("mittente",null);
kcontext.setVariable("mittente",mittente);
kcontext.setVariable("mittente_notifica",null);
kcontext.setVariable("mittente_notifica",mittente_notifica);
kcontext.setVariable("destinatari_pareri_esterni",null);
kcontext.setVariable("destinatari_pareri_esterni",destinatari_pareri_esterni);
kcontext.setVariable("fasc_proc",null);
kcontext.setVariable("fasc_proc",fasc_proc);
kcontext.setVariable("tipo_firma",null);
kcontext.setVariable("tipo_firma",tipo_firma);
kcontext.setVariable("presente_classifica",null);
kcontext.setVariable("presente_classifica",presente_classifica);
kcontext.setVariable("scelta_fascicolare",null);
kcontext.setVariable("scelta_fascicolare",scelta_fascicolare);
kcontext.setVariable("scelta_protocollare",null);
kcontext.setVariable("scelta_protocollare",scelta_protocollare);
kcontext.setVariable("istruttoria_semplice",null);
kcontext.setVariable("istruttoria_semplice",istruttoria_semplice);
kcontext.setVariable("recupera_documenti_istruttoria_semplice",null);
kcontext.setVariable("recupera_documenti_istruttoria_semplice",recupera_documenti_istruttoria_semplice);
kcontext.setVariable("tipologiaDoc_documenti_avvio",null);
kcontext.setVariable("tipologiaDoc_documenti_avvio",type_id_iniziale);
kcontext.setVariable("destinatari",null);
kcontext.setVariable("destinatari",destinatari);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block178" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<task id="block444" name="Classificazione" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block444_TaskNameInput" name="TaskName" />
        <dataInput id="block444_GroupIdInput" name="GroupId" />
        <dataInput id="block444_Operation" name="operation" />

            <dataInput id="block444_userTokenInput" name="userToken" />
            <dataInput id="block444_classificaInput" name="classifica" />
            <dataInput id="block444_documentInput" name="document" />
        
            <dataOutput id="block444_userTokenOutput" name="userToken" />
            <dataOutput id="block444_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block444_TaskNameInput</dataInputRefs>
            <dataInputRefs>block444_GroupIdInput</dataInputRefs>
            <dataInputRefs>block444_Operation</dataInputRefs>
                <dataInputRefs>block444_userTokenInput</dataInputRefs>
                <dataInputRefs>block444_classificaInput</dataInputRefs>
                <dataInputRefs>block444_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block444_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block444_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block444_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc.CLASSIFICA;</sourceRef>
                            <targetRef>block444_classificaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_documentoFinale</sourceRef>
                            <targetRef>block444_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block444_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block444_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block444_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">Classificazione</from>
           <to xsi:type="tFormalExpression">block444_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block444_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">ClassificaDocumento</from>
           <to xsi:type="tFormalExpression">block444_Operation</to>
        </assignment>
      </dataInputAssociation>


            <dataOutputAssociation>
                            <sourceRef>block444_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block444_documentOutput</sourceRef>
                            <targetRef>doc_documentoFinale</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>


<callActivity id="block279" isForCompensation="false" independent="false" waitForCompletion="true" name="Creazione UD su documentale" calledElementByName="Creazione UD1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block279_lista_correlatiInput" name="lista_correlati" />
    <dataInput id="block279_descrizioneInput" name="descrizione" />
    <dataInput id="block279_instanceIdInput" name="instanceId" />
    <dataInput id="block279_instanceNameInput" name="instanceName" />
    <dataInput id="block279_systemTokenInput" name="systemToken" />
    <dataInput id="block279_canalePECInput" name="canalePEC" />
    <dataInput id="block279_documentoInput" name="documento" />
    <dataInput id="block279_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block279_outcomeInput" name="outcome" />
    <dataInput id="block279_humanTokenInput" name="humanToken" />
    <dataInput id="block279_nameInput" name="name" />
    <dataInput id="block279_descriptionInput" name="description" />
    <dataInput id="block279_processNameInput" name="processName" />
    <dataOutput id="block279_documentoOutput" name="documento" />
    <dataOutput id="block279_lista_correlati_udOutput" name="lista_correlati_ud" />

    <inputSet>
        <dataInputRefs>block279_lista_correlatiInput</dataInputRefs>
        <dataInputRefs>block279_descrizioneInput</dataInputRefs>
        <dataInputRefs>block279_instanceIdInput</dataInputRefs>
        <dataInputRefs>block279_instanceNameInput</dataInputRefs>
        <dataInputRefs>block279_systemTokenInput</dataInputRefs>
        <dataInputRefs>block279_canalePECInput</dataInputRefs>
        <dataInputRefs>block279_documentoInput</dataInputRefs>
        <dataInputRefs>block279_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block279_outcomeInput</dataInputRefs>
        <dataInputRefs>block279_humanTokenInput</dataInputRefs>
        <dataInputRefs>block279_nameInput</dataInputRefs>
        <dataInputRefs>block279_descriptionInput</dataInputRefs>
        <dataInputRefs>block279_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block279_documentoOutput</dataOutputRefs>
        <dataOutputRefs>block279_lista_correlati_udOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:lista_correlati var type: document -->
        <sourceRef><![CDATA[listaCorrelati]]></sourceRef>
        <targetRef>block279_lista_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Creazione UD sul documentale interno";]]></sourceRef>
        <targetRef>block279_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block279_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block279_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block279_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block279_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block279_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:documento var type: document -->
        <sourceRef><![CDATA[principale]]></sourceRef>
        <targetRef>block279_documentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block279_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block279_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block279_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block279_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD su documentale]]></from>
            <to xsi:type="tFormalExpression">block279_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block279_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block279_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block279_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD1.0]]></from>
            <to xsi:type="tFormalExpression">block279_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block279_documentoOutput</sourceRef>
        <targetRef>principale</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block279_lista_correlati_udOutput</sourceRef>
        <targetRef>listaCorrelati</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160279" sourceRef="block18" targetRef="block169">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="negativoMotiviOstativi"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block317" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block317_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block317_descrizioneInput" name="descrizione" />
    <dataInput id="block317_instanceIdInput" name="instanceId" />
    <dataInput id="block317_instanceNameInput" name="instanceName" />
    <dataInput id="block317_systemTokenInput" name="systemToken" />
    <dataInput id="block317_principaleInput" name="principale" />
    <dataInput id="block317_canalePECInput" name="canalePEC" />
    <dataInput id="block317_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block317_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block317_outcomeInput" name="outcome" />
    <dataInput id="block317_humanTokenInput" name="humanToken" />
    <dataInput id="block317_nameInput" name="name" />
    <dataInput id="block317_descriptionInput" name="description" />
    <dataInput id="block317_processNameInput" name="processName" />
    <dataOutput id="block317_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block317_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block317_descrizioneInput</dataInputRefs>
        <dataInputRefs>block317_instanceIdInput</dataInputRefs>
        <dataInputRefs>block317_instanceNameInput</dataInputRefs>
        <dataInputRefs>block317_systemTokenInput</dataInputRefs>
        <dataInputRefs>block317_principaleInput</dataInputRefs>
        <dataInputRefs>block317_canalePECInput</dataInputRefs>
        <dataInputRefs>block317_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block317_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block317_outcomeInput</dataInputRefs>
        <dataInputRefs>block317_humanTokenInput</dataInputRefs>
        <dataInputRefs>block317_nameInput</dataInputRefs>
        <dataInputRefs>block317_descriptionInput</dataInputRefs>
        <dataInputRefs>block317_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block317_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block317_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block317_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documento per il portale";]]></sourceRef>
        <targetRef>block317_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block317_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block317_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block317_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_comunicazioneIrricevibilita]]></sourceRef>
        <targetRef>block317_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block317_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block317_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block317_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block317_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block317_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block317_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block317_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block317_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block317_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block317_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block317_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block317_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block317_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block317_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block317_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocComunicazionIrrecivibilita</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161569" sourceRef="block467" targetRef="block433">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_protocollare =="no"]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block90" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160627" sourceRef="block17" targetRef="block345">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica!="negativoIntegrazioni" && esito_verifica!="concludiProcedimento" && esito_verifica!="approvatoConRiserva"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block217" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Filiera destrutturata con invio del provvedimento negativo" calledElementByName="Filiera destrutturata Istanza di parte 1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block217_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block217_versioningInput" name="versioning" />
    <dataInput id="block217_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block217_messaggioInput" name="messaggio" />
    <dataInput id="block217_proto_autoInput" name="proto_auto" />
    <dataInput id="block217_instanceNameInput" name="instanceName" />
    <dataInput id="block217_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block217_registrareInput" name="registrare" />
    <dataInput id="block217_oggettoInput" name="oggetto" />
    <dataInput id="block217_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block217_redazioneInput" name="redazione" />
    <dataInput id="block217_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block217_humanTokenInput" name="humanToken" />
    <dataInput id="block217_abilita_ht_verificaInput" name="abilita_ht_verifica" />
    <dataInput id="block217_conversioneInput" name="conversione" />
    <dataInput id="block217_tipo_registrazioneInput" name="tipo_registrazione" />
    <dataInput id="block217_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block217_instanceIdInput" name="instanceId" />
    <dataInput id="block217_porta_docerInput" name="porta_docer" />
    <dataInput id="block217_destinatariInput" name="destinatari" />
    <dataInput id="block217_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block217_urlDocerInput" name="urlDocer" />
    <dataInput id="block217_outcomeInput" name="outcome" />
    <dataInput id="block217_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block217_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block217_mittenteInput" name="mittente" />
    <dataInput id="block217_systemTokenInput" name="systemToken" />
    <dataInput id="block217_mittentiInput" name="mittenti" />
    <dataInput id="block217_pubblicazioneInput" name="pubblicazione" />
    <dataInput id="block217_conversione_manualeInput" name="conversione_manuale" />
    <dataInput id="block217_creazioneInput" name="creazione" />
    <dataInput id="block217_inviareInput" name="inviare" />
    <dataInput id="block217_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block217_firmatarioInput" name="firmatario" />
    <dataInput id="block217_descrizioneInput" name="descrizione" />
    <dataInput id="block217_protocollazioneInput" name="protocollazione" />
    <dataInput id="block217_firmareInput" name="firmare" />
    <dataInput id="block217_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block217_canalePECInput" name="canalePEC" />
    <dataInput id="block217_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block217_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block217_timbrareInput" name="timbrare" />
    <dataInput id="block217_assegnazioneInput" name="assegnazione" />
    <dataInput id="block217_nameInput" name="name" />
    <dataInput id="block217_descriptionInput" name="description" />
    <dataInput id="block217_processNameInput" name="processName" />
    <dataOutput id="block217_principale_registratoOutput" name="principale_registrato" />
    <dataOutput id="block217_docnum_principaleOutput" name="docnum_principale" />

    <inputSet>
        <dataInputRefs>block217_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block217_versioningInput</dataInputRefs>
        <dataInputRefs>block217_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block217_messaggioInput</dataInputRefs>
        <dataInputRefs>block217_proto_autoInput</dataInputRefs>
        <dataInputRefs>block217_instanceNameInput</dataInputRefs>
        <dataInputRefs>block217_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block217_registrareInput</dataInputRefs>
        <dataInputRefs>block217_oggettoInput</dataInputRefs>
        <dataInputRefs>block217_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block217_redazioneInput</dataInputRefs>
        <dataInputRefs>block217_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block217_humanTokenInput</dataInputRefs>
        <dataInputRefs>block217_abilita_ht_verificaInput</dataInputRefs>
        <dataInputRefs>block217_conversioneInput</dataInputRefs>
        <dataInputRefs>block217_tipo_registrazioneInput</dataInputRefs>
        <dataInputRefs>block217_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block217_instanceIdInput</dataInputRefs>
        <dataInputRefs>block217_porta_docerInput</dataInputRefs>
        <dataInputRefs>block217_destinatariInput</dataInputRefs>
        <dataInputRefs>block217_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block217_urlDocerInput</dataInputRefs>
        <dataInputRefs>block217_outcomeInput</dataInputRefs>
        <dataInputRefs>block217_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block217_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block217_mittenteInput</dataInputRefs>
        <dataInputRefs>block217_systemTokenInput</dataInputRefs>
        <dataInputRefs>block217_mittentiInput</dataInputRefs>
        <dataInputRefs>block217_pubblicazioneInput</dataInputRefs>
        <dataInputRefs>block217_conversione_manualeInput</dataInputRefs>
        <dataInputRefs>block217_creazioneInput</dataInputRefs>
        <dataInputRefs>block217_inviareInput</dataInputRefs>
        <dataInputRefs>block217_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block217_firmatarioInput</dataInputRefs>
        <dataInputRefs>block217_descrizioneInput</dataInputRefs>
        <dataInputRefs>block217_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block217_firmareInput</dataInputRefs>
        <dataInputRefs>block217_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block217_canalePECInput</dataInputRefs>
        <dataInputRefs>block217_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block217_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block217_timbrareInput</dataInputRefs>
        <dataInputRefs>block217_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block217_nameInput</dataInputRefs>
        <dataInputRefs>block217_descriptionInput</dataInputRefs>
        <dataInputRefs>block217_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block217_principale_registratoOutput</dataOutputRefs>
        <dataOutputRefs>block217_docnum_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block217_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block217_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block217_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Con la presente e-mail Le inviamo in allegato la lettera di accompagnamento con i documenti relativi ai provvedimenti negativi  inerenti  la sua istanza on-line";
]]></sourceRef>
        <targetRef>block217_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block217_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block217_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria documento provvedimento negativo";]]></sourceRef>
        <targetRef>block217_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block217_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block217_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block217_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:abilita_ht_verifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block217_abilita_ht_verificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_registrazione var type: script -->
        <sourceRef><![CDATA["u";]]></sourceRef>
        <targetRef>block217_tipo_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block217_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block217_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block217_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block217_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Lettera accompagnaroria provvedimento finale negativo";]]></sourceRef>
        <targetRef>block217_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block217_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block217_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provvedimento finale negativo";]]></sourceRef>
        <targetRef>block217_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria provvedimento finale negativo";]]></sourceRef>
        <targetRef>block217_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block217_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block217_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block217_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:pubblicazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block217_pubblicazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione_manuale var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block217_conversione_manualeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block217_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:inviare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block217_inviareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block217_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera destrutturata provvedimento finale negativo";]]></sourceRef>
        <targetRef>block217_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block217_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block217_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block217_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block217_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block217_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraProvvFinaleNegativo]]></sourceRef>
        <targetRef>block217_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:timbrare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block217_timbrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block217_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block217_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Filiera destrutturata con invio del provvedimento negativo]]></from>
            <to xsi:type="tFormalExpression">block217_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block217_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block217_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block217_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera destrutturata Istanza di parte 1.0]]></from>
            <to xsi:type="tFormalExpression">block217_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block217_principale_registratoOutput</sourceRef>
        <targetRef>letteraProvvNegativo</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block217_docnum_principaleOutput</sourceRef>
        <targetRef>docnum_docProvvFinaleNegativo</targetRef>
</dataOutputAssociation>
    
</callActivity>




<scriptTask id="block486" scriptFormat="http://www.mvel.org/2.0" name="AC richiesta integrazioni" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

java.lang.String uo_assegnazione = UO_RegistraRichiestaIntegrazioni;
assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/

//[auto-insert]
//ck, ck1, ck2
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160351" sourceRef="block257" targetRef="block259">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[richiesta_pareri=="enti_esterni_e_interni"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160429" sourceRef="block305" targetRef="block222">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160885" sourceRef="block17" targetRef="block407">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="concludiProcedimento" || esito_verifica=="approvatoConRiserva"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160813" sourceRef="block360" targetRef="block382">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[gestioneRicevutePEC=="si"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block487" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione documento irricevibilita" calledElementByName="AMD_RedazioneUD3.3" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=figura_professionale_procedimento;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
template_principale=doc_irricevibilita;
creazione="template";
docnum_principale="";;
mittente=mittente_notifica;
variabili_template_principale=varabiliTemplateIrricevibile;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;
tipo_template="html";
template_principale_html=template_irricebilitaHTML;

            doc_irricevibilita.DOCNAME="Documento_irricevibilita_"+".pdf";
            
//[auto-insert]
//doc_irricevibilita
kcontext.setVariable("doc_irricevibilita",null);
kcontext.setVariable("doc_irricevibilita",doc_irricevibilita);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block487_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block487_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block487_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block487_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block487_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block487_humanTokenInput" name="humanToken" />
    <dataInput id="block487_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block487_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block487_template_allegatiInput" name="template_allegati" />
    <dataInput id="block487_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block487_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block487_modificaInput" name="modifica" />
    <dataInput id="block487_lanesInput" name="lanes" />
    <dataInput id="block487_mittenteInput" name="mittente" />
    <dataInput id="block487_tipo_templateInput" name="tipo_template" />
    <dataInput id="block487_systemTokenInput" name="systemToken" />
    <dataInput id="block487_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block487_template_annessiInput" name="template_annessi" />
    <dataInput id="block487_creazioneInput" name="creazione" />
    <dataInput id="block487_descrizioneInput" name="descrizione" />
    <dataInput id="block487_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block487_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block487_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block487_template_principaleInput" name="template_principale" />
    <dataInput id="block487_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block487_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block487_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block487_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block487_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block487_userInput" name="user" />
    <dataInput id="block487_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block487_commitInput" name="commit" />
    <dataOutput id="block487_principaleOutput" name="principale" />
    <dataOutput id="block487_lanesOutput" name="lanes" />
    <dataOutput id="block487_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block487_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block487_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block487_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block487_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block487_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block487_humanTokenInput</dataInputRefs>
        <dataInputRefs>block487_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block487_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block487_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block487_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block487_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block487_modificaInput</dataInputRefs>
        <dataInputRefs>block487_lanesInput</dataInputRefs>
        <dataInputRefs>block487_mittenteInput</dataInputRefs>
        <dataInputRefs>block487_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block487_systemTokenInput</dataInputRefs>
        <dataInputRefs>block487_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block487_template_annessiInput</dataInputRefs>
        <dataInputRefs>block487_creazioneInput</dataInputRefs>
        <dataInputRefs>block487_descrizioneInput</dataInputRefs>
        <dataInputRefs>block487_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block487_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block487_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block487_template_principaleInput</dataInputRefs>
        <dataInputRefs>block487_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block487_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block487_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block487_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block487_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block487_userInput</dataInputRefs>
        <dataInputRefs>block487_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block487_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block487_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block487_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block487_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block487_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block487_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block487_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block487_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block487_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block487_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block487_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: script -->
        <sourceRef><![CDATA["html"]]></sourceRef>
        <targetRef>block487_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block487_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[template_irricebilitaHTML]]></sourceRef>
        <targetRef>block487_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["template"]]></sourceRef>
        <targetRef>block487_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block487_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[doc_irricevibilita]]></sourceRef>
        <targetRef>block487_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block487_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block487_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[varabiliTemplateIrricevibile]]></sourceRef>
        <targetRef>block487_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block487_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block487_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block487_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block487_principaleOutput</sourceRef>
        <targetRef>doc_irricevibilita</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block487_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block487_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160303" sourceRef="block222" targetRef="block7">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block373" scriptFormat="http://www.mvel.org/2.0" name="con la versione di docer 2.0 il componente e' settato direttamente a principale, per cui questo script e' lasciato vuoto" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

documentoSilenzioAssenso.TIPO_COMPONENTE="PRINCIPALE";
documentoSilenzioAssenso.put("TIPO_FIRMA", "NF");

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("documentoSilenzioAssenso",null);
kcontext.setVariable("documentoSilenzioAssenso",documentoSilenzioAssenso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161239" sourceRef="block424" targetRef="block426">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160399" sourceRef="block275" targetRef="block115">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160675" sourceRef="block349" targetRef="block347">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[ esito_cicla_notifica=="cicla"]]>
    </conditionExpression>
</sequenceFlow>

<intermediateCatchEvent id="block347" name="Timer" >
    <timerEventDefinition>
        <timeDuration xsi:type="tFormalExpression">PT12H</timeDuration>
    </timerEventDefinition>
</intermediateCatchEvent>

<inclusiveGateway id="block64" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160261" sourceRef="block196" targetRef="block195">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block201" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity gestione ricezione" calledElementByName="GestioneRicezionePortale3.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block201_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block201_proto_autoInput" name="proto_auto" />
    <dataInput id="block201_instanceNameInput" name="instanceName" />
    <dataInput id="block201_ck1Input" name="ck1" />
    <dataInput id="block201_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block201_ck2Input" name="ck2" />
    <dataInput id="block201_humanTokenInput" name="humanToken" />
    <dataInput id="block201_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block201_instanceIdInput" name="instanceId" />
    <dataInput id="block201_porta_docerInput" name="porta_docer" />
    <dataInput id="block201_soggetto_ricezioneInput" name="soggetto_ricezione" />
    <dataInput id="block201_destinatariInput" name="destinatari" />
    <dataInput id="block201_fascicolazione_protocolloInput" name="fascicolazione_protocollo" />
    <dataInput id="block201_outcomeInput" name="outcome" />
    <dataInput id="block201_mittenteInput" name="mittente" />
    <dataInput id="block201_scadenzaInput" name="scadenza" />
    <dataInput id="block201_systemTokenInput" name="systemToken" />
    <dataInput id="block201_mittentiInput" name="mittenti" />
    <dataInput id="block201_fasc_procInput" name="fasc_proc" />
    <dataInput id="block201_canaleInput" name="canale" />
    <dataInput id="block201_firmatarioInput" name="firmatario" />
    <dataInput id="block201_descrizioneInput" name="descrizione" />
    <dataInput id="block201_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block201_canalePECInput" name="canalePEC" />
    <dataInput id="block201_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block201_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block201_oggetto_protocollazione_pecInput" name="oggetto_protocollazione_pec" />
    <dataInput id="block201_assegnazioneInput" name="assegnazione" />
    <dataInput id="block201_nameInput" name="name" />
    <dataInput id="block201_descriptionInput" name="description" />
    <dataInput id="block201_processNameInput" name="processName" />
    <dataOutput id="block201_principaleOutput" name="principale" />
    <dataOutput id="block201_documentiRicevutiPortaleOutput" name="documentiRicevutiPortale" />
    <dataOutput id="block201_esitoOutput" name="esito" />

    <inputSet>
        <dataInputRefs>block201_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block201_proto_autoInput</dataInputRefs>
        <dataInputRefs>block201_instanceNameInput</dataInputRefs>
        <dataInputRefs>block201_ck1Input</dataInputRefs>
        <dataInputRefs>block201_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block201_ck2Input</dataInputRefs>
        <dataInputRefs>block201_humanTokenInput</dataInputRefs>
        <dataInputRefs>block201_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block201_instanceIdInput</dataInputRefs>
        <dataInputRefs>block201_porta_docerInput</dataInputRefs>
        <dataInputRefs>block201_soggetto_ricezioneInput</dataInputRefs>
        <dataInputRefs>block201_destinatariInput</dataInputRefs>
        <dataInputRefs>block201_fascicolazione_protocolloInput</dataInputRefs>
        <dataInputRefs>block201_outcomeInput</dataInputRefs>
        <dataInputRefs>block201_mittenteInput</dataInputRefs>
        <dataInputRefs>block201_scadenzaInput</dataInputRefs>
        <dataInputRefs>block201_systemTokenInput</dataInputRefs>
        <dataInputRefs>block201_mittentiInput</dataInputRefs>
        <dataInputRefs>block201_fasc_procInput</dataInputRefs>
        <dataInputRefs>block201_canaleInput</dataInputRefs>
        <dataInputRefs>block201_firmatarioInput</dataInputRefs>
        <dataInputRefs>block201_descrizioneInput</dataInputRefs>
        <dataInputRefs>block201_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block201_canalePECInput</dataInputRefs>
        <dataInputRefs>block201_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block201_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block201_oggetto_protocollazione_pecInput</dataInputRefs>
        <dataInputRefs>block201_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block201_nameInput</dataInputRefs>
        <dataInputRefs>block201_descriptionInput</dataInputRefs>
        <dataInputRefs>block201_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block201_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block201_documentiRicevutiPortaleOutput</dataOutputRefs>
        <dataOutputRefs>block201_esitoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block201_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block201_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block201_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block201_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block201_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: textRef -->
        <sourceRef><![CDATA[ck2]]></sourceRef>
        <targetRef>block201_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block201_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block201_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block201_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block201_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block201_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:soggetto_ricezione var type: soggetto -->
        <sourceRef><![CDATA[destinatario_cittadino]]></sourceRef>
        <targetRef>block201_soggetto_ricezioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block201_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione_protocollo var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block201_fascicolazione_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block201_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block201_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:scadenza var type: datetimeRef -->
        <sourceRef><![CDATA[data_scadenza_integrazioni]]></sourceRef>
        <targetRef>block201_scadenzaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block201_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block201_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fasc_proc var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block201_fasc_procInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canale var type: script -->
        <sourceRef><![CDATA["portale";]]></sourceRef>
        <targetRef>block201_canaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: object -->
        <sourceRef><![CDATA[firmatario]]></sourceRef>
        <targetRef>block201_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Ricezione documentazione integrativa";]]></sourceRef>
        <targetRef>block201_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block201_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block201_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block201_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block201_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block201_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block201_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollazione_pec var type: script -->
        <sourceRef><![CDATA["Integrazioni - "+descrizione;]]></sourceRef>
        <targetRef>block201_oggetto_protocollazione_pecInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block201_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block201_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity gestione ricezione]]></from>
            <to xsi:type="tFormalExpression">block201_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block201_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block201_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block201_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[GestioneRicezionePortale3.0]]></from>
            <to xsi:type="tFormalExpression">block201_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block201_principaleOutput</sourceRef>
        <targetRef>doc_richiestaIntegrazioniRicevuto</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block201_documentiRicevutiPortaleOutput</sourceRef>
        <targetRef>documentiRicevutiIntegrazioni</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block201_esitoOutput</sourceRef>
        <targetRef>esito</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160321" sourceRef="block73" targetRef="block245">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[azione_finale=="recupera_doc"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block215" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity filiera destrutturata con invio del documento recuperato" calledElementByName="#{lista_call_activity.FilieraDestrutturataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block215_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block215_versioningInput" name="versioning" />
    <dataInput id="block215_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block215_messaggioInput" name="messaggio" />
    <dataInput id="block215_proto_autoInput" name="proto_auto" />
    <dataInput id="block215_instanceNameInput" name="instanceName" />
    <dataInput id="block215_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block215_registrareInput" name="registrare" />
    <dataInput id="block215_oggettoInput" name="oggetto" />
    <dataInput id="block215_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block215_redazioneInput" name="redazione" />
    <dataInput id="block215_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block215_humanTokenInput" name="humanToken" />
    <dataInput id="block215_abilita_ht_verificaInput" name="abilita_ht_verifica" />
    <dataInput id="block215_conversioneInput" name="conversione" />
    <dataInput id="block215_tipo_registrazioneInput" name="tipo_registrazione" />
    <dataInput id="block215_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block215_instanceIdInput" name="instanceId" />
    <dataInput id="block215_porta_docerInput" name="porta_docer" />
    <dataInput id="block215_destinatariInput" name="destinatari" />
    <dataInput id="block215_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block215_urlDocerInput" name="urlDocer" />
    <dataInput id="block215_outcomeInput" name="outcome" />
    <dataInput id="block215_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block215_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block215_mittenteInput" name="mittente" />
    <dataInput id="block215_systemTokenInput" name="systemToken" />
    <dataInput id="block215_mittentiInput" name="mittenti" />
    <dataInput id="block215_pubblicazioneInput" name="pubblicazione" />
    <dataInput id="block215_conversione_manualeInput" name="conversione_manuale" />
    <dataInput id="block215_creazioneInput" name="creazione" />
    <dataInput id="block215_inviareInput" name="inviare" />
    <dataInput id="block215_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block215_firmatarioInput" name="firmatario" />
    <dataInput id="block215_descrizioneInput" name="descrizione" />
    <dataInput id="block215_protocollazioneInput" name="protocollazione" />
    <dataInput id="block215_firmareInput" name="firmare" />
    <dataInput id="block215_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block215_canalePECInput" name="canalePEC" />
    <dataInput id="block215_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block215_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block215_timbrareInput" name="timbrare" />
    <dataInput id="block215_assegnazioneInput" name="assegnazione" />
    <dataInput id="block215_nameInput" name="name" />
    <dataInput id="block215_descriptionInput" name="description" />
    <dataInput id="block215_processNameInput" name="processName" />
    <dataOutput id="block215_principale_registratoOutput" name="principale_registrato" />
    <dataOutput id="block215_docnum_principaleOutput" name="docnum_principale" />

    <inputSet>
        <dataInputRefs>block215_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block215_versioningInput</dataInputRefs>
        <dataInputRefs>block215_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block215_messaggioInput</dataInputRefs>
        <dataInputRefs>block215_proto_autoInput</dataInputRefs>
        <dataInputRefs>block215_instanceNameInput</dataInputRefs>
        <dataInputRefs>block215_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block215_registrareInput</dataInputRefs>
        <dataInputRefs>block215_oggettoInput</dataInputRefs>
        <dataInputRefs>block215_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block215_redazioneInput</dataInputRefs>
        <dataInputRefs>block215_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block215_humanTokenInput</dataInputRefs>
        <dataInputRefs>block215_abilita_ht_verificaInput</dataInputRefs>
        <dataInputRefs>block215_conversioneInput</dataInputRefs>
        <dataInputRefs>block215_tipo_registrazioneInput</dataInputRefs>
        <dataInputRefs>block215_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block215_instanceIdInput</dataInputRefs>
        <dataInputRefs>block215_porta_docerInput</dataInputRefs>
        <dataInputRefs>block215_destinatariInput</dataInputRefs>
        <dataInputRefs>block215_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block215_urlDocerInput</dataInputRefs>
        <dataInputRefs>block215_outcomeInput</dataInputRefs>
        <dataInputRefs>block215_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block215_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block215_mittenteInput</dataInputRefs>
        <dataInputRefs>block215_systemTokenInput</dataInputRefs>
        <dataInputRefs>block215_mittentiInput</dataInputRefs>
        <dataInputRefs>block215_pubblicazioneInput</dataInputRefs>
        <dataInputRefs>block215_conversione_manualeInput</dataInputRefs>
        <dataInputRefs>block215_creazioneInput</dataInputRefs>
        <dataInputRefs>block215_inviareInput</dataInputRefs>
        <dataInputRefs>block215_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block215_firmatarioInput</dataInputRefs>
        <dataInputRefs>block215_descrizioneInput</dataInputRefs>
        <dataInputRefs>block215_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block215_firmareInput</dataInputRefs>
        <dataInputRefs>block215_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block215_canalePECInput</dataInputRefs>
        <dataInputRefs>block215_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block215_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block215_timbrareInput</dataInputRefs>
        <dataInputRefs>block215_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block215_nameInput</dataInputRefs>
        <dataInputRefs>block215_descriptionInput</dataInputRefs>
        <dataInputRefs>block215_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block215_principale_registratoOutput</dataOutputRefs>
        <dataOutputRefs>block215_docnum_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block215_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block215_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block215_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Con la presente e-mail Le inviamo in allegato la lettera di accompagnamento con i documenti finali inerenti la sua istanza on-line";
]]></sourceRef>
        <targetRef>block215_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block215_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block215_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria documento finale";]]></sourceRef>
        <targetRef>block215_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block215_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block215_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block215_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:abilita_ht_verifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block215_abilita_ht_verificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_registrazione var type: script -->
        <sourceRef><![CDATA["u";]]></sourceRef>
        <targetRef>block215_tipo_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block215_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block215_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block215_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block215_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria documento finale recuperato";]]></sourceRef>
        <targetRef>block215_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block215_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block215_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione lettera accompagnatoria documento finale recuperato";]]></sourceRef>
        <targetRef>block215_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Documento finale recupaerato";]]></sourceRef>
        <targetRef>block215_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block215_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block215_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block215_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:pubblicazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block215_pubblicazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione_manuale var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block215_conversione_manualeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block215_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:inviare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block215_inviareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block215_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera destrutturata documento finale recuperato";]]></sourceRef>
        <targetRef>block215_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block215_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block215_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block215_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block215_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block215_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block215_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:timbrare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block215_timbrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block215_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block215_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity filiera destrutturata con invio del documento recuperato]]></from>
            <to xsi:type="tFormalExpression">block215_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block215_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block215_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block215_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDestrutturataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block215_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block215_principale_registratoOutput</sourceRef>
        <targetRef>letteraDocRecuperato</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block215_docnum_principaleOutput</sourceRef>
        <targetRef>docnum_recuperato</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160825" sourceRef="block393" targetRef="block394">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161383" sourceRef="block339" targetRef="block479">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block181" scriptFormat="http://www.mvel.org/2.0" name="In questo script si la variabile assegnazione che serve in fase di protocollazione del documento; si setta il corretto valore della variabile invio a seconda se stiamo integrando il portale o meno; si setta la ck anche se in questo caso non necessaria" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraComunicazioneAvvio;

/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

assegnazione.get(0).identity=uo_assegnazione;



/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160849" sourceRef="block401" targetRef="block386">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161305" sourceRef="block466" targetRef="block432">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block345" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160909" sourceRef="block412" targetRef="block27">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block435" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_161023" sourceRef="block202" targetRef="block208">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="scaduto"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161335" sourceRef="block220" targetRef="block463">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161089" sourceRef="block429" targetRef="block430">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160387" sourceRef="block266" targetRef="block133">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160735" sourceRef="block356" targetRef="block358">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[gestioneIncaricato=="no"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block195" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera comunicazione diniego" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block195_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block195_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block195_versioningInput" name="versioning" />
    <dataInput id="block195_messaggioInput" name="messaggio" />
    <dataInput id="block195_proto_autoInput" name="proto_auto" />
    <dataInput id="block195_instanceNameInput" name="instanceName" />
    <dataInput id="block195_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block195_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block195_oggettoInput" name="oggetto" />
    <dataInput id="block195_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block195_humanTokenInput" name="humanToken" />
    <dataInput id="block195_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block195_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block195_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block195_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block195_instanceIdInput" name="instanceId" />
    <dataInput id="block195_destinatariInput" name="destinatari" />
    <dataInput id="block195_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block195_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block195_urlDocerInput" name="urlDocer" />
    <dataInput id="block195_outcomeInput" name="outcome" />
    <dataInput id="block195_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block195_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block195_mittenteInput" name="mittente" />
    <dataInput id="block195_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block195_systemTokenInput" name="systemToken" />
    <dataInput id="block195_mittentiInput" name="mittenti" />
    <dataInput id="block195_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block195_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block195_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block195_invioInput" name="invio" />
    <dataInput id="block195_creazioneInput" name="creazione" />
    <dataInput id="block195_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block195_descrizioneInput" name="descrizione" />
    <dataInput id="block195___ckValueInput" name="__ckValue" />
    <dataInput id="block195_firmatariInput" name="firmatari" />
    <dataInput id="block195_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block195_template_principaleInput" name="template_principale" />
    <dataInput id="block195_canalePECInput" name="canalePEC" />
    <dataInput id="block195_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block195_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block195_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block195_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block195_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block195_assegnazioneInput" name="assegnazione" />
    <dataInput id="block195_nameInput" name="name" />
    <dataInput id="block195_descriptionInput" name="description" />
    <dataInput id="block195_processNameInput" name="processName" />
    <dataOutput id="block195_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block195_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block195_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block195_versioningInput</dataInputRefs>
        <dataInputRefs>block195_messaggioInput</dataInputRefs>
        <dataInputRefs>block195_proto_autoInput</dataInputRefs>
        <dataInputRefs>block195_instanceNameInput</dataInputRefs>
        <dataInputRefs>block195_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block195_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block195_oggettoInput</dataInputRefs>
        <dataInputRefs>block195_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block195_humanTokenInput</dataInputRefs>
        <dataInputRefs>block195_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block195_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block195_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block195_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block195_instanceIdInput</dataInputRefs>
        <dataInputRefs>block195_destinatariInput</dataInputRefs>
        <dataInputRefs>block195_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block195_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block195_urlDocerInput</dataInputRefs>
        <dataInputRefs>block195_outcomeInput</dataInputRefs>
        <dataInputRefs>block195_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block195_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block195_mittenteInput</dataInputRefs>
        <dataInputRefs>block195_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block195_systemTokenInput</dataInputRefs>
        <dataInputRefs>block195_mittentiInput</dataInputRefs>
        <dataInputRefs>block195_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block195_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block195_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block195_invioInput</dataInputRefs>
        <dataInputRefs>block195_creazioneInput</dataInputRefs>
        <dataInputRefs>block195_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block195_descrizioneInput</dataInputRefs>
        <dataInputRefs>block195___ckValueInput</dataInputRefs>
        <dataInputRefs>block195_firmatariInput</dataInputRefs>
        <dataInputRefs>block195_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block195_template_principaleInput</dataInputRefs>
        <dataInputRefs>block195_canalePECInput</dataInputRefs>
        <dataInputRefs>block195_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block195_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block195_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block195_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block195_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block195_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block195_nameInput</dataInputRefs>
        <dataInputRefs>block195_descriptionInput</dataInputRefs>
        <dataInputRefs>block195_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block195_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block195_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block195_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Nella presente e-mail sono allegati i documenti della comunicazione di diniego";

]]></sourceRef>
        <targetRef>block195_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block195_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block195_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Comunicazione diniego";]]></sourceRef>
        <targetRef>block195_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block195_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block195_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block195_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block195_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Comunicazione diniego";]]></sourceRef>
        <targetRef>block195_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block195_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione comunicazione diniego";]]></sourceRef>
        <targetRef>block195_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firmare cominicazione diniego";]]></sourceRef>
        <targetRef>block195_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block195_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block195_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block195_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block195_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block195_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block195_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block195_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block195_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera comunicazione diniego";]]></sourceRef>
        <targetRef>block195_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block195_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block195_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block195_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block195_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block195_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraComunicazioneDiniego]]></sourceRef>
        <targetRef>block195_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block195_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block195_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera comunicazione diniego]]></from>
            <to xsi:type="tFormalExpression">block195_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block195_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block195_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block195_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block195_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block195_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_comunicazioneDiniego</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block346" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<task id="block394" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block394_AccountInput" name="account" />
        <dataInput id="block394_TempfolderInput" name="tempfolder" />
        <dataInput id="block394_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block394_UserTokenInput" name="userToken" />


        <dataInput id="block394_urlBrokerInput" name="urlBroker" />
        <dataInput id="block394_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block394_incaricatoInput" name="incaricato" />
        <dataInput id="block394_codaInput" name="coda" />
        <dataInput id="block394_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block394_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block394_messageInput" name="message" />
        <dataInput id="block394_idUserInput" name="idUser" />
        <dataInput id="block394_idProcessoInput" name="idProcesso" />
        <dataInput id="block394_userTokenInput" name="userToken" />
        <dataInput id="block394_esitoInput" name="esito" />
        <dataInput id="block394_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block394_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block394_pwdInput" name="pwd" />
        <dataInput id="block394_correlationKeyInput" name="correlationKey" />
        <dataInput id="block394_userInput" name="user" />

        <dataOutput id="block394_UserTokenOutput" name="userToken" />
        <dataOutput id="block394_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block394_AccountInput</dataInputRefs>
            <dataInputRefs>block394_TempfolderInput</dataInputRefs>
            <dataInputRefs>block394_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block394_UserTokenInput</dataInputRefs>
            <dataInputRefs>block394_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block394_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block394_incaricatoInput</dataInputRefs>
            <dataInputRefs>block394_codaInput</dataInputRefs>
            <dataInputRefs>block394_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block394_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block394_messageInput</dataInputRefs>
            <dataInputRefs>block394_idUserInput</dataInputRefs>
            <dataInputRefs>block394_idProcessoInput</dataInputRefs>
            <dataInputRefs>block394_userTokenInput</dataInputRefs>
            <dataInputRefs>block394_esitoInput</dataInputRefs>
            <dataInputRefs>block394_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block394_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block394_pwdInput</dataInputRefs>
            <dataInputRefs>block394_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block394_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block394_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block394_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block394_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block394_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block394_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block394_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentiAnnullamento</sourceRef>
                <targetRef>block394_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block394_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica annullata";</sourceRef>
                <targetRef>block394_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block394_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block394_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block394_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"NEGATIVE";</sourceRef>
                <targetRef>block394_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block394_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block394_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block394_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block394_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block394_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block394_esitoOutput</sourceRef>
                <targetRef></targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_161131" sourceRef="block435" targetRef="block385">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block479" name="end (terminate)">

    <dataInput id="block479_Input" name="object" />

    <inputSet>
        <dataInputRefs>block479_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block479_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>

<sequenceFlow id="con_160177" sourceRef="block150" targetRef="block177">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="scaduto"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160993" sourceRef="block422" targetRef="block125">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<userTask id="block115" name="HT-Generico_block115" >


    <ioSpecification>

        <dataInput id="block115_TaskNameInput" name="TaskName" />
        <dataInput id="block115_GroupIdInput" name="GroupId" />
        <dataInput id="block115_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block115_UO_RedazioneProvvFinaleNegativoInput" name="UO_RedazioneProvvFinaleNegativo" />
            <dataInput id="block115_smistamentoInput" name="smistamento" />
            <dataInput id="block115_UO_FirmaSmistamentoExtInput" name="UO_FirmaSmistamentoExt" />
            <dataInput id="block115_UO_firmaInput" name="UO_firma" />
            <dataInput id="block115_UO_RegistraDocumentoFinaleInput" name="UO_RegistraDocumentoFinale" />
            <dataInput id="block115_UO_RegistraComunicazioneDiniegoInput" name="UO_RegistraComunicazioneDiniego" />
            <dataInput id="block115_UO_RedazioneSmistamentoExtInput" name="UO_RedazioneSmistamentoExt" />
            <dataInput id="block115_UO_FirmaDocumentoFinaleInput" name="UO_FirmaDocumentoFinale" />
            <dataInput id="block115_UO_RedazionePareriInterniInput" name="UO_RedazionePareriInterni" />
            <dataInput id="block115_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block115_UO_RedazioneComunicazioneDiniegoInput" name="UO_RedazioneComunicazioneDiniego" />
            <dataInput id="block115_UO_RegistraProvvFinaleNegativoInput" name="UO_RegistraProvvFinaleNegativo" />
            <dataInput id="block115_udInput" name="ud" />
            <dataInput id="block115_UO_RedazioneRichiestaIntegrazioniInput" name="UO_RedazioneRichiestaIntegrazioni" />
            <dataInput id="block115_UO_FirmaProvvFinalePositivoInput" name="UO_FirmaProvvFinalePositivo" />
            <dataInput id="block115_UO_RedazioneDocumentoFinaleInput" name="UO_RedazioneDocumentoFinale" />
            <dataInput id="block115_porta_docerInput" name="porta_docer" />
            <dataInput id="block115_UO_RegistraMotiviOstativiInput" name="UO_RegistraMotiviOstativi" />
            <dataInput id="block115_UO_RedazioneMotiviOstativiInput" name="UO_RedazioneMotiviOstativi" />
            <dataInput id="block115_UO_RegistraIrrecivibilitaInput" name="UO_RegistraIrrecivibilita" />
            <dataInput id="block115_UO_InvioPareriEsterniInput" name="UO_InvioPareriEsterni" />
            <dataInput id="block115_UO_FirmaProvvFinaleNegativoInput" name="UO_FirmaProvvFinaleNegativo" />
            <dataInput id="block115_UO_RegistraProvvFinalePositivoInput" name="UO_RegistraProvvFinalePositivo" />
            <dataInput id="block115_UO_FirmaComunicazioneAvvioInput" name="UO_FirmaComunicazioneAvvio" />
            <dataInput id="block115_UO_RegistraSmistamentoExtInput" name="UO_RegistraSmistamentoExt" />
            <dataInput id="block115_UO_RedazioneProvvFinalePositivoInput" name="UO_RedazioneProvvFinalePositivo" />
            <dataInput id="block115_gestione_fascicoloInput" name="gestione_fascicolo" />
            <dataInput id="block115_UO_RegistraComunicazioneAvvioInput" name="UO_RegistraComunicazioneAvvio" />
            <dataInput id="block115_UO_FirmaPareriEsterniInput" name="UO_FirmaPareriEsterni" />
            <dataInput id="block115_UO_ApprovazionePareriInterniInput" name="UO_ApprovazionePareriInterni" />
            <dataInput id="block115_UO_RegistraRichiestaIntegrazioniInput" name="UO_RegistraRichiestaIntegrazioni" />
            <dataInput id="block115_UO_FirmaIrrecivibilitaInput" name="UO_FirmaIrrecivibilita" />
            <dataInput id="block115_UO_FirmaRichiestaIntegrazioniInput" name="UO_FirmaRichiestaIntegrazioni" />
            <dataInput id="block115_scelta_fascicolareInput" name="scelta_fascicolare" />
            <dataInput id="block115_UO_registrazioneInput" name="UO_registrazione" />
            <dataInput id="block115_UO_RegistraPareriEsterniInput" name="UO_RegistraPareriEsterni" />
            <dataInput id="block115_UO_RedazionePareriEsterniInput" name="UO_RedazionePareriEsterni" />
            <dataInput id="block115_UO_RedazioneComunicazioneAvvioInput" name="UO_RedazioneComunicazioneAvvio" />
            <dataInput id="block115_UO_RedazioneIrrecivibilitaInput" name="UO_RedazioneIrrecivibilita" />
            <dataInput id="block115_UO_FirmaComunicazioneDiniegoInput" name="UO_FirmaComunicazioneDiniego" />
            <dataInput id="block115_UO_RegistraPareriInterniInput" name="UO_RegistraPareriInterni" />
            <dataInput id="block115_commentInput" name="comment" />
            <dataInput id="block115_UO_FirmaPareriInterniInput" name="UO_FirmaPareriInterni" />
            <dataInput id="block115_UO_redazioneInput" name="UO_redazione" />
            <dataInput id="block115_noteSmistamentoInput" name="noteSmistamento" />
            <dataInput id="block115_UO_FirmaMotiviOstativiInput" name="UO_FirmaMotiviOstativi" />
            <dataInput id="block115_assegnazione_inInput" name="assegnazione_in" />
        
            <dataOutput id="block115_reasonOutput" name="reason" />
            <dataOutput id="block115_UO_RedazioneProvvFinaleNegativoOutput" name="UO_RedazioneProvvFinaleNegativo" />
            <dataOutput id="block115_smistamentoOutput" name="smistamento" />
            <dataOutput id="block115_UO_FirmaSmistamentoExtOutput" name="UO_FirmaSmistamentoExt" />
            <dataOutput id="block115_UO_RegistraDocumentoFinaleOutput" name="UO_RegistraDocumentoFinale" />
            <dataOutput id="block115_UO_RegistraComunicazioneDiniegoOutput" name="UO_RegistraComunicazioneDiniego" />
            <dataOutput id="block115_UO_RedazioneSmistamentoExtOutput" name="UO_RedazioneSmistamentoExt" />
            <dataOutput id="block115_UO_FirmaDocumentoFinaleOutput" name="UO_FirmaDocumentoFinale" />
            <dataOutput id="block115_UO_RedazionePareriInterniOutput" name="UO_RedazionePareriInterni" />
            <dataOutput id="block115_UO_RedazioneComunicazioneDiniegoOutput" name="UO_RedazioneComunicazioneDiniego" />
            <dataOutput id="block115_UO_RegistraProvvFinaleNegativoOutput" name="UO_RegistraProvvFinaleNegativo" />
            <dataOutput id="block115_UO_RedazioneRichiestaIntegrazioniOutput" name="UO_RedazioneRichiestaIntegrazioni" />
            <dataOutput id="block115_UO_FirmaProvvFinalePositivoOutput" name="UO_FirmaProvvFinalePositivo" />
            <dataOutput id="block115_UO_RedazioneDocumentoFinaleOutput" name="UO_RedazioneDocumentoFinale" />
            <dataOutput id="block115_UO_RegistraMotiviOstativiOutput" name="UO_RegistraMotiviOstativi" />
            <dataOutput id="block115_UO_RedazioneMotiviOstativiOutput" name="UO_RedazioneMotiviOstativi" />
            <dataOutput id="block115_UO_RegistraIrrecivibilitaOutput" name="UO_RegistraIrrecivibilita" />
            <dataOutput id="block115_UO_InvioPareriEsterniOutput" name="UO_InvioPareriEsterni" />
            <dataOutput id="block115_UO_FirmaProvvFinaleNegativoOutput" name="UO_FirmaProvvFinaleNegativo" />
            <dataOutput id="block115_UO_RegistraProvvFinalePositivoOutput" name="UO_RegistraProvvFinalePositivo" />
            <dataOutput id="block115_UO_FirmaComunicazioneAvvioOutput" name="UO_FirmaComunicazioneAvvio" />
            <dataOutput id="block115_UO_RegistraSmistamentoExtOutput" name="UO_RegistraSmistamentoExt" />
            <dataOutput id="block115_UO_RedazioneProvvFinalePositivoOutput" name="UO_RedazioneProvvFinalePositivo" />
            <dataOutput id="block115_UO_RegistraComunicazioneAvvioOutput" name="UO_RegistraComunicazioneAvvio" />
            <dataOutput id="block115_UO_FirmaPareriEsterniOutput" name="UO_FirmaPareriEsterni" />
            <dataOutput id="block115_UO_ApprovazionePareriInterniOutput" name="UO_ApprovazionePareriInterni" />
            <dataOutput id="block115_UO_RegistraRichiestaIntegrazioniOutput" name="UO_RegistraRichiestaIntegrazioni" />
            <dataOutput id="block115_assegnazione_outOutput" name="assegnazione_out" />
            <dataOutput id="block115_UO_FirmaIrrecivibilitaOutput" name="UO_FirmaIrrecivibilita" />
            <dataOutput id="block115_UO_FirmaRichiestaIntegrazioniOutput" name="UO_FirmaRichiestaIntegrazioni" />
            <dataOutput id="block115_scelta_fascicolareOutput" name="scelta_fascicolare" />
            <dataOutput id="block115_UO_RegistraPareriEsterniOutput" name="UO_RegistraPareriEsterni" />
            <dataOutput id="block115_userTokenOutput" name="userToken" />
            <dataOutput id="block115_UO_RedazionePareriEsterniOutput" name="UO_RedazionePareriEsterni" />
            <dataOutput id="block115_UO_RedazioneComunicazioneAvvioOutput" name="UO_RedazioneComunicazioneAvvio" />
            <dataOutput id="block115_UO_RedazioneIrrecivibilitaOutput" name="UO_RedazioneIrrecivibilita" />
            <dataOutput id="block115_UO_FirmaComunicazioneDiniegoOutput" name="UO_FirmaComunicazioneDiniego" />
            <dataOutput id="block115_UO_RegistraPareriInterniOutput" name="UO_RegistraPareriInterni" />
            <dataOutput id="block115_UO_FirmaPareriInterniOutput" name="UO_FirmaPareriInterni" />
            <dataOutput id="block115_noteSmistamentoOutput" name="noteSmistamento" />
            <dataOutput id="block115_UO_FirmaMotiviOstativiOutput" name="UO_FirmaMotiviOstativi" />
           

        <inputSet>
            <dataInputRefs>block115_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block115_TaskNameInput</dataInputRefs>
            <dataInputRefs>block115_GroupIdInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneProvvFinaleNegativoInput</dataInputRefs>
                <dataInputRefs>block115_smistamentoInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaSmistamentoExtInput</dataInputRefs>
                <dataInputRefs>block115_UO_firmaInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraDocumentoFinaleInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraComunicazioneDiniegoInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneSmistamentoExtInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaDocumentoFinaleInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazionePareriInterniInput</dataInputRefs>
                <dataInputRefs>block115_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneComunicazioneDiniegoInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraProvvFinaleNegativoInput</dataInputRefs>
                <dataInputRefs>block115_udInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaProvvFinalePositivoInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneDocumentoFinaleInput</dataInputRefs>
                <dataInputRefs>block115_porta_docerInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraIrrecivibilitaInput</dataInputRefs>
                <dataInputRefs>block115_UO_InvioPareriEsterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaProvvFinaleNegativoInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraProvvFinalePositivoInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaComunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraSmistamentoExtInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneProvvFinalePositivoInput</dataInputRefs>
                <dataInputRefs>block115_gestione_fascicoloInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraComunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaPareriEsterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_ApprovazionePareriInterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaIrrecivibilitaInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block115_scelta_fascicolareInput</dataInputRefs>
                <dataInputRefs>block115_UO_registrazioneInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraPareriEsterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazionePareriEsterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneComunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block115_UO_RedazioneIrrecivibilitaInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaComunicazioneDiniegoInput</dataInputRefs>
                <dataInputRefs>block115_UO_RegistraPareriInterniInput</dataInputRefs>
                <dataInputRefs>block115_commentInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaPareriInterniInput</dataInputRefs>
                <dataInputRefs>block115_UO_redazioneInput</dataInputRefs>
                <dataInputRefs>block115_noteSmistamentoInput</dataInputRefs>
                <dataInputRefs>block115_UO_FirmaMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block115_assegnazione_inInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block115_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneProvvFinaleNegativoOutput</dataOutputRefs>
                <dataOutputRefs>block115_smistamentoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaSmistamentoExtOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraDocumentoFinaleOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraComunicazioneDiniegoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneSmistamentoExtOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaDocumentoFinaleOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazionePareriInterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneComunicazioneDiniegoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraProvvFinaleNegativoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneRichiestaIntegrazioniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaProvvFinalePositivoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneDocumentoFinaleOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraMotiviOstativiOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneMotiviOstativiOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraIrrecivibilitaOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_InvioPareriEsterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaProvvFinaleNegativoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraProvvFinalePositivoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaComunicazioneAvvioOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraSmistamentoExtOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneProvvFinalePositivoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraComunicazioneAvvioOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaPareriEsterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_ApprovazionePareriInterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraRichiestaIntegrazioniOutput</dataOutputRefs>
                <dataOutputRefs>block115_assegnazione_outOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaIrrecivibilitaOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaRichiestaIntegrazioniOutput</dataOutputRefs>
                <dataOutputRefs>block115_scelta_fascicolareOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraPareriEsterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazionePareriEsterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneComunicazioneAvvioOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RedazioneIrrecivibilitaOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaComunicazioneDiniegoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_RegistraPareriInterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaPareriInterniOutput</dataOutputRefs>
                <dataOutputRefs>block115_noteSmistamentoOutput</dataOutputRefs>
                <dataOutputRefs>block115_UO_FirmaMotiviOstativiOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneProvvFinaleNegativo</sourceRef>
                            <targetRef>block115_UO_RedazioneProvvFinaleNegativoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>smistamento</sourceRef>
                            <targetRef>block115_smistamentoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaSmistamentoExt</sourceRef>
                            <targetRef>block115_UO_FirmaSmistamentoExtInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_firma</sourceRef>
                            <targetRef>block115_UO_firmaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraDocumentoFinale</sourceRef>
                            <targetRef>block115_UO_RegistraDocumentoFinaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraComunicazioneDiniego</sourceRef>
                            <targetRef>block115_UO_RegistraComunicazioneDiniegoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneSmistamentoExt</sourceRef>
                            <targetRef>block115_UO_RedazioneSmistamentoExtInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaDocumentoFinale</sourceRef>
                            <targetRef>block115_UO_FirmaDocumentoFinaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazionePareriInterni</sourceRef>
                            <targetRef>block115_UO_RedazionePareriInterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block115_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneComunicazioneDiniego</sourceRef>
                            <targetRef>block115_UO_RedazioneComunicazioneDiniegoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraProvvFinaleNegativo</sourceRef>
                            <targetRef>block115_UO_RegistraProvvFinaleNegativoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>ud</sourceRef>
                            <targetRef>block115_udInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneRichiestaIntegrazioni</sourceRef>
                            <targetRef>block115_UO_RedazioneRichiestaIntegrazioniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaProvvFinalePositivo</sourceRef>
                            <targetRef>block115_UO_FirmaProvvFinalePositivoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneDocumentoFinale</sourceRef>
                            <targetRef>block115_UO_RedazioneDocumentoFinaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block115_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneMotiviOstativi</sourceRef>
                            <targetRef>block115_UO_RegistraMotiviOstativiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneMotiviOstativi</sourceRef>
                            <targetRef>block115_UO_RedazioneMotiviOstativiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraIrrecivibilita</sourceRef>
                            <targetRef>block115_UO_RegistraIrrecivibilitaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_InvioPareriEsterni</sourceRef>
                            <targetRef>block115_UO_InvioPareriEsterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaProvvFinaleNegativo</sourceRef>
                            <targetRef>block115_UO_FirmaProvvFinaleNegativoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraProvvFinalePositivo</sourceRef>
                            <targetRef>block115_UO_RegistraProvvFinalePositivoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaComunicazioneAvvio</sourceRef>
                            <targetRef>block115_UO_FirmaComunicazioneAvvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraSmistamentoExt</sourceRef>
                            <targetRef>block115_UO_RegistraSmistamentoExtInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneProvvFinalePositivo</sourceRef>
                            <targetRef>block115_UO_RedazioneProvvFinalePositivoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>gestione_fascicolo</sourceRef>
                            <targetRef>block115_gestione_fascicoloInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraComunicazioneAvvio</sourceRef>
                            <targetRef>block115_UO_RegistraComunicazioneAvvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaPareriEsterni</sourceRef>
                            <targetRef>block115_UO_FirmaPareriEsterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_ApprovazionePareriInterni</sourceRef>
                            <targetRef>block115_UO_ApprovazionePareriInterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraRichiestaIntegrazioni</sourceRef>
                            <targetRef>block115_UO_RegistraRichiestaIntegrazioniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaIrrecivibilita</sourceRef>
                            <targetRef>block115_UO_FirmaIrrecivibilitaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaRichiestaIntegrazioni</sourceRef>
                            <targetRef>block115_UO_FirmaRichiestaIntegrazioniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>scelta_fascicolare</sourceRef>
                            <targetRef>block115_scelta_fascicolareInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_registrazione</sourceRef>
                            <targetRef>block115_UO_registrazioneInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraPareriEsterni</sourceRef>
                            <targetRef>block115_UO_RegistraPareriEsterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazionePareriEsterni</sourceRef>
                            <targetRef>block115_UO_RedazionePareriEsterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneComunicazioneAvvio</sourceRef>
                            <targetRef>block115_UO_RedazioneComunicazioneAvvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RedazioneIrrecivibilita</sourceRef>
                            <targetRef>block115_UO_RedazioneIrrecivibilitaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaComunicazioneDiniego</sourceRef>
                            <targetRef>block115_UO_FirmaComunicazioneDiniegoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_RegistraPareriInterni</sourceRef>
                            <targetRef>block115_UO_RegistraPareriInterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block115_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block115_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaPareriInterni</sourceRef>
                            <targetRef>block115_UO_FirmaPareriInterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_redazione</sourceRef>
                            <targetRef>block115_UO_redazioneInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>noteSmistamento</sourceRef>
                            <targetRef>block115_noteSmistamentoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_FirmaMotiviOstativi</sourceRef>
                            <targetRef>block115_UO_FirmaMotiviOstativiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>assegnazioneUnica</sourceRef>
                            <targetRef>block115_assegnazione_inInput</targetRef>
                            

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block115_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block115_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">verifica formale e smistamento</from>
           <to xsi:type="tFormalExpression">block115_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneProvvFinaleNegativoOutput</sourceRef>
                    <targetRef>UO_RedazioneProvvFinaleNegativo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_smistamentoOutput</sourceRef>
                    <targetRef>smistamento</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaSmistamentoExtOutput</sourceRef>
                    <targetRef>UO_FirmaSmistamentoExt</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraDocumentoFinaleOutput</sourceRef>
                    <targetRef>UO_RegistraDocumentoFinale</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraComunicazioneDiniegoOutput</sourceRef>
                    <targetRef>UO_RegistraComunicazioneDiniego</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneSmistamentoExtOutput</sourceRef>
                    <targetRef>UO_RedazioneSmistamentoExt</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaDocumentoFinaleOutput</sourceRef>
                    <targetRef>UO_FirmaDocumentoFinale</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazionePareriInterniOutput</sourceRef>
                    <targetRef>UO_RedazionePareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneComunicazioneDiniegoOutput</sourceRef>
                    <targetRef>UO_RedazioneComunicazioneDiniego</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraProvvFinaleNegativoOutput</sourceRef>
                    <targetRef>UO_RegistraProvvFinaleNegativo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneRichiestaIntegrazioniOutput</sourceRef>
                    <targetRef>UO_RedazioneRichiestaIntegrazioni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaProvvFinalePositivoOutput</sourceRef>
                    <targetRef>UO_FirmaProvvFinalePositivo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneDocumentoFinaleOutput</sourceRef>
                    <targetRef>UO_RedazioneDocumentoFinale</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraMotiviOstativiOutput</sourceRef>
                    <targetRef>UO_RegistraMotiviOstativi</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneMotiviOstativiOutput</sourceRef>
                    <targetRef>UO_RedazioneMotiviOstativi</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraIrrecivibilitaOutput</sourceRef>
                    <targetRef>UO_RegistraIrrecivibilita</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_InvioPareriEsterniOutput</sourceRef>
                    <targetRef>UO_InvioPareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaProvvFinaleNegativoOutput</sourceRef>
                    <targetRef>UO_FirmaProvvFinaleNegativo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraProvvFinalePositivoOutput</sourceRef>
                    <targetRef>UO_RegistraProvvFinalePositivo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaComunicazioneAvvioOutput</sourceRef>
                    <targetRef>UO_FirmaComunicazioneAvvio</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraSmistamentoExtOutput</sourceRef>
                    <targetRef>UO_RegistraSmistamentoExt</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneProvvFinalePositivoOutput</sourceRef>
                    <targetRef>UO_RedazioneProvvFinalePositivo</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraComunicazioneAvvioOutput</sourceRef>
                    <targetRef>UO_RegistraComunicazioneAvvio</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaPareriEsterniOutput</sourceRef>
                    <targetRef>UO_FirmaPareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_ApprovazionePareriInterniOutput</sourceRef>
                    <targetRef>UO_ApprovazionePareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraRichiestaIntegrazioniOutput</sourceRef>
                    <targetRef>UO_RegistraRichiestaIntegrazioni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_assegnazione_outOutput</sourceRef>
                    <targetRef>assegnazioneUnica</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaIrrecivibilitaOutput</sourceRef>
                    <targetRef>UO_FirmaIrrecivibilita</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaRichiestaIntegrazioniOutput</sourceRef>
                    <targetRef>UO_FirmaRichiestaIntegrazioni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_scelta_fascicolareOutput</sourceRef>
                    <targetRef>scelta_fascicolare</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraPareriEsterniOutput</sourceRef>
                    <targetRef>UO_RegistraPareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazionePareriEsterniOutput</sourceRef>
                    <targetRef>UO_RedazionePareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneComunicazioneAvvioOutput</sourceRef>
                    <targetRef>UO_RedazioneComunicazioneAvvio</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RedazioneIrrecivibilitaOutput</sourceRef>
                    <targetRef>UO_RedazioneIrrecivibilita</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaComunicazioneDiniegoOutput</sourceRef>
                    <targetRef>UO_FirmaComunicazioneDiniego</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_RegistraPareriInterniOutput</sourceRef>
                    <targetRef>UO_RegistraPareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaPareriInterniOutput</sourceRef>
                    <targetRef>UO_FirmaPareriInterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_noteSmistamentoOutput</sourceRef>
                    <targetRef>noteSmistamento</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block115_UO_FirmaMotiviOstativiOutput</sourceRef>
                    <targetRef>UO_FirmaMotiviOstativi</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<exclusiveGateway id="block501" name="Exclusive Join (XOR)" gatewayDirection="Converging"></exclusiveGateway>

<sequenceFlow id="con_160597" sourceRef="block303" targetRef="block339">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161041" sourceRef="block314" targetRef="block200">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160939" sourceRef="block182" targetRef="block419">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161539" sourceRef="block405" targetRef="block421">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block386" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Gestione Ricezione annullamento" calledElementByName="GestioneRicezionePortale3.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block386_proto_autoInput" name="proto_auto" />
    <dataInput id="block386_instanceNameInput" name="instanceName" />
    <dataInput id="block386_ck1Input" name="ck1" />
    <dataInput id="block386_messaggio_ricevutoInput" name="messaggio_ricevuto" />
    <dataInput id="block386_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block386_ck2Input" name="ck2" />
    <dataInput id="block386_humanTokenInput" name="humanToken" />
    <dataInput id="block386_event_sub_processInput" name="event_sub_process" />
    <dataInput id="block386_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block386_instanceIdInput" name="instanceId" />
    <dataInput id="block386_porta_docerInput" name="porta_docer" />
    <dataInput id="block386_variabiliTemplateAnnullamentoInput" name="variabiliTemplateAnnullamento" />
    <dataInput id="block386_soggetto_ricezioneInput" name="soggetto_ricezione" />
    <dataInput id="block386_destinatariInput" name="destinatari" />
    <dataInput id="block386_fascicolazione_protocolloInput" name="fascicolazione_protocollo" />
    <dataInput id="block386_outcomeInput" name="outcome" />
    <dataInput id="block386_annullaPraticaInput" name="annullaPratica" />
    <dataInput id="block386_mittenteInput" name="mittente" />
    <dataInput id="block386_scadenzaInput" name="scadenza" />
    <dataInput id="block386_systemTokenInput" name="systemToken" />
    <dataInput id="block386_mittentiInput" name="mittenti" />
    <dataInput id="block386_fasc_procInput" name="fasc_proc" />
    <dataInput id="block386_firmatarioInput" name="firmatario" />
    <dataInput id="block386_oggettoProtocolloAnnullamentoInput" name="oggettoProtocolloAnnullamento" />
    <dataInput id="block386_canaleInput" name="canale" />
    <dataInput id="block386_descrizioneInput" name="descrizione" />
    <dataInput id="block386_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block386_canalePECInput" name="canalePEC" />
    <dataInput id="block386_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block386_templateAnnullamentoInput" name="templateAnnullamento" />
    <dataInput id="block386_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block386_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block386_oggetto_protocollazione_pecInput" name="oggetto_protocollazione_pec" />
    <dataInput id="block386_nameInput" name="name" />
    <dataInput id="block386_descriptionInput" name="description" />
    <dataInput id="block386_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block386_processNameInput" name="processName" />
    <dataOutput id="block386_principaleOutput" name="principale" />
    <dataOutput id="block386_documentiRicevutiPortaleOutput" name="documentiRicevutiPortale" />
    <dataOutput id="block386_esitoOutput" name="esito" />

    <inputSet>
        <dataInputRefs>block386_proto_autoInput</dataInputRefs>
        <dataInputRefs>block386_instanceNameInput</dataInputRefs>
        <dataInputRefs>block386_ck1Input</dataInputRefs>
        <dataInputRefs>block386_messaggio_ricevutoInput</dataInputRefs>
        <dataInputRefs>block386_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block386_ck2Input</dataInputRefs>
        <dataInputRefs>block386_humanTokenInput</dataInputRefs>
        <dataInputRefs>block386_event_sub_processInput</dataInputRefs>
        <dataInputRefs>block386_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block386_instanceIdInput</dataInputRefs>
        <dataInputRefs>block386_porta_docerInput</dataInputRefs>
        <dataInputRefs>block386_variabiliTemplateAnnullamentoInput</dataInputRefs>
        <dataInputRefs>block386_soggetto_ricezioneInput</dataInputRefs>
        <dataInputRefs>block386_destinatariInput</dataInputRefs>
        <dataInputRefs>block386_fascicolazione_protocolloInput</dataInputRefs>
        <dataInputRefs>block386_outcomeInput</dataInputRefs>
        <dataInputRefs>block386_annullaPraticaInput</dataInputRefs>
        <dataInputRefs>block386_mittenteInput</dataInputRefs>
        <dataInputRefs>block386_scadenzaInput</dataInputRefs>
        <dataInputRefs>block386_systemTokenInput</dataInputRefs>
        <dataInputRefs>block386_mittentiInput</dataInputRefs>
        <dataInputRefs>block386_fasc_procInput</dataInputRefs>
        <dataInputRefs>block386_firmatarioInput</dataInputRefs>
        <dataInputRefs>block386_oggettoProtocolloAnnullamentoInput</dataInputRefs>
        <dataInputRefs>block386_canaleInput</dataInputRefs>
        <dataInputRefs>block386_descrizioneInput</dataInputRefs>
        <dataInputRefs>block386_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block386_canalePECInput</dataInputRefs>
        <dataInputRefs>block386_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block386_templateAnnullamentoInput</dataInputRefs>
        <dataInputRefs>block386_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block386_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block386_oggetto_protocollazione_pecInput</dataInputRefs>
        <dataInputRefs>block386_nameInput</dataInputRefs>
        <dataInputRefs>block386_descriptionInput</dataInputRefs>
        <dataInputRefs>block386_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block386_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block386_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block386_documentiRicevutiPortaleOutput</dataOutputRefs>
        <dataOutputRefs>block386_esitoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block386_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block386_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio_ricevuto var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_messaggio_ricevutoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block386_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: script -->
        <sourceRef><![CDATA[ck2+"annullamento";]]></sourceRef>
        <targetRef>block386_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:event_sub_process var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_event_sub_processInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block386_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block386_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block386_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabiliTemplateAnnullamento var type: object -->
        <sourceRef><![CDATA[variabiliTemplateAnnullamento]]></sourceRef>
        <targetRef>block386_variabiliTemplateAnnullamentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:soggetto_ricezione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_soggetto_ricezioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block386_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione_protocollo var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block386_fascicolazione_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:annullaPratica var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block386_annullaPraticaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[destinatario_cittadino]]></sourceRef>
        <targetRef>block386_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:scadenza var type: datetimeRef -->
        <sourceRef><![CDATA[scadenzaRicezioneAnnullamento]]></sourceRef>
        <targetRef>block386_scadenzaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block386_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block386_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fasc_proc var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block386_fasc_procInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: object -->
        <sourceRef><![CDATA[firmatario]]></sourceRef>
        <targetRef>block386_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggettoProtocolloAnnullamento var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block386_oggettoProtocolloAnnullamentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canale var type: script -->
        <sourceRef><![CDATA["portale";]]></sourceRef>
        <targetRef>block386_canaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Ricezione richiesta annullamento";]]></sourceRef>
        <targetRef>block386_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block386_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block386_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block386_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block386_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePORTALE]]></from>
            <to xsi:type="tFormalExpression">block386_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:templateAnnullamento var type: document -->
        <sourceRef><![CDATA[templateAnnullamentoCittadino]]></sourceRef>
        <targetRef>block386_templateAnnullamentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block386_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block386_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block386_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollazione_pec var type: script -->
        <sourceRef><![CDATA["Protocollazione entrata richiesta annullamento";]]></sourceRef>
        <targetRef>block386_oggetto_protocollazione_pecInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block386_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Gestione Ricezione annullamento]]></from>
            <to xsi:type="tFormalExpression">block386_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block386_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block386_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block386_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block386_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block386_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[GestioneRicezionePortale3.0]]></from>
            <to xsi:type="tFormalExpression">block386_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block386_principaleOutput</sourceRef>
        <targetRef>documentoAnnullamento</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block386_documentiRicevutiPortaleOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block386_esitoOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160207" sourceRef="block1" targetRef="block181">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[comunicazione_avvio=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161167" sourceRef="block445" targetRef="block444">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[presente_classifica=="si"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block246" scriptFormat="http://www.mvel.org/2.0" name="gestione notifica attivazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
id_pratica=idPraticaPortale;

/************** start user script ***************/

System.out.println("destinatario_cittadino.IndirizzoTelematico=destinatari.get(0).IndirizzoTelematico");

System.out.println("Gestione della descrizione istanza");
descrizioneFasc="Fascicolo "+titoloProcedimento+" - "+id_pratica;

destinatari_notifica_attivazione.clear();
mail=null;
foreach(mail:email_notifica_attivazione){
soggetto=new java.util.HashMap();
soggetto.put("IndirizzoTelematico",mail);
destinatari_notifica_attivazione.add(soggetto);
}

java.lang.String idIstanza = String.valueOf(instanceId);
messaggio_notifica_attivazione="E' stata creata una nuova pratica "+titoloProcedimento+"  con ID "+ idIstanza;
oggetto_notifica_attivazione="Nuova pratica - "+titoloProcedimento;

oggettoNotificaConclusione="Notifica conclusione - "+titoloProcedimento;
messaggioNotificaConclusione="Tempi del procedimento sono in scadenza . La pratica e' la seguente  "+titoloProcedimento+"  con ID "+ idIstanza;


System.out.println("i destinatari attivazione sono: "+destinatari_notifica_attivazione.toString());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("descrizioneFasc",null);
kcontext.setVariable("descrizioneFasc",descrizioneFasc);
kcontext.setVariable("destinatari_notifica_attivazione",null);
kcontext.setVariable("destinatari_notifica_attivazione",destinatari_notifica_attivazione);
kcontext.setVariable("messaggio_notifica_attivazione",null);
kcontext.setVariable("messaggio_notifica_attivazione",messaggio_notifica_attivazione);
kcontext.setVariable("oggetto_notifica_attivazione",null);
kcontext.setVariable("oggetto_notifica_attivazione",oggetto_notifica_attivazione);
kcontext.setVariable("messaggioNotificaConclusione",null);
kcontext.setVariable("messaggioNotificaConclusione",messaggioNotificaConclusione);
kcontext.setVariable("oggettoNotificaConclusione",null);
kcontext.setVariable("oggettoNotificaConclusione",oggettoNotificaConclusione);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160327" sourceRef="block245" targetRef="block215">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block222" scriptFormat="http://www.mvel.org/2.0" name="set data  invio comunicazione avvio" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

gc=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat("dd-MM-yyyy");
data_invio_comunicazione_avvio=fm2.format(gc.getTime());


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("data_invio_comunicazione_avvio",null);
kcontext.setVariable("data_invio_comunicazione_avvio",data_invio_comunicazione_avvio);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161047" sourceRef="block200" targetRef="block201">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<userTask id="block13" name="HT-Generico_block13" >


    <ioSpecification>

        <dataInput id="block13_TaskNameInput" name="TaskName" />
        <dataInput id="block13_GroupIdInput" name="GroupId" />
        <dataInput id="block13_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block13_destinatari_pareri_interniInput" name="destinatari_pareri_interni" />
            <dataInput id="block13_allegatiRichiestaIntegrazioniInput" name="allegatiRichiestaIntegrazioni" />
            <dataInput id="block13_annessiIntegrazioniRicevutoInput" name="annessiIntegrazioniRicevuto" />
            <dataInput id="block13_esito_verificaInput" name="esito_verifica" />
            <dataInput id="block13_doc_richiestaIntegrazioniRicevutoInput" name="doc_richiestaIntegrazioniRicevuto" />
            <dataInput id="block13_allegatiIntegrazioniRicevutoInput" name="allegatiIntegrazioniRicevuto" />
            <dataInput id="block13_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block13_udInput" name="ud" />
            <dataInput id="block13_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block13_porta_docerInput" name="porta_docer" />
            <dataInput id="block13_UO_smistamentoInput" name="UO_smistamento" />
            <dataInput id="block13_allegatiDocumentoAvvioInput" name="allegatiDocumentoAvvio" />
            <dataInput id="block13_gestione_fascicoloInput" name="gestione_fascicolo" />
            <dataInput id="block13_richiesta_pareriInput" name="richiesta_pareri" />
            <dataInput id="block13_azioni_verifica_documentiInput" name="azioni_verifica_documenti" />
            <dataInput id="block13_fascicolatoInput" name="fascicolato" />
            <dataInput id="block13_fasc_procInput" name="fasc_proc" />
            <dataInput id="block13_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block13_scelta_fascicolareInput" name="scelta_fascicolare" />
            <dataInput id="block13_motivo_irrecivibilitaInput" name="motivo_irrecivibilita" />
            <dataInput id="block13_annessiDocumentoAvvioInput" name="annessiDocumentoAvvio" />
            <dataInput id="block13_doc_richiestaIntegrazioniInput" name="doc_richiestaIntegrazioni" />
            <dataInput id="block13_comunicazione_avvioInput" name="comunicazione_avvio" />
            <dataInput id="block13_azioneInput" name="azione" />
            <dataInput id="block13_commentInput" name="comment" />
            <dataInput id="block13_doc_comunicazioneAvvioInput" name="doc_comunicazioneAvvio" />
            <dataInput id="block13_annessiRichiestaIntegrazioniInput" name="annessiRichiestaIntegrazioni" />
            <dataInput id="block13_documentoProtocollatoInput" name="documentoProtocollato" />
        
            <dataOutput id="block13_reasonOutput" name="reason" />
            <dataOutput id="block13_userTokenOutput" name="userToken" />
            <dataOutput id="block13_richiesta_pareriOutput" name="richiesta_pareri" />
            <dataOutput id="block13_esito_verificaOutput" name="esito_verifica" />
            <dataOutput id="block13_azioneOutput" name="azione" />
            <dataOutput id="block13_uo_pareri_selezionateOutput" name="uo_pareri_selezionate" />
            <dataOutput id="block13_scelta_fascicolareOutput" name="scelta_fascicolare" />
            <dataOutput id="block13_motivo_irrecivibilitaOutput" name="motivo_irrecivibilita" />
           

        <inputSet>
            <dataInputRefs>block13_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block13_TaskNameInput</dataInputRefs>
            <dataInputRefs>block13_GroupIdInput</dataInputRefs>
                <dataInputRefs>block13_destinatari_pareri_interniInput</dataInputRefs>
                <dataInputRefs>block13_allegatiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block13_annessiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block13_esito_verificaInput</dataInputRefs>
                <dataInputRefs>block13_doc_richiestaIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block13_allegatiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block13_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block13_udInput</dataInputRefs>
                <dataInputRefs>block13_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block13_porta_docerInput</dataInputRefs>
                <dataInputRefs>block13_UO_smistamentoInput</dataInputRefs>
                <dataInputRefs>block13_allegatiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block13_gestione_fascicoloInput</dataInputRefs>
                <dataInputRefs>block13_richiesta_pareriInput</dataInputRefs>
                <dataInputRefs>block13_azioni_verifica_documentiInput</dataInputRefs>
                <dataInputRefs>block13_fascicolatoInput</dataInputRefs>
                <dataInputRefs>block13_fasc_procInput</dataInputRefs>
                <dataInputRefs>block13_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block13_scelta_fascicolareInput</dataInputRefs>
                <dataInputRefs>block13_motivo_irrecivibilitaInput</dataInputRefs>
                <dataInputRefs>block13_annessiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block13_doc_richiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block13_comunicazione_avvioInput</dataInputRefs>
                <dataInputRefs>block13_azioneInput</dataInputRefs>
                <dataInputRefs>block13_commentInput</dataInputRefs>
                <dataInputRefs>block13_doc_comunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block13_annessiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block13_documentoProtocollatoInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block13_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block13_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block13_richiesta_pareriOutput</dataOutputRefs>
                <dataOutputRefs>block13_esito_verificaOutput</dataOutputRefs>
                <dataOutputRefs>block13_azioneOutput</dataOutputRefs>
                <dataOutputRefs>block13_uo_pareri_selezionateOutput</dataOutputRefs>
                <dataOutputRefs>block13_scelta_fascicolareOutput</dataOutputRefs>
                <dataOutputRefs>block13_motivo_irrecivibilitaOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>destinatari_pareri_interni</sourceRef>
                            <targetRef>block13_destinatari_pareri_interniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block13_allegatiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block13_annessiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>esito_verifica</sourceRef>
                            <targetRef>block13_esito_verificaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioniRicevuto</sourceRef>
                            <targetRef>block13_doc_richiestaIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block13_allegatiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block13_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>ud</sourceRef>
                            <targetRef>block13_udInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block13_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block13_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_smistamento</sourceRef>
                            <targetRef>block13_UO_smistamentoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoAvvio</sourceRef>
                            <targetRef>block13_allegatiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>gestione_fascicolo</sourceRef>
                            <targetRef>block13_gestione_fascicoloInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>richiesta_pareri</sourceRef>
                            <targetRef>block13_richiesta_pareriInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>azioni_verifica_documenti</sourceRef>
                            <targetRef>block13_azioni_verifica_documentiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fascicolato</sourceRef>
                            <targetRef>block13_fascicolatoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc</sourceRef>
                            <targetRef>block13_fasc_procInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block13_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>scelta_fascicolare</sourceRef>
                            <targetRef>block13_scelta_fascicolareInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>motivo_irrecivibilita</sourceRef>
                            <targetRef>block13_motivo_irrecivibilitaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoAvvio</sourceRef>
                            <targetRef>block13_annessiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioni</sourceRef>
                            <targetRef>block13_doc_richiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>comunicazione_avvio</sourceRef>
                            <targetRef>block13_comunicazione_avvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>azione</sourceRef>
                            <targetRef>block13_azioneInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block13_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block13_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_comunicazioneAvvio</sourceRef>
                            <targetRef>block13_doc_comunicazioneAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block13_annessiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block13_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block13_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block13_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Verifica documenti ricevuti - richiesta integrazioni o eventuali motivi irricevibilita"</from>
           <to xsi:type="tFormalExpression">block13_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_richiesta_pareriOutput</sourceRef>
                    <targetRef>richiesta_pareri</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_esito_verificaOutput</sourceRef>
                    <targetRef>esito_verifica</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_azioneOutput</sourceRef>
                    <targetRef>azione</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_uo_pareri_selezionateOutput</sourceRef>
                    <targetRef>uo_pareri_selezionate</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_scelta_fascicolareOutput</sourceRef>
                    <targetRef>scelta_fascicolare</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block13_motivo_irrecivibilitaOutput</sourceRef>
                    <targetRef>motivo_irrecivibilita</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<sequenceFlow id="con_161053" sourceRef="block425" targetRef="block423">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[rest!=""]]>
    </conditionExpression>
</sequenceFlow>

<task id="block448" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block448_AccountInput" name="account" />
        <dataInput id="block448_TempfolderInput" name="tempfolder" />
        <dataInput id="block448_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block448_UserTokenInput" name="userToken" />


        <dataInput id="block448_urlBrokerInput" name="urlBroker" />
        <dataInput id="block448_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block448_incaricatoInput" name="incaricato" />
        <dataInput id="block448_codaInput" name="coda" />
        <dataInput id="block448_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block448_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block448_messageInput" name="message" />
        <dataInput id="block448_idUserInput" name="idUser" />
        <dataInput id="block448_idProcessoInput" name="idProcesso" />
        <dataInput id="block448_userTokenInput" name="userToken" />
        <dataInput id="block448_esitoInput" name="esito" />
        <dataInput id="block448_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block448_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block448_pwdInput" name="pwd" />
        <dataInput id="block448_correlationKeyInput" name="correlationKey" />
        <dataInput id="block448_userInput" name="user" />

        <dataOutput id="block448_UserTokenOutput" name="userToken" />
        <dataOutput id="block448_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block448_AccountInput</dataInputRefs>
            <dataInputRefs>block448_TempfolderInput</dataInputRefs>
            <dataInputRefs>block448_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block448_UserTokenInput</dataInputRefs>
            <dataInputRefs>block448_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block448_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block448_incaricatoInput</dataInputRefs>
            <dataInputRefs>block448_codaInput</dataInputRefs>
            <dataInputRefs>block448_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block448_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block448_messageInput</dataInputRefs>
            <dataInputRefs>block448_idUserInput</dataInputRefs>
            <dataInputRefs>block448_idProcessoInput</dataInputRefs>
            <dataInputRefs>block448_userTokenInput</dataInputRefs>
            <dataInputRefs>block448_esitoInput</dataInputRefs>
            <dataInputRefs>block448_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block448_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block448_pwdInput</dataInputRefs>
            <dataInputRefs>block448_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block448_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block448_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block448_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block448_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block448_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block448_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block448_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentoFinale</sourceRef>
                <targetRef>block448_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block448_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block448_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block448_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block448_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block448_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block448_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block448_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block448_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block448_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block448_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block448_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block448_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160957" sourceRef="block420" targetRef="block405">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[rest!=""]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block223" scriptFormat="http://www.mvel.org/2.0" name="Scadenza = (data_invio_comunicazione_avvio + tempo_procedimento) - giorni_notifica" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

gc2=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat("dd-MM-yyyy");

gc2.setTime(fm2.parse(data_invio_comunicazione_avvio));

gc2.add(java.util.GregorianCalendar.DAY_OF_MONTH, (tempo_procedimento - giorni_notifica) );

System.out.println("invio notifica previsto per il giorno: +scadenza_invio_notifica.toString()   scadenza_invio_notifica=fm2.format(gc2.getTime()); ");

scadenza=gc2.getTime();

gc=java.util.GregorianCalendar.getInstance();
oggi=gc.getTime();

if(interruzioneProcedimento.equals("no")){
System.out.println("scadenza prevista per:"+scadenza.toString());
	if(oggi.after(scadenza)){
		esito_cicla_notifica="no";
	}

	if(oggi.before(scadenza)){
            System.out.println("ciclaciclacicla");
                esito_cicla_notifica="cicla";
	}

}

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("esito_cicla_notifica",null);
kcontext.setVariable("esito_cicla_notifica",esito_cicla_notifica);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block427" scriptFormat="http://www.mvel.org/2.0" name="Gestione metadati modalita trasmissione e descrizione documento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.HashMap doc = new java.util.HashMap();

doc.put("@structure","document");
doc.put("TIPO_COMPONENTE",principale.TIPO_COMPONENTE);
doc.put("DOCNAME",principale.DOCNAME);
doc.put("TYPE_ID","DOCUMENTI_PROTOCOLLATI");
doc.put("DOCNUM",principale.DOCNUM);

doc.put("MODALITA_TRASMISSIONE","PORTALE");
doc.put("DESCRIZIONE_DOCUMENTO","ISTANZA");
doc.put("DATA_PRESENTAZIONE",dataPresentazione);
System.out.println("scelta_protocollare"+scelta_protocollare);
principale = doc;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("principale",null);
kcontext.setVariable("principale",principale);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block432" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<inclusiveGateway id="block1" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160969" sourceRef="block255" targetRef="block60">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[richiesta_pareri=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161587" sourceRef="block434" targetRef="block282">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_protocollare=="si"]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block360" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<inclusiveGateway id="block60" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<task id="block428" name="UpdateDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block428_TaskNameInput" name="TaskName" />
        <dataInput id="block428_GroupIdInput" name="GroupId" />
        <dataInput id="block428_Operation" name="operation" />

            <dataInput id="block428_userTokenInput" name="userToken" />
            <dataInput id="block428_mittenteInput" name="mittente" />
            <dataInput id="block428_documentInput" name="document" />
            <dataInput id="block428_destinatarioInput" name="destinatario" />
        
            <dataOutput id="block428_userTokenOutput" name="userToken" />
            <dataOutput id="block428_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block428_TaskNameInput</dataInputRefs>
            <dataInputRefs>block428_GroupIdInput</dataInputRefs>
            <dataInputRefs>block428_Operation</dataInputRefs>
                <dataInputRefs>block428_userTokenInput</dataInputRefs>
                <dataInputRefs>block428_mittenteInput</dataInputRefs>
                <dataInputRefs>block428_documentInput</dataInputRefs>
                <dataInputRefs>block428_destinatarioInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block428_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block428_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block428_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block428_mittenteInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>principale</sourceRef>
                            <targetRef>block428_documentInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block428_destinatarioInput</targetRef>
                            

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block428_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block428_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block428_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">UpdateDocument</from>
           <to xsi:type="tFormalExpression">block428_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block428_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">AggiornaDocumento</from>
           <to xsi:type="tFormalExpression">block428_Operation</to>
        </assignment>
      </dataInputAssociation>


            <dataOutputAssociation>
                            <sourceRef>block428_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block428_documentOutput</sourceRef>
                            <targetRef>principale</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<sequenceFlow id="con_161353" sourceRef="block211" targetRef="block475">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block285" scriptFormat="http://www.mvel.org/2.0" name="gestione mittenti - destinatari - fascicolo - assegnazione - gestione tipologie documentali -" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println("Gestione fascicolo");

fasc_proc.COD_ENTE=message.get("ente");
fasc_proc.COD_AOO=message.get("aoo");




System.out.println("gestione varibili send");

idProcesso=message.get("idProcesso");
descrizioneProcesso=message.get("descrizioneProcesso");
idPraticaPortale=message.get("idPraticaPortale");
idProceduraPortale=message.get("idProceduraPortale");
idUser=message.get("idUser");
dataPresentazione=message.get("dataPresentazione");
System.out.println("Se il campo incaricato del message ricevuto diversa da null allora valorizzo la variabile del flusso");
if(message.get("incaricato")!=null){
incaricato= message.get("incaricato");
}

System.out.println("gestione variabili di processo");

java.util.Map mapVaribiliProcesso = (java.util.Map)message.get("variabiliProcesso");

titoloProcedimento= mapVaribiliProcesso.get("titleProc");
uo=mapVaribiliProcesso.get("uo");
titolario=mapVaribiliProcesso.get("titolario");

java.util.Map mapUser= (java.util.Map)mapVaribiliProcesso.get("user");

if(mapUser.get("nome")!=null){
destinatario_cittadino.put("nome", mapUser.get("nome"));
}
if(mapUser.get("nome")==null){
destinatario_cittadino.put("nome", "ND");
}
if(mapUser.get("cognome")!=null){
destinatario_cittadino.put("cognome", mapUser.get("cognome"));
}
if(mapUser.get("cognome")==null){
destinatario_cittadino.put("cognome", "ND");
}
if(mapUser.get("indirizzoTelematico")!=null){
destinatario_cittadino.put("IndirizzoTelematico",mapUser.get("indirizzoTelematico"));
}
if(mapUser.get("indirizzoTelematico")==null){
destinatario_cittadino.put("IndirizzoTelematico","ND");
}

if(mapUser.get("codiceFiscale")!=null){
destinatario_cittadino.put("codiceFiscale",mapUser.get("codiceFiscale"));
}

if(mapUser.get("codiceFiscale")==null){
destinatario_cittadino.put("codiceFiscale","ND");
}

if(mapUser.get("titolo")!=null){
destinatario_cittadino.put("titolo", mapUser.get("titolo"));
}
if(mapUser.get("titolo")==null){
destinatario_cittadino.put("titolo", "ND");
}

if(mapUser.get("denominazione")!=null){
destinatario_cittadino.put("denominazione", mapUser.get("denominazione"));
}
if(mapUser.get("denominazione")==null){
destinatario_cittadino.put("denominazione", "ND");
}

//componi indirizzo postale con indirizzo, civico, cap citta' (provincia) - se tutti i campi vuoti, metto ND
java.lang.String indirizzo="";
java.lang.String civico="";
java.lang.String cap="";
java.lang.String citta="";
java.lang.String provincia="";

if(mapUser.get("indirizzoPostale")!=null){
    indirizzo=mapUser.get("indirizzoPostale")+", ";
}
if(mapUser.get("civicoResidenza")!=null){
    civico=mapUser.get("civicoResidenza")+", ";
}
if(mapUser.get("capResidenza")!=null){
    cap=mapUser.get("capResidenza")+" ";
}
if(mapUser.get("cittaResidenza")!=null){
    citta=mapUser.get("cittaResidenza")+" ";
}
if(mapUser.get("provinciaResidenza")!=null){
    provincia="("+mapUser.get("provinciaResidenza")+")";
}

destinatario_cittadino.put("indirizzoPostale",indirizzo+civico+cap+citta+provincia);

if(destinatario_cittadino.get("indirizzoPostale")==""){
destinatario_cittadino.put("indirizzoPostale","ND");
}

destinatari.clear();

destinatari.add(destinatario_cittadino);


System.out.println("i destinatari sono:"+destinatari.toString());

java.util.ArrayList tmp=new java.util.ArrayList();
java.util.ArrayList tmp2=new java.util.ArrayList();
java.util.ArrayList tmp3=new java.util.ArrayList();
java.util.ArrayList tmp4=new java.util.ArrayList();



if(tipologiePrincipale.size()==0){
tipologiePrincipale=tmp;
tipologiePrincipale.add("DOCUMENTO");
tipologiePrincipale.add("DOCUMENTO_CONTABILE");
}

if(tipologieAllegato.size()==0){
tipologieAllegato=tmp2;
}

if(tipologieAnnesso.size()==0){
tipologieAnnesso=tmp3;
}

if(tipologieAnnotazioni.size()==0){
tipologieAnnotazioni=tmp4;
}

System.out.println("Setto l'unita' operativa");
System.out.println(uo);


Default.identity = uo;
figura_professionale_procedimento=uo;
assegnazione.get(0).identity=figura_professionale_procedimento;

System.out.println("Gestione variabili dal message");
System.out.println("le uo impostate sono: "+uo);

System.out.println("***** Gestione firmatari*******");


var firm = {};
firm = firmatario;

firm["@type"] = "PersonaFisica";
firm.nome = destinatario_cittadino.get("nome");
firm.cognome = destinatario_cittadino.get("cognome");
firm.id = destinatario_cittadino.get("codiceFiscale");
firm.titolo = destinatario_cittadino.get("titolo");
firm.denominazione = destinatario_cittadino.get("denominazione");
firm.indirizzoPostale = destinatario_cittadino.get("indirizzoPostale");
firm.IndirizzoTelematico = destinatario_cittadino.get("IndirizzoTelematico");
firm.CodiceFiscale= destinatario_cittadino.get("codiceFiscale");


firmatario = firm;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("destinatari",null);
kcontext.setVariable("destinatari",destinatari);
kcontext.setVariable("fasc_proc",null);
kcontext.setVariable("fasc_proc",fasc_proc);
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);
kcontext.setVariable("idUser",null);
kcontext.setVariable("idUser",idUser);
kcontext.setVariable("idProceduraPortale",null);
kcontext.setVariable("idProceduraPortale",idProceduraPortale);
kcontext.setVariable("idPraticaPortale",null);
kcontext.setVariable("idPraticaPortale",idPraticaPortale);
kcontext.setVariable("descrizioneProcesso",null);
kcontext.setVariable("descrizioneProcesso",descrizioneProcesso);
kcontext.setVariable("idProcesso",null);
kcontext.setVariable("idProcesso",idProcesso);
kcontext.setVariable("tipologiePrincipale",null);
kcontext.setVariable("tipologiePrincipale",tipologiePrincipale);
kcontext.setVariable("tipologieAllegato",null);
kcontext.setVariable("tipologieAllegato",tipologieAllegato);
kcontext.setVariable("tipologieAnnesso",null);
kcontext.setVariable("tipologieAnnesso",tipologieAnnesso);
kcontext.setVariable("tipologieAnnotazioni",null);
kcontext.setVariable("tipologieAnnotazioni",tipologieAnnotazioni);
kcontext.setVariable("incaricato",null);
kcontext.setVariable("incaricato",incaricato);
kcontext.setVariable("titoloProcedimento",null);
kcontext.setVariable("titoloProcedimento",titoloProcedimento);
kcontext.setVariable("uo",null);
kcontext.setVariable("uo",uo);
kcontext.setVariable("titolario",null);
kcontext.setVariable("titolario",titolario);
kcontext.setVariable("destinatario_cittadino",null);
kcontext.setVariable("destinatario_cittadino",destinatario_cittadino);
kcontext.setVariable("figura_professionale_procedimento",null);
kcontext.setVariable("figura_professionale_procedimento",figura_professionale_procedimento);
kcontext.setVariable("firmatario",null);
kcontext.setVariable("firmatario",firmatario);
kcontext.setVariable("dataPresentazione",null);
kcontext.setVariable("dataPresentazione",dataPresentazione);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161005" sourceRef="block202" targetRef="block335">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito!="scaduto"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160573" sourceRef="block330" targetRef="block156">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161473" sourceRef="block373" targetRef="block490">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block426" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160621" sourceRef="block47" targetRef="block33">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica_osservazioni=="si"]]>
    </conditionExpression>
</sequenceFlow>

<task id="block409" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block409_AccountInput" name="account" />
        <dataInput id="block409_TempfolderInput" name="tempfolder" />
        <dataInput id="block409_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block409_UserTokenInput" name="userToken" />


        <dataInput id="block409_urlBrokerInput" name="urlBroker" />
        <dataInput id="block409_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block409_incaricatoInput" name="incaricato" />
        <dataInput id="block409_codaInput" name="coda" />
        <dataInput id="block409_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block409_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block409_messageInput" name="message" />
        <dataInput id="block409_idUserInput" name="idUser" />
        <dataInput id="block409_idProcessoInput" name="idProcesso" />
        <dataInput id="block409_userTokenInput" name="userToken" />
        <dataInput id="block409_esitoInput" name="esito" />
        <dataInput id="block409_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block409_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block409_pwdInput" name="pwd" />
        <dataInput id="block409_correlationKeyInput" name="correlationKey" />
        <dataInput id="block409_userInput" name="user" />

        <dataOutput id="block409_UserTokenOutput" name="userToken" />
        <dataOutput id="block409_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block409_AccountInput</dataInputRefs>
            <dataInputRefs>block409_TempfolderInput</dataInputRefs>
            <dataInputRefs>block409_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block409_UserTokenInput</dataInputRefs>
            <dataInputRefs>block409_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block409_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block409_incaricatoInput</dataInputRefs>
            <dataInputRefs>block409_codaInput</dataInputRefs>
            <dataInputRefs>block409_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block409_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block409_messageInput</dataInputRefs>
            <dataInputRefs>block409_idUserInput</dataInputRefs>
            <dataInputRefs>block409_idProcessoInput</dataInputRefs>
            <dataInputRefs>block409_userTokenInput</dataInputRefs>
            <dataInputRefs>block409_esitoInput</dataInputRefs>
            <dataInputRefs>block409_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block409_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block409_pwdInput</dataInputRefs>
            <dataInputRefs>block409_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block409_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block409_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block409_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block409_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block409_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block409_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block409_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef></sourceRef>
                <targetRef>block409_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block409_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block409_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block409_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block409_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block409_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"POSITIVE";</sourceRef>
                <targetRef>block409_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block409_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block409_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block409_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block409_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block409_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block409_esitoOutput</sourceRef>
                <targetRef></targetRef>

    </dataOutputAssociation>


</task>


<callActivity id="block212" isForCompensation="false" independent="false" waitForCompletion="true" name="Smistamento esterno con filiera destrutturata e lettera accompagnamento" calledElementByName="Filiera destrutturata Istanza di parte 2.1" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block212_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block212_versioningInput" name="versioning" />
    <dataInput id="block212_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block212_messaggioInput" name="messaggio" />
    <dataInput id="block212_instanceNameInput" name="instanceName" />
    <dataInput id="block212_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block212_registrareInput" name="registrare" />
    <dataInput id="block212_oggettoInput" name="oggetto" />
    <dataInput id="block212_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block212_redazioneInput" name="redazione" />
    <dataInput id="block212_humanTokenInput" name="humanToken" />
    <dataInput id="block212_abilita_ht_verificaInput" name="abilita_ht_verifica" />
    <dataInput id="block212_conversioneInput" name="conversione" />
    <dataInput id="block212_tipo_registrazioneInput" name="tipo_registrazione" />
    <dataInput id="block212_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block212_instanceIdInput" name="instanceId" />
    <dataInput id="block212_destinatariInput" name="destinatari" />
    <dataInput id="block212_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block212_urlDocerInput" name="urlDocer" />
    <dataInput id="block212_outcomeInput" name="outcome" />
    <dataInput id="block212_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block212_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block212_mittenteInput" name="mittente" />
    <dataInput id="block212_systemTokenInput" name="systemToken" />
    <dataInput id="block212_mittentiInput" name="mittenti" />
    <dataInput id="block212_pubblicazioneInput" name="pubblicazione" />
    <dataInput id="block212_conversione_manualeInput" name="conversione_manuale" />
    <dataInput id="block212_creazioneInput" name="creazione" />
    <dataInput id="block212_inviareInput" name="inviare" />
    <dataInput id="block212_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block212_firmatarioInput" name="firmatario" />
    <dataInput id="block212_descrizioneInput" name="descrizione" />
    <dataInput id="block212_protocollazioneInput" name="protocollazione" />
    <dataInput id="block212_firmareInput" name="firmare" />
    <dataInput id="block212_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block212_canalePECInput" name="canalePEC" />
    <dataInput id="block212_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block212_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block212_timbrareInput" name="timbrare" />
    <dataInput id="block212_assegnazioneInput" name="assegnazione" />
    <dataInput id="block212_nameInput" name="name" />
    <dataInput id="block212_descriptionInput" name="description" />
    <dataInput id="block212_processNameInput" name="processName" />
    <dataOutput id="block212_docnum_principaleOutput" name="docnum_principale" />

    <inputSet>
        <dataInputRefs>block212_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block212_versioningInput</dataInputRefs>
        <dataInputRefs>block212_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block212_messaggioInput</dataInputRefs>
        <dataInputRefs>block212_instanceNameInput</dataInputRefs>
        <dataInputRefs>block212_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block212_registrareInput</dataInputRefs>
        <dataInputRefs>block212_oggettoInput</dataInputRefs>
        <dataInputRefs>block212_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block212_redazioneInput</dataInputRefs>
        <dataInputRefs>block212_humanTokenInput</dataInputRefs>
        <dataInputRefs>block212_abilita_ht_verificaInput</dataInputRefs>
        <dataInputRefs>block212_conversioneInput</dataInputRefs>
        <dataInputRefs>block212_tipo_registrazioneInput</dataInputRefs>
        <dataInputRefs>block212_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block212_instanceIdInput</dataInputRefs>
        <dataInputRefs>block212_destinatariInput</dataInputRefs>
        <dataInputRefs>block212_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block212_urlDocerInput</dataInputRefs>
        <dataInputRefs>block212_outcomeInput</dataInputRefs>
        <dataInputRefs>block212_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block212_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block212_mittenteInput</dataInputRefs>
        <dataInputRefs>block212_systemTokenInput</dataInputRefs>
        <dataInputRefs>block212_mittentiInput</dataInputRefs>
        <dataInputRefs>block212_pubblicazioneInput</dataInputRefs>
        <dataInputRefs>block212_conversione_manualeInput</dataInputRefs>
        <dataInputRefs>block212_creazioneInput</dataInputRefs>
        <dataInputRefs>block212_inviareInput</dataInputRefs>
        <dataInputRefs>block212_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block212_firmatarioInput</dataInputRefs>
        <dataInputRefs>block212_descrizioneInput</dataInputRefs>
        <dataInputRefs>block212_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block212_firmareInput</dataInputRefs>
        <dataInputRefs>block212_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block212_canalePECInput</dataInputRefs>
        <dataInputRefs>block212_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block212_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block212_timbrareInput</dataInputRefs>
        <dataInputRefs>block212_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block212_nameInput</dataInputRefs>
        <dataInputRefs>block212_descriptionInput</dataInputRefs>
        <dataInputRefs>block212_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block212_docnum_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block212_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block212_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block212_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["In allegato la lettera di accompagnamento con i documenti inerenti al procedimento";]]></sourceRef>
        <targetRef>block212_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block212_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block212_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria smistamento esterno";]]></sourceRef>
        <targetRef>block212_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block212_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block212_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:abilita_ht_verifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_abilita_ht_verificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block212_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_registrazione var type: script -->
        <sourceRef><![CDATA["u";]]></sourceRef>
        <targetRef>block212_tipo_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block212_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Lettera accompagnatoria smistamento esterno";]]></sourceRef>
        <targetRef>block212_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block212_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollo lettera accompagnatoria smistamento esterno";]]></sourceRef>
        <targetRef>block212_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Lettera accomapagnatoria Smistamento esterno";]]></sourceRef>
        <targetRef>block212_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block212_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block212_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block212_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:pubblicazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_pubblicazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione_manuale var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_conversione_manualeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block212_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:inviare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_inviareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block212_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Lettera accompagnamento smistamento esterno";]]></sourceRef>
        <targetRef>block212_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block212_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block212_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block212_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block212_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block212_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block212_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraSmistamentoExt]]></sourceRef>
        <targetRef>block212_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:timbrare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block212_timbrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block212_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block212_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Smistamento esterno con filiera destrutturata e lettera accompagnamento]]></from>
            <to xsi:type="tFormalExpression">block212_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block212_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block212_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block212_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera destrutturata Istanza di parte 2.1]]></from>
            <to xsi:type="tFormalExpression">block212_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block212_docnum_principaleOutput</sourceRef>
        <targetRef>docnum_docSmistamentoExt</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161611" sourceRef="block414" targetRef="block497">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block313" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per il portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block313_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block313_descrizioneInput" name="descrizione" />
    <dataInput id="block313_instanceIdInput" name="instanceId" />
    <dataInput id="block313_instanceNameInput" name="instanceName" />
    <dataInput id="block313_systemTokenInput" name="systemToken" />
    <dataInput id="block313_principaleInput" name="principale" />
    <dataInput id="block313_canalePECInput" name="canalePEC" />
    <dataInput id="block313_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block313_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block313_outcomeInput" name="outcome" />
    <dataInput id="block313_humanTokenInput" name="humanToken" />
    <dataInput id="block313_nameInput" name="name" />
    <dataInput id="block313_descriptionInput" name="description" />
    <dataInput id="block313_processNameInput" name="processName" />
    <dataOutput id="block313_docIntSendOutput" name="docIntSend" />
    <dataOutput id="block313_annessiOutput" name="annessi" />
    <dataOutput id="block313_allegatiOutput" name="allegati" />

    <inputSet>
        <dataInputRefs>block313_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block313_descrizioneInput</dataInputRefs>
        <dataInputRefs>block313_instanceIdInput</dataInputRefs>
        <dataInputRefs>block313_instanceNameInput</dataInputRefs>
        <dataInputRefs>block313_systemTokenInput</dataInputRefs>
        <dataInputRefs>block313_principaleInput</dataInputRefs>
        <dataInputRefs>block313_canalePECInput</dataInputRefs>
        <dataInputRefs>block313_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block313_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block313_outcomeInput</dataInputRefs>
        <dataInputRefs>block313_humanTokenInput</dataInputRefs>
        <dataInputRefs>block313_nameInput</dataInputRefs>
        <dataInputRefs>block313_descriptionInput</dataInputRefs>
        <dataInputRefs>block313_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block313_docIntSendOutput</dataOutputRefs>
        <dataOutputRefs>block313_annessiOutput</dataOutputRefs>
        <dataOutputRefs>block313_allegatiOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block313_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block313_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per portale";]]></sourceRef>
        <targetRef>block313_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block313_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block313_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block313_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_richiestaIntegrazioni]]></sourceRef>
        <targetRef>block313_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block313_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block313_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block313_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block313_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block313_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block313_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block313_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block313_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block313_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per il portale]]></from>
            <to xsi:type="tFormalExpression">block313_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block313_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block313_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block313_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block313_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block313_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentiIntegrazione</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block313_annessiOutput</sourceRef>
        <targetRef>annessiRichiestaIntegrazioni</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block313_allegatiOutput</sourceRef>
        <targetRef>allegatiRichiestaIntegrazioni</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block156" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>

<callActivity id="block474" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione Annesso Pareri Interni" calledElementByName="#{lista_call_activity.AMD_RedazioneUD}" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=UO_RedazionePareriInterni;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
template_principale=doc_annessoPareriInterni;
creazione="template";
docnum_principale="";;
mittente=mittente_notifica;
variabili_template_principale=variabiliTemplateApprovazione;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;
tipo_template="html";
template_principale_html=template_pareriInterniHTML;

            doc_annessoPareriInterni.DOCNAME="Documento_pareri_interni_"+".pdf";
            
//[auto-insert]
//doc_annessoPareriInterni
kcontext.setVariable("doc_annessoPareriInterni",null);
kcontext.setVariable("doc_annessoPareriInterni",doc_annessoPareriInterni);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block474_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block474_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block474_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block474_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block474_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block474_humanTokenInput" name="humanToken" />
    <dataInput id="block474_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block474_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block474_template_allegatiInput" name="template_allegati" />
    <dataInput id="block474_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block474_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block474_modificaInput" name="modifica" />
    <dataInput id="block474_lanesInput" name="lanes" />
    <dataInput id="block474_mittenteInput" name="mittente" />
    <dataInput id="block474_tipo_templateInput" name="tipo_template" />
    <dataInput id="block474_systemTokenInput" name="systemToken" />
    <dataInput id="block474_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block474_template_annessiInput" name="template_annessi" />
    <dataInput id="block474_creazioneInput" name="creazione" />
    <dataInput id="block474_descrizioneInput" name="descrizione" />
    <dataInput id="block474_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block474_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block474_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block474_template_principaleInput" name="template_principale" />
    <dataInput id="block474_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block474_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block474_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block474_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block474_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block474_userInput" name="user" />
    <dataInput id="block474_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block474_commitInput" name="commit" />
    <dataOutput id="block474_principaleOutput" name="principale" />
    <dataOutput id="block474_lanesOutput" name="lanes" />
    <dataOutput id="block474_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block474_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block474_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block474_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block474_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block474_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block474_humanTokenInput</dataInputRefs>
        <dataInputRefs>block474_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block474_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block474_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block474_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block474_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block474_modificaInput</dataInputRefs>
        <dataInputRefs>block474_lanesInput</dataInputRefs>
        <dataInputRefs>block474_mittenteInput</dataInputRefs>
        <dataInputRefs>block474_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block474_systemTokenInput</dataInputRefs>
        <dataInputRefs>block474_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block474_template_annessiInput</dataInputRefs>
        <dataInputRefs>block474_creazioneInput</dataInputRefs>
        <dataInputRefs>block474_descrizioneInput</dataInputRefs>
        <dataInputRefs>block474_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block474_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block474_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block474_template_principaleInput</dataInputRefs>
        <dataInputRefs>block474_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block474_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block474_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block474_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block474_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block474_userInput</dataInputRefs>
        <dataInputRefs>block474_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block474_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block474_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block474_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block474_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block474_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block474_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block474_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block474_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block474_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block474_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block474_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: script -->
        <sourceRef><![CDATA["html"]]></sourceRef>
        <targetRef>block474_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block474_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[template_pareriInterniHTML]]></sourceRef>
        <targetRef>block474_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["template"]]></sourceRef>
        <targetRef>block474_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block474_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[doc_annessoPareriInterni]]></sourceRef>
        <targetRef>block474_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block474_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block474_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[variabiliTemplateApprovazione]]></sourceRef>
        <targetRef>block474_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RedazionePareriInterni]]></sourceRef>
        <targetRef>block474_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: tempRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block474_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block474_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block474_principaleOutput</sourceRef>
        <targetRef>doc_annessoPareriInterni</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block474_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block474_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161347" sourceRef="block7" targetRef="block129">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161377" sourceRef="block474" targetRef="block211">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block255" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<task id="block281" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block281_TaskNameInput" name="TaskName" />
        <dataInput id="block281_GroupIdInput" name="GroupId" />
        <dataInput id="block281_Operation" name="operation" />

            <dataInput id="block281_userTokenInput" name="userToken" />
            <dataInput id="block281_documentInput" name="document" />
        
            <dataOutput id="block281_userTokenOutput" name="userToken" />
            <dataOutput id="block281_annessiOutput" name="annessi" />
            <dataOutput id="block281_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block281_allegatiOutput" name="allegati" />
            <dataOutput id="block281_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block281_TaskNameInput</dataInputRefs>
            <dataInputRefs>block281_GroupIdInput</dataInputRefs>
            <dataInputRefs>block281_Operation</dataInputRefs>
                <dataInputRefs>block281_userTokenInput</dataInputRefs>
                <dataInputRefs>block281_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block281_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block281_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block281_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block281_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block281_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block281_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>principaleProtocollato</sourceRef>
                            <targetRef>block281_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block281_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block281_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block281_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block281_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block281_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block281_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block281_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block281_annessiOutput</sourceRef>
                            <targetRef>annessiDocumentoProtocollato</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block281_annotazioniOutput</sourceRef>
                            <targetRef>annotazioniDocumentoProtocollato</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block281_allegatiOutput</sourceRef>
                            <targetRef>allegatiDocumentoProtocollato</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block281_documentOutput</sourceRef>
                            <targetRef>documentoProtocollato</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<scriptTask id="block248" scriptFormat="http://www.mvel.org/2.0" name="Questo script serve solamente a comunicare ad AC lo stato del portale concluso" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/



/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160549" sourceRef="block195" targetRef="block333">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block309" scriptFormat="http://www.mvel.org/2.0" name="Set variabili template" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
note=noteSmistamento;

/************** start user script ***************/

java.util.HashMap tplVar=new java.util.HashMap();
tplVar.put("note", note);
variabiliTemplateSmistamento=tplVar;

System.out.println("note:"+note);
System.out.println("smistamento:"+variabiliTemplateSmistamento.toString());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("variabiliTemplateSmistamento",null);
kcontext.setVariable("variabiliTemplateSmistamento",variabiliTemplateSmistamento);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161635" sourceRef="block498" targetRef="block69">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161407" sourceRef="block178" targetRef="block484">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[notifica_tempi_conclusione=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160729" sourceRef="block355" targetRef="block14">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161563" sourceRef="block467" targetRef="block466">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_protocollare=="si"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block400" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Filiera Dedicata Istanza di Parte" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block400_versioningInput" name="versioning" />
    <dataInput id="block400_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block400_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block400_approvazioneInput" name="approvazione" />
    <dataInput id="block400_oggettoInput" name="oggetto" />
    <dataInput id="block400_registrareInput" name="registrare" />
    <dataInput id="block400_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block400_humanTokenInput" name="humanToken" />
    <dataInput id="block400_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block400_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block400_destinatariInput" name="destinatari" />
    <dataInput id="block400_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block400_urlDocerInput" name="urlDocer" />
    <dataInput id="block400_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block400_mittenteInput" name="mittente" />
    <dataInput id="block400_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block400_mittentiInput" name="mittenti" />
    <dataInput id="block400_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block400_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block400_invioInput" name="invio" />
    <dataInput id="block400_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block400_firmareInput" name="firmare" />
    <dataInput id="block400_canalePECInput" name="canalePEC" />
    <dataInput id="block400_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block400_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block400_assegnazioneInput" name="assegnazione" />
    <dataInput id="block400_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block400_messaggioInput" name="messaggio" />
    <dataInput id="block400_proto_autoInput" name="proto_auto" />
    <dataInput id="block400_instanceNameInput" name="instanceName" />
    <dataInput id="block400_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block400_redazioneInput" name="redazione" />
    <dataInput id="block400_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block400_conversioneInput" name="conversione" />
    <dataInput id="block400_instanceIdInput" name="instanceId" />
    <dataInput id="block400_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block400_outcomeInput" name="outcome" />
    <dataInput id="block400_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block400_systemTokenInput" name="systemToken" />
    <dataInput id="block400_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block400_creazioneInput" name="creazione" />
    <dataInput id="block400_descrizioneInput" name="descrizione" />
    <dataInput id="block400___ckValueInput" name="__ckValue" />
    <dataInput id="block400_firmatariInput" name="firmatari" />
    <dataInput id="block400_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block400_template_principaleInput" name="template_principale" />
    <dataInput id="block400_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block400_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block400_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block400_nameInput" name="name" />
    <dataInput id="block400_descriptionInput" name="description" />
    <dataInput id="block400_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block400_processNameInput" name="processName" />
    <dataOutput id="block400_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block400_versioningInput</dataInputRefs>
        <dataInputRefs>block400_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block400_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block400_approvazioneInput</dataInputRefs>
        <dataInputRefs>block400_oggettoInput</dataInputRefs>
        <dataInputRefs>block400_registrareInput</dataInputRefs>
        <dataInputRefs>block400_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block400_humanTokenInput</dataInputRefs>
        <dataInputRefs>block400_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block400_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block400_destinatariInput</dataInputRefs>
        <dataInputRefs>block400_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block400_urlDocerInput</dataInputRefs>
        <dataInputRefs>block400_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block400_mittenteInput</dataInputRefs>
        <dataInputRefs>block400_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block400_mittentiInput</dataInputRefs>
        <dataInputRefs>block400_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block400_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block400_invioInput</dataInputRefs>
        <dataInputRefs>block400_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block400_firmareInput</dataInputRefs>
        <dataInputRefs>block400_canalePECInput</dataInputRefs>
        <dataInputRefs>block400_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block400_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block400_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block400_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block400_messaggioInput</dataInputRefs>
        <dataInputRefs>block400_proto_autoInput</dataInputRefs>
        <dataInputRefs>block400_instanceNameInput</dataInputRefs>
        <dataInputRefs>block400_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block400_redazioneInput</dataInputRefs>
        <dataInputRefs>block400_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block400_conversioneInput</dataInputRefs>
        <dataInputRefs>block400_instanceIdInput</dataInputRefs>
        <dataInputRefs>block400_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block400_outcomeInput</dataInputRefs>
        <dataInputRefs>block400_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block400_systemTokenInput</dataInputRefs>
        <dataInputRefs>block400_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block400_creazioneInput</dataInputRefs>
        <dataInputRefs>block400_descrizioneInput</dataInputRefs>
        <dataInputRefs>block400___ckValueInput</dataInputRefs>
        <dataInputRefs>block400_firmatariInput</dataInputRefs>
        <dataInputRefs>block400_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block400_template_principaleInput</dataInputRefs>
        <dataInputRefs>block400_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block400_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block400_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block400_nameInput</dataInputRefs>
        <dataInputRefs>block400_descriptionInput</dataInputRefs>
        <dataInputRefs>block400_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block400_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block400_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block400_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block400_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:approvazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block400_approvazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block400_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block400_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block400_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block400_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Annullamento - "+descrizione;]]></sourceRef>
        <targetRef>block400_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block400_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block400_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block400_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block400_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block400_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block400_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block400_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazioneAnnullamento]]></sourceRef>
        <targetRef>block400_assegnazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block400_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: script -->
        <sourceRef><![CDATA["Conversione PDF documento annullamento pratica";]]></sourceRef>
        <targetRef>block400_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block400_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block400_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block400_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block400_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera dedicata Documento Conclusivo di annullamento procedimento";]]></sourceRef>
        <targetRef>block400_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block400_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[documentoConclusivoAnnullamento.DOCNUM;]]></sourceRef>
        <targetRef>block400_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block400_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block400_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Filiera Dedicata Istanza di Parte]]></from>
            <to xsi:type="tFormalExpression">block400_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block400_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block400_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block400_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block400_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block400_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block400_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block400_documento_principale_registratoOutput</sourceRef>
        <targetRef>documentoConclusivoAnnullamento</targetRef>
</dataOutputAssociation>
    
</callActivity>




<scriptTask id="block442" scriptFormat="http://www.mvel.org/2.0" name="Gestione documenti di esito finale - istruttoria semplice" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

coppia = new java.lang.Object();
foreach (coppia : Result.entrySet()){
	if(coppia.getKey().contains("PRINCIPALE")) {
		princ=new java.util.HashMap();
                princ.put("@structure","document");
		princ.put("filePath",coppia.getValue().get("filePath"));
		princ.put("TYPE_ID",coppia.getValue().get("TYPE_ID"));
		princ.put("TIPO_COMPONENTE","PRINCIPALE");
		doc_documentoFinale=princ;
		}
	if(coppia.getKey().contains("ALLEGATO")) {
		allegato=new java.util.HashMap();
                allegato.put("@structure","document");
		allegato.put("filePath",coppia.getValue().get("filePath"));
		allegato.put("TYPE_ID",coppia.getValue().get("TYPE_ID"));
		allegato.put("TIPO_COMPONENTE","ALLEGATO");
        allegati_documentoFinale.add(allegato);
		}
}

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("doc_documentoFinale",null);
kcontext.setVariable("doc_documentoFinale",doc_documentoFinale);
kcontext.setVariable("allegati_documentoFinale",null);
kcontext.setVariable("allegati_documentoFinale",allegati_documentoFinale);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160495" sourceRef="block320" targetRef="block149">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161467" sourceRef="block371" targetRef="block373">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block18" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160765" sourceRef="block71" targetRef="block364">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[invio_documenti=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161299" sourceRef="block9" targetRef="block464">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block301" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block301_AccountInput" name="account" />
        <dataInput id="block301_TempfolderInput" name="tempfolder" />
        <dataInput id="block301_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block301_UserTokenInput" name="userToken" />


        <dataInput id="block301_urlBrokerInput" name="urlBroker" />
        <dataInput id="block301_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block301_incaricatoInput" name="incaricato" />
        <dataInput id="block301_codaInput" name="coda" />
        <dataInput id="block301_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block301_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block301_messageInput" name="message" />
        <dataInput id="block301_idUserInput" name="idUser" />
        <dataInput id="block301_idProcessoInput" name="idProcesso" />
        <dataInput id="block301_userTokenInput" name="userToken" />
        <dataInput id="block301_esitoInput" name="esito" />
        <dataInput id="block301_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block301_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block301_pwdInput" name="pwd" />
        <dataInput id="block301_correlationKeyInput" name="correlationKey" />
        <dataInput id="block301_userInput" name="user" />

        <dataOutput id="block301_UserTokenOutput" name="userToken" />
        <dataOutput id="block301_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block301_AccountInput</dataInputRefs>
            <dataInputRefs>block301_TempfolderInput</dataInputRefs>
            <dataInputRefs>block301_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block301_UserTokenInput</dataInputRefs>
            <dataInputRefs>block301_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block301_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block301_incaricatoInput</dataInputRefs>
            <dataInputRefs>block301_codaInput</dataInputRefs>
            <dataInputRefs>block301_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block301_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block301_messageInput</dataInputRefs>
            <dataInputRefs>block301_idUserInput</dataInputRefs>
            <dataInputRefs>block301_idProcessoInput</dataInputRefs>
            <dataInputRefs>block301_userTokenInput</dataInputRefs>
            <dataInputRefs>block301_esitoInput</dataInputRefs>
            <dataInputRefs>block301_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block301_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block301_pwdInput</dataInputRefs>
            <dataInputRefs>block301_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block301_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block301_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block301_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block301_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block301_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block301_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block301_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocNonInvio</sourceRef>
                <targetRef>block301_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block301_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block301_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block301_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block301_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block301_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block301_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block301_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block301_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block301_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block301_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block301_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block301_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<scriptTask id="block456" scriptFormat="http://www.mvel.org/2.0" name="Set tipologie documentarie" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/


tipologie_documentarie.put("PRINCIPALE",new java.util.ArrayList(tipologiePrincipale));

tipologie_documentarie.put("ALLEGATO",new java.util.ArrayList(tipologieAllegato));
  
System.out.println("tipologie_documentarietipologie_documentarie--"+tipologie_documentarie);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("tipologie_documentarie",null);
kcontext.setVariable("tipologie_documentarie",tipologie_documentarie);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161293" sourceRef="block462" targetRef="block455">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161281" sourceRef="block448" targetRef="block461">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block270" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione uo di redazione, firma, registrazione" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

UO_RedazioneSmistamentoExt= UO_redazione;
UO_FirmaSmistamentoExt= UO_firma;
UO_RegistraSmistamentoExt= UO_registrazione;
UO_RedazioneComunicazioneAvvio= UO_redazione; 
UO_FirmaComunicazioneAvvio= UO_firma;
UO_RegistraComunicazioneAvvio= UO_registrazione;
UO_RedazioneMotiviOstativi= UO_redazione;
UO_FirmaMotiviOstativi= UO_firma;
UO_RegistraMotiviOstativi= UO_registrazione;
UO_RedazioneIrrecivibilita= UO_redazione;
UO_FirmaIrrecivibilita= UO_firma;
UO_RegistraIrrecivibilita= UO_registrazione;
UO_RedazioneRichiestaIntegrazioni= UO_redazione;
UO_FirmaRichiestaIntegrazioni= UO_firma;
UO_RegistraRichiestaIntegrazioni= UO_registrazione;
UO_RedazionePareriInterni= UO_redazione;
UO_FirmaPareriInterni= UO_firma;
UO_RegistraPareriInterni= UO_registrazione;
UO_ApprovazionePareriInterni= UO_registrazione;
UO_RedazionePareriEsterni= UO_redazione;
UO_FirmaPareriEsterni= UO_firma;
UO_RegistraPareriEsterni= UO_registrazione;
UO_InvioPareriEsterni= UO_registrazione;
UO_RedazioneProvvFinalePositivo= UO_redazione;
UO_FirmaProvvFinalePositivo= UO_firma;
UO_RegistraProvvFinalePositivo= UO_registrazione;
UO_RedazioneDocumentoFinale= UO_redazione;
UO_FirmaDocumentoFinale= UO_firma;
UO_RegistraDocumentoFinale= UO_registrazione;
UO_RedazioneProvvFinaleNegativo= UO_redazione;
UO_FirmaProvvFinaleNegativo= UO_firma;
UO_RegistraProvvFinaleNegativo= UO_registrazione;
UO_RedazioneComunicazioneDiniego= UO_redazione;
UO_FirmaComunicazioneDiniego= UO_firma;
UO_RegistraComunicazioneDiniego= UO_registrazione;


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("UO_RedazioneSmistamentoExt",null);
kcontext.setVariable("UO_RedazioneSmistamentoExt",UO_RedazioneSmistamentoExt);
kcontext.setVariable("UO_FirmaSmistamentoExt",null);
kcontext.setVariable("UO_FirmaSmistamentoExt",UO_FirmaSmistamentoExt);
kcontext.setVariable("UO_RegistraSmistamentoExt",null);
kcontext.setVariable("UO_RegistraSmistamentoExt",UO_RegistraSmistamentoExt);
kcontext.setVariable("UO_RedazioneComunicazioneAvvio",null);
kcontext.setVariable("UO_RedazioneComunicazioneAvvio",UO_RedazioneComunicazioneAvvio);
kcontext.setVariable("UO_FirmaComunicazioneAvvio",null);
kcontext.setVariable("UO_FirmaComunicazioneAvvio",UO_FirmaComunicazioneAvvio);
kcontext.setVariable("UO_RegistraComunicazioneAvvio",null);
kcontext.setVariable("UO_RegistraComunicazioneAvvio",UO_RegistraComunicazioneAvvio);
kcontext.setVariable("UO_RedazioneMotiviOstativi",null);
kcontext.setVariable("UO_RedazioneMotiviOstativi",UO_RedazioneMotiviOstativi);
kcontext.setVariable("UO_FirmaMotiviOstativi",null);
kcontext.setVariable("UO_FirmaMotiviOstativi",UO_FirmaMotiviOstativi);
kcontext.setVariable("UO_RegistraMotiviOstativi",null);
kcontext.setVariable("UO_RegistraMotiviOstativi",UO_RegistraMotiviOstativi);
kcontext.setVariable("UO_RedazioneIrrecivibilita",null);
kcontext.setVariable("UO_RedazioneIrrecivibilita",UO_RedazioneIrrecivibilita);
kcontext.setVariable("UO_FirmaIrrecivibilita",null);
kcontext.setVariable("UO_FirmaIrrecivibilita",UO_FirmaIrrecivibilita);
kcontext.setVariable("UO_RegistraIrrecivibilita",null);
kcontext.setVariable("UO_RegistraIrrecivibilita",UO_RegistraIrrecivibilita);
kcontext.setVariable("UO_RedazioneRichiestaIntegrazioni",null);
kcontext.setVariable("UO_RedazioneRichiestaIntegrazioni",UO_RedazioneRichiestaIntegrazioni);
kcontext.setVariable("UO_FirmaRichiestaIntegrazioni",null);
kcontext.setVariable("UO_FirmaRichiestaIntegrazioni",UO_FirmaRichiestaIntegrazioni);
kcontext.setVariable("UO_RegistraRichiestaIntegrazioni",null);
kcontext.setVariable("UO_RegistraRichiestaIntegrazioni",UO_RegistraRichiestaIntegrazioni);
kcontext.setVariable("UO_RedazionePareriInterni",null);
kcontext.setVariable("UO_RedazionePareriInterni",UO_RedazionePareriInterni);
kcontext.setVariable("UO_FirmaPareriInterni",null);
kcontext.setVariable("UO_FirmaPareriInterni",UO_FirmaPareriInterni);
kcontext.setVariable("UO_RegistraPareriInterni",null);
kcontext.setVariable("UO_RegistraPareriInterni",UO_RegistraPareriInterni);
kcontext.setVariable("UO_ApprovazionePareriInterni",null);
kcontext.setVariable("UO_ApprovazionePareriInterni",UO_ApprovazionePareriInterni);
kcontext.setVariable("UO_RedazionePareriEsterni",null);
kcontext.setVariable("UO_RedazionePareriEsterni",UO_RedazionePareriEsterni);
kcontext.setVariable("UO_FirmaPareriEsterni",null);
kcontext.setVariable("UO_FirmaPareriEsterni",UO_FirmaPareriEsterni);
kcontext.setVariable("UO_RegistraPareriEsterni",null);
kcontext.setVariable("UO_RegistraPareriEsterni",UO_RegistraPareriEsterni);
kcontext.setVariable("UO_InvioPareriEsterni",null);
kcontext.setVariable("UO_InvioPareriEsterni",UO_InvioPareriEsterni);
kcontext.setVariable("UO_RedazioneProvvFinalePositivo",null);
kcontext.setVariable("UO_RedazioneProvvFinalePositivo",UO_RedazioneProvvFinalePositivo);
kcontext.setVariable("UO_FirmaProvvFinalePositivo",null);
kcontext.setVariable("UO_FirmaProvvFinalePositivo",UO_FirmaProvvFinalePositivo);
kcontext.setVariable("UO_RegistraProvvFinalePositivo",null);
kcontext.setVariable("UO_RegistraProvvFinalePositivo",UO_RegistraProvvFinalePositivo);
kcontext.setVariable("UO_RedazioneDocumentoFinale",null);
kcontext.setVariable("UO_RedazioneDocumentoFinale",UO_RedazioneDocumentoFinale);
kcontext.setVariable("UO_FirmaDocumentoFinale",null);
kcontext.setVariable("UO_FirmaDocumentoFinale",UO_FirmaDocumentoFinale);
kcontext.setVariable("UO_RegistraDocumentoFinale",null);
kcontext.setVariable("UO_RegistraDocumentoFinale",UO_RegistraDocumentoFinale);
kcontext.setVariable("UO_RedazioneProvvFinaleNegativo",null);
kcontext.setVariable("UO_RedazioneProvvFinaleNegativo",UO_RedazioneProvvFinaleNegativo);
kcontext.setVariable("UO_FirmaProvvFinaleNegativo",null);
kcontext.setVariable("UO_FirmaProvvFinaleNegativo",UO_FirmaProvvFinaleNegativo);
kcontext.setVariable("UO_RegistraProvvFinaleNegativo",null);
kcontext.setVariable("UO_RegistraProvvFinaleNegativo",UO_RegistraProvvFinaleNegativo);
kcontext.setVariable("UO_RedazioneComunicazioneDiniego",null);
kcontext.setVariable("UO_RedazioneComunicazioneDiniego",UO_RedazioneComunicazioneDiniego);
kcontext.setVariable("UO_FirmaComunicazioneDiniego",null);
kcontext.setVariable("UO_FirmaComunicazioneDiniego",UO_FirmaComunicazioneDiniego);
kcontext.setVariable("UO_RegistraComunicazioneDiniego",null);
kcontext.setVariable("UO_RegistraComunicazioneDiniego",UO_RegistraComunicazioneDiniego);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block68" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>

<callActivity id="block319" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documento per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block319_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block319_descrizioneInput" name="descrizione" />
    <dataInput id="block319_instanceIdInput" name="instanceId" />
    <dataInput id="block319_instanceNameInput" name="instanceName" />
    <dataInput id="block319_systemTokenInput" name="systemToken" />
    <dataInput id="block319_principaleInput" name="principale" />
    <dataInput id="block319_canalePECInput" name="canalePEC" />
    <dataInput id="block319_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block319_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block319_outcomeInput" name="outcome" />
    <dataInput id="block319_humanTokenInput" name="humanToken" />
    <dataInput id="block319_nameInput" name="name" />
    <dataInput id="block319_descriptionInput" name="description" />
    <dataInput id="block319_processNameInput" name="processName" />
    <dataOutput id="block319_docIntSendOutput" name="docIntSend" />
    <dataOutput id="block319_annessiOutput" name="annessi" />
    <dataOutput id="block319_allegatiOutput" name="allegati" />

    <inputSet>
        <dataInputRefs>block319_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block319_descrizioneInput</dataInputRefs>
        <dataInputRefs>block319_instanceIdInput</dataInputRefs>
        <dataInputRefs>block319_instanceNameInput</dataInputRefs>
        <dataInputRefs>block319_systemTokenInput</dataInputRefs>
        <dataInputRefs>block319_principaleInput</dataInputRefs>
        <dataInputRefs>block319_canalePECInput</dataInputRefs>
        <dataInputRefs>block319_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block319_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block319_outcomeInput</dataInputRefs>
        <dataInputRefs>block319_humanTokenInput</dataInputRefs>
        <dataInputRefs>block319_nameInput</dataInputRefs>
        <dataInputRefs>block319_descriptionInput</dataInputRefs>
        <dataInputRefs>block319_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block319_docIntSendOutput</dataOutputRefs>
        <dataOutputRefs>block319_annessiOutput</dataOutputRefs>
        <dataOutputRefs>block319_allegatiOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block319_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block319_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per il portale";]]></sourceRef>
        <targetRef>block319_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block319_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block319_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block319_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_motiviOstativi]]></sourceRef>
        <targetRef>block319_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block319_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block319_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block319_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block319_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block319_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block319_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block319_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block319_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block319_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documento per portale]]></from>
            <to xsi:type="tFormalExpression">block319_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block319_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block319_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block319_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block319_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block319_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocMotiviOstativi</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block319_annessiOutput</sourceRef>
        <targetRef>annessiMotiviOstativi</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block319_allegatiOutput</sourceRef>
        <targetRef>allegatiMotiviOstativi</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160339" sourceRef="block255" targetRef="block257">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[richiesta_pareri!="no"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block401" scriptFormat="http://www.mvel.org/2.0" name="la ck per la richiesta di annullamento viene passata in questo modo [val1---val2---annullamento]: =>  concatenare alla al valore2 la stringa 'annullamento'  - in questo script e' possibile inserire la gestione variabiliTemplateAnnullamento" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
assegnazione=assegnazioneAnnullamento;
uo_assegnazione=figura_professionale_procedimento;

/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;

assegnazione.get(0).identity=uo_assegnazione;

System.out.println("Impostazione ck ramo annullamento");

//gestione variabili scadenza ricezioni annullamento

gc=java.util.GregorianCalendar.getInstance();
gc.add(java.util.GregorianCalendar.DAY_OF_MONTH, 720);
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat(formatoISO8601);
scadenzaRicezioneAnnullamento=fm2.format(gc.getTime());

// eventuale gestione variabili template richiesta annullamento

variabiliTemplateAnnullamento=new java.util.HashMap();

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazioneAnnullamento",null);
kcontext.setVariable("assegnazioneAnnullamento",assegnazione);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("scadenzaRicezioneAnnullamento",null);
kcontext.setVariable("scadenzaRicezioneAnnullamento",scadenzaRicezioneAnnullamento);
kcontext.setVariable("variabiliTemplateAnnullamento",null);
kcontext.setVariable("variabiliTemplateAnnullamento",variabiliTemplateAnnullamento);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161287" sourceRef="block446" targetRef="block462">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- **************************** INIZIO SUBPROCESS block498 ****************************** -->

<subProcess id="block498" isForCompensation="false" name="Richiesta Ricevuta Pagamento"  triggeredByEvent="false">

    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="_tmp1_" itemSubjectRef="tempType"/>
    <property id="_tmp0_" itemSubjectRef="tempType"/>
    <property id="_tmpc_" itemSubjectRef="collectionType"/>
    <property id="_tmp2_" itemSubjectRef="tempType"/>
    <property id="message_ricevutaPagamento" itemSubjectRef="textType"/>
    <property id="oggetto_notifica_ricevutaPagamento" itemSubjectRef="textType"/>
    <property id="data_scadenza_pagamenti" itemSubjectRef="datetimeType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("_tmpc_",null);
kcontext.setVariable("_tmpc_",[]);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>

<sequenceFlow id="con_2798" sourceRef="block498_block8" targetRef="block498_block16">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block498_block11" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity invio notifica ricevuta pagamento" calledElementByName="Invio messaggio senza allegati1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block498_block11_messaggioInput" name="messaggio" />
    <dataInput id="block498_block11_mittenteInput" name="mittente" />
    <dataInput id="block498_block11_instanceNameInput" name="instanceName" />
    <dataInput id="block498_block11_systemTokenInput" name="systemToken" />
    <dataInput id="block498_block11_oggettoInput" name="oggetto" />
    <dataInput id="block498_block11_humanTokenInput" name="humanToken" />
    <dataInput id="block498_block11_destinatarioInput" name="destinatario" />
    <dataInput id="block498_block11_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block498_block11_descrizioneInput" name="descrizione" />
    <dataInput id="block498_block11_instanceIdInput" name="instanceId" />
    <dataInput id="block498_block11___ckValueInput" name="__ckValue" />
    <dataInput id="block498_block11_canalePECInput" name="canalePEC" />
    <dataInput id="block498_block11_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block498_block11_outcomeInput" name="outcome" />
    <dataInput id="block498_block11_nameInput" name="name" />
    <dataInput id="block498_block11_descriptionInput" name="description" />
    <dataInput id="block498_block11_processNameInput" name="processName" />

    <inputSet>
        <dataInputRefs>block498_block11_messaggioInput</dataInputRefs>
        <dataInputRefs>block498_block11_mittenteInput</dataInputRefs>
        <dataInputRefs>block498_block11_instanceNameInput</dataInputRefs>
        <dataInputRefs>block498_block11_systemTokenInput</dataInputRefs>
        <dataInputRefs>block498_block11_oggettoInput</dataInputRefs>
        <dataInputRefs>block498_block11_humanTokenInput</dataInputRefs>
        <dataInputRefs>block498_block11_destinatarioInput</dataInputRefs>
        <dataInputRefs>block498_block11_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block498_block11_descrizioneInput</dataInputRefs>
        <dataInputRefs>block498_block11_instanceIdInput</dataInputRefs>
        <dataInputRefs>block498_block11___ckValueInput</dataInputRefs>
        <dataInputRefs>block498_block11_canalePECInput</dataInputRefs>
        <dataInputRefs>block498_block11_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block498_block11_outcomeInput</dataInputRefs>
        <dataInputRefs>block498_block11_nameInput</dataInputRefs>
        <dataInputRefs>block498_block11_descriptionInput</dataInputRefs>
        <dataInputRefs>block498_block11_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[message_ricevutaPagamento]]></sourceRef>
        <targetRef>block498_block11_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block498_block11_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block11_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block498_block11_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[oggetto_notifica_ricevutaPagamento]]></sourceRef>
        <targetRef>block498_block11_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block11_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatario var type: soggetto -->
        <sourceRef><![CDATA[destinatario_cittadino]]></sourceRef>
        <targetRef>block498_block11_destinatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block498_block11_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block498_block11_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Invio notifica richiesta integrazioni ricevuta pagamento";]]></sourceRef>
        <targetRef>block498_block11_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block11_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block11___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block498_block11_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block498_block11_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block498_block11_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block498_block11_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block11_outcomeInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block11_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity invio notifica ricevuta pagamento]]></from>
            <to xsi:type="tFormalExpression">block498_block11_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block11_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block498_block11_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block11_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Invio messaggio senza allegati1.0]]></from>
            <to xsi:type="tFormalExpression">block498_block11_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
    
</callActivity>




<task id="block498_block13" name="Commit" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block498_block13_TaskNameInput" name="TaskName" />
        <dataInput id="block498_block13_Operation" name="operation" />
        <inputSet>
            <dataInputRefs>block498_block13_TaskNameInput</dataInputRefs>
            <dataInputRefs>block498_block13_Operation</dataInputRefs>
        </inputSet>

        <outputSet>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
        <targetRef>block498_block13_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Commit</from>
            <to xsi:type="tFormalExpression">block498_block13_TaskNameInput</to>
        </assignment>
    </dataInputAssociation>
    <dataInputAssociation>
        <targetRef>block498_block13_Operation</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Dummy</from>
            <to xsi:type="tFormalExpression">block498_block13_Operation</to>
        </assignment>
    </dataInputAssociation>

</task>

<endEvent id="block498_block6" name="end (none)">

</endEvent>

<userTask id="block498_block16" name="HT-Generico_block498_block16" >


    <ioSpecification>

        <dataInput id="block498_block16_TaskNameInput" name="TaskName" />
        <dataInput id="block498_block16_GroupIdInput" name="GroupId" />
        <dataInput id="block498_block16_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block498_block16_message_ricevutaPagamentoInput" name="message_ricevutaPagamento" />
            <dataInput id="block498_block16_commentInput" name="comment" />
        
            <dataOutput id="block498_block16_reasonOutput" name="reason" />
            <dataOutput id="block498_block16_userTokenOutput" name="userToken" />
            <dataOutput id="block498_block16_message_ricevutaPagamentoOutput" name="message_ricevutaPagamento" />
            <dataOutput id="block498_block16_note_approvazioneOutput" name="note_approvazione" />
            <dataOutput id="block498_block16_approvazionePareriInterniOutput" name="approvazionePareriInterni" />
           

        <inputSet>
            <dataInputRefs>block498_block16_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block498_block16_TaskNameInput</dataInputRefs>
            <dataInputRefs>block498_block16_GroupIdInput</dataInputRefs>
                <dataInputRefs>block498_block16_message_ricevutaPagamentoInput</dataInputRefs>
                <dataInputRefs>block498_block16_commentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block498_block16_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block498_block16_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block498_block16_message_ricevutaPagamentoOutput</dataOutputRefs>
                <dataOutputRefs>block498_block16_note_approvazioneOutput</dataOutputRefs>
                <dataOutputRefs>block498_block16_approvazionePareriInterniOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>message_ricevutaPagamento</sourceRef>
                            <targetRef>block498_block16_message_ricevutaPagamentoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block498_block16_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block498_block16_commentInput</to>
                                </assignment>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block498_block16_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block498_block16_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Gestione testo di notifica per il Portale - ricevuta di pagamento servizio cosap"</from>
           <to xsi:type="tFormalExpression">block498_block16_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block498_block16_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block498_block16_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block498_block16_message_ricevutaPagamentoOutput</sourceRef>
                    <targetRef>message_ricevutaPagamento</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block498_block16_note_approvazioneOutput</sourceRef>
                    <targetRef>note_approvazione</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block498_block16_approvazionePareriInterniOutput</sourceRef>
                    <targetRef>approvazionePareriInterni</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<scriptTask id="block498_block15" scriptFormat="http://www.mvel.org/2.0" name="Gestione date scadenza pagamenti" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

int scadenzaPagamenti = java.lang.Integer.parseInt(tempo_attesa_pagamenti);
gc=java.util.GregorianCalendar.getInstance();

gc.add(java.util.GregorianCalendar.DAY_OF_MONTH, scadenzaPagamenti);
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat(formatoISO8601);
data_scadenza_pagamenti=fm2.format(gc.getTime());


/**************  end user script  ***************/

//[auto-insert]
//data_scadenza_pagamenti
kcontext.setVariable("data_scadenza_pagamenti",null);
kcontext.setVariable("data_scadenza_pagamenti",data_scadenza_pagamenti);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_2804" sourceRef="block498_block16" targetRef="block498_block11">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_2774" sourceRef="block498_block1" targetRef="block498_block14">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block498_block12" name="Commit" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block498_block12_TaskNameInput" name="TaskName" />
        <dataInput id="block498_block12_Operation" name="operation" />
        <inputSet>
            <dataInputRefs>block498_block12_TaskNameInput</dataInputRefs>
            <dataInputRefs>block498_block12_Operation</dataInputRefs>
        </inputSet>

        <outputSet>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
        <targetRef>block498_block12_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Commit</from>
            <to xsi:type="tFormalExpression">block498_block12_TaskNameInput</to>
        </assignment>
    </dataInputAssociation>
    <dataInputAssociation>
        <targetRef>block498_block12_Operation</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Dummy</from>
            <to xsi:type="tFormalExpression">block498_block12_Operation</to>
        </assignment>
    </dataInputAssociation>

</task>

<task id="block498_block14" name="Commit" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block498_block14_TaskNameInput" name="TaskName" />
        <dataInput id="block498_block14_Operation" name="operation" />
        <inputSet>
            <dataInputRefs>block498_block14_TaskNameInput</dataInputRefs>
            <dataInputRefs>block498_block14_Operation</dataInputRefs>
        </inputSet>

        <outputSet>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
        <targetRef>block498_block14_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Commit</from>
            <to xsi:type="tFormalExpression">block498_block14_TaskNameInput</to>
        </assignment>
    </dataInputAssociation>
    <dataInputAssociation>
        <targetRef>block498_block14_Operation</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">Dummy</from>
            <to xsi:type="tFormalExpression">block498_block14_Operation</to>
        </assignment>
    </dataInputAssociation>

</task>

<sequenceFlow id="con_2792" sourceRef="block498_block15" targetRef="block498_block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block498_block4" scriptFormat="http://www.mvel.org/2.0" name="Imposta ck e message ricevuta pagamento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;



/**************  end user script  ***************/

//[auto-insert]
//ck, ck1, ck2
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_2756" sourceRef="block498_block11" targetRef="block498_block12">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block498_block3" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block498_block3_AccountInput" name="account" />
        <dataInput id="block498_block3_TempfolderInput" name="tempfolder" />
        <dataInput id="block498_block3_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block498_block3_UserTokenInput" name="userToken" />


        <dataInput id="block498_block3_urlBrokerInput" name="urlBroker" />
        <dataInput id="block498_block3_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block498_block3_incaricatoInput" name="incaricato" />
        <dataInput id="block498_block3_codaInput" name="coda" />
        <dataInput id="block498_block3_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block498_block3_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block498_block3_messageInput" name="message" />
        <dataInput id="block498_block3_idUserInput" name="idUser" />
        <dataInput id="block498_block3_idProcessoInput" name="idProcesso" />
        <dataInput id="block498_block3_userTokenInput" name="userToken" />
        <dataInput id="block498_block3_esitoInput" name="esito" />
        <dataInput id="block498_block3_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block498_block3_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block498_block3_pwdInput" name="pwd" />
        <dataInput id="block498_block3_correlationKeyInput" name="correlationKey" />
        <dataInput id="block498_block3_userInput" name="user" />

        <dataOutput id="block498_block3_UserTokenOutput" name="userToken" />
        <dataOutput id="block498_block3_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block498_block3_AccountInput</dataInputRefs>
            <dataInputRefs>block498_block3_TempfolderInput</dataInputRefs>
            <dataInputRefs>block498_block3_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block498_block3_UserTokenInput</dataInputRefs>
            <dataInputRefs>block498_block3_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block498_block3_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block498_block3_incaricatoInput</dataInputRefs>
            <dataInputRefs>block498_block3_codaInput</dataInputRefs>
            <dataInputRefs>block498_block3_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block498_block3_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block498_block3_messageInput</dataInputRefs>
            <dataInputRefs>block498_block3_idUserInput</dataInputRefs>
            <dataInputRefs>block498_block3_idProcessoInput</dataInputRefs>
            <dataInputRefs>block498_block3_userTokenInput</dataInputRefs>
            <dataInputRefs>block498_block3_esitoInput</dataInputRefs>
            <dataInputRefs>block498_block3_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block498_block3_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block498_block3_pwdInput</dataInputRefs>
            <dataInputRefs>block498_block3_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block498_block3_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block498_block3_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block498_block3_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block498_block3_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block498_block3_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block498_block3_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block498_block3_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef></sourceRef>
                <targetRef>block498_block3_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"richiestaIntegrazione";</sourceRef>
                <targetRef>block498_block3_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>message_ricevutaPagamento</sourceRef>
                <targetRef>block498_block3_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block498_block3_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block498_block3_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>systemToken</sourceRef>
                <targetRef>block498_block3_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_finale</sourceRef>
                <targetRef>block498_block3_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block498_block3_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block498_block3_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block498_block3_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block498_block3_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block498_block3_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block498_block3_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_2786" sourceRef="block498_block13" targetRef="block498_block15">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block498_block8" scriptFormat="http://www.mvel.org/2.0" name="gestione notifica ricevuta pagamento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/


System.out.println("Invio notifica richiesta integrazioni ricevuta pagamento");
java.lang.String idIstanza = String.valueOf(instanceId);
destinatario_cittadino = destinatari.get(0);
System.out.println("i destinatari ricevuta pagamento sono: "+destinatario_cittadino.toString());

message_ricevutaPagamento  = "L'esito finale del procedimento  "+titoloProcedimento+"  con ID "+ idIstanza + " :  " + esito_finale;

message_ricevutaPagamento  = message_ricevutaPagamento  + "\n\nDovr pagare un'imposta di 10 euro e successivamente allegare la ricevuta di pagamento al procedimento sul portale";

oggetto_notifica_ricevutaPagamento="Invio notifica richiesta integrazioni ricevuta pagamento";


/**************  end user script  ***************/

//[auto-insert]
//destinatario_cittadino, message_ricevutaPagamento, titoloProcedimento, message_ricevutaPagamento, message_ricevutaPagamento, oggetto_notifica_ricevutaPagamento
kcontext.setVariable("destinatario_cittadino",null);
kcontext.setVariable("destinatario_cittadino",destinatario_cittadino);
kcontext.setVariable("message_ricevutaPagamento",null);
kcontext.setVariable("message_ricevutaPagamento",message_ricevutaPagamento);
kcontext.setVariable("titoloProcedimento",null);
kcontext.setVariable("titoloProcedimento",titoloProcedimento);
kcontext.setVariable("message_ricevutaPagamento",null);
kcontext.setVariable("message_ricevutaPagamento",message_ricevutaPagamento);
kcontext.setVariable("message_ricevutaPagamento",null);
kcontext.setVariable("message_ricevutaPagamento",message_ricevutaPagamento);
kcontext.setVariable("oggetto_notifica_ricevutaPagamento",null);
kcontext.setVariable("oggetto_notifica_ricevutaPagamento",oggetto_notifica_ricevutaPagamento);



//[auto-insert]
kcontext.setVariable("descrizioneFasc",null);
kcontext.setVariable("descrizioneFasc",descrizioneFasc);
kcontext.setVariable("destinatari_notifica_attivazione",null);
kcontext.setVariable("destinatari_notifica_attivazione",destinatari_notifica_attivazione);
kcontext.setVariable("messaggio_notifica_attivazione",null);
kcontext.setVariable("messaggio_notifica_attivazione",messaggio_notifica_attivazione);
kcontext.setVariable("oggetto_notifica_attivazione",null);
kcontext.setVariable("oggetto_notifica_attivazione",oggetto_notifica_attivazione);
kcontext.setVariable("messaggioNotificaConclusione",null);
kcontext.setVariable("messaggioNotificaConclusione",messaggioNotificaConclusione);
kcontext.setVariable("oggettoNotificaConclusione",null);
kcontext.setVariable("oggettoNotificaConclusione",oggettoNotificaConclusione);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_2744" sourceRef="block498_block5" targetRef="block498_block8">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_2750" sourceRef="block498_block4" targetRef="block498_block3">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_2780" sourceRef="block498_block14" targetRef="block498_block6">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- id:block498_block5 -->
<startEvent id="block498_block5" name="start (none)" isInterrupting="false" >
    <dataOutput id="block498_block5_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block498_block5_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block498_block5_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<sequenceFlow id="con_2762" sourceRef="block498_block12" targetRef="block498_block4">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_2768" sourceRef="block498_block3" targetRef="block498_block13">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block498_block1" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity gestione ricezione ricevuta pagamento" calledElementByName="GestioneRicezionePortale3.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block498_block1_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block498_block1_proto_autoInput" name="proto_auto" />
    <dataInput id="block498_block1_instanceNameInput" name="instanceName" />
    <dataInput id="block498_block1_ck1Input" name="ck1" />
    <dataInput id="block498_block1_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block498_block1_ck2Input" name="ck2" />
    <dataInput id="block498_block1_humanTokenInput" name="humanToken" />
    <dataInput id="block498_block1_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block498_block1_instanceIdInput" name="instanceId" />
    <dataInput id="block498_block1_porta_docerInput" name="porta_docer" />
    <dataInput id="block498_block1_soggetto_ricezioneInput" name="soggetto_ricezione" />
    <dataInput id="block498_block1_destinatariInput" name="destinatari" />
    <dataInput id="block498_block1_fascicolazione_protocolloInput" name="fascicolazione_protocollo" />
    <dataInput id="block498_block1_outcomeInput" name="outcome" />
    <dataInput id="block498_block1_mittenteInput" name="mittente" />
    <dataInput id="block498_block1_scadenzaInput" name="scadenza" />
    <dataInput id="block498_block1_systemTokenInput" name="systemToken" />
    <dataInput id="block498_block1_mittentiInput" name="mittenti" />
    <dataInput id="block498_block1_fasc_procInput" name="fasc_proc" />
    <dataInput id="block498_block1_canaleInput" name="canale" />
    <dataInput id="block498_block1_firmatarioInput" name="firmatario" />
    <dataInput id="block498_block1_descrizioneInput" name="descrizione" />
    <dataInput id="block498_block1_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block498_block1_canalePECInput" name="canalePEC" />
    <dataInput id="block498_block1_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block498_block1_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block498_block1_oggetto_protocollazione_pecInput" name="oggetto_protocollazione_pec" />
    <dataInput id="block498_block1_assegnazioneInput" name="assegnazione" />
    <dataInput id="block498_block1_nameInput" name="name" />
    <dataInput id="block498_block1_descriptionInput" name="description" />
    <dataInput id="block498_block1_processNameInput" name="processName" />
    <dataOutput id="block498_block1_principaleOutput" name="principale" />
    <dataOutput id="block498_block1_documentiRicevutiPortaleOutput" name="documentiRicevutiPortale" />
    <dataOutput id="block498_block1_esitoOutput" name="esito" />

    <inputSet>
        <dataInputRefs>block498_block1_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block498_block1_proto_autoInput</dataInputRefs>
        <dataInputRefs>block498_block1_instanceNameInput</dataInputRefs>
        <dataInputRefs>block498_block1_ck1Input</dataInputRefs>
        <dataInputRefs>block498_block1_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block498_block1_ck2Input</dataInputRefs>
        <dataInputRefs>block498_block1_humanTokenInput</dataInputRefs>
        <dataInputRefs>block498_block1_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block498_block1_instanceIdInput</dataInputRefs>
        <dataInputRefs>block498_block1_porta_docerInput</dataInputRefs>
        <dataInputRefs>block498_block1_soggetto_ricezioneInput</dataInputRefs>
        <dataInputRefs>block498_block1_destinatariInput</dataInputRefs>
        <dataInputRefs>block498_block1_fascicolazione_protocolloInput</dataInputRefs>
        <dataInputRefs>block498_block1_outcomeInput</dataInputRefs>
        <dataInputRefs>block498_block1_mittenteInput</dataInputRefs>
        <dataInputRefs>block498_block1_scadenzaInput</dataInputRefs>
        <dataInputRefs>block498_block1_systemTokenInput</dataInputRefs>
        <dataInputRefs>block498_block1_mittentiInput</dataInputRefs>
        <dataInputRefs>block498_block1_fasc_procInput</dataInputRefs>
        <dataInputRefs>block498_block1_canaleInput</dataInputRefs>
        <dataInputRefs>block498_block1_firmatarioInput</dataInputRefs>
        <dataInputRefs>block498_block1_descrizioneInput</dataInputRefs>
        <dataInputRefs>block498_block1_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block498_block1_canalePECInput</dataInputRefs>
        <dataInputRefs>block498_block1_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block498_block1_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block498_block1_oggetto_protocollazione_pecInput</dataInputRefs>
        <dataInputRefs>block498_block1_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block498_block1_nameInput</dataInputRefs>
        <dataInputRefs>block498_block1_descriptionInput</dataInputRefs>
        <dataInputRefs>block498_block1_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block498_block1_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block498_block1_documentiRicevutiPortaleOutput</dataOutputRefs>
        <dataOutputRefs>block498_block1_esitoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block498_block1_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block498_block1_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block1_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block498_block1_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block498_block1_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: textRef -->
        <sourceRef><![CDATA[ck2]]></sourceRef>
        <targetRef>block498_block1_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block1_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block498_block1_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block498_block1_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block1_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block498_block1_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:soggetto_ricezione var type: soggetto -->
        <sourceRef><![CDATA[destinatario_cittadino]]></sourceRef>
        <targetRef>block498_block1_soggetto_ricezioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block498_block1_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione_protocollo var type: script -->
        <sourceRef><![CDATA["si"]]></sourceRef>
        <targetRef>block498_block1_fascicolazione_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block498_block1_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block498_block1_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:scadenza var type: datetimeRef -->
        <sourceRef><![CDATA[data_scadenza_pagamenti]]></sourceRef>
        <targetRef>block498_block1_scadenzaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block498_block1_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block498_block1_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fasc_proc var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block498_block1_fasc_procInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canale var type: script -->
        <sourceRef><![CDATA["portale";]]></sourceRef>
        <targetRef>block498_block1_canaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatario var type: object -->
        <sourceRef><![CDATA[firmatario]]></sourceRef>
        <targetRef>block498_block1_firmatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Ricezione documentazione integrativa - ricevuta pagamento";]]></sourceRef>
        <targetRef>block498_block1_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block498_block1_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block498_block1_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block498_block1_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block498_block1_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block498_block1_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraRichiestaIntegrazioni]]></sourceRef>
        <targetRef>block498_block1_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollazione_pec var type: script -->
        <sourceRef><![CDATA["Integrazioni - ricevuta pagamento";]]></sourceRef>
        <targetRef>block498_block1_oggetto_protocollazione_pecInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block498_block1_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block1_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity gestione ricezione ricevuta pagamento]]></from>
            <to xsi:type="tFormalExpression">block498_block1_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block1_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block498_block1_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block498_block1_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[GestioneRicezionePortale3.0]]></from>
            <to xsi:type="tFormalExpression">block498_block1_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block498_block1_principaleOutput</sourceRef>
        <targetRef>doc_ricevutaPagamento</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block498_block1_documentiRicevutiPortaleOutput</sourceRef>
        <targetRef>documentiPortaleRicevutaPagamento</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block498_block1_esitoOutput</sourceRef>
        <targetRef>esito</targetRef>
</dataOutputAssociation>
    
</callActivity>





</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<sequenceFlow id="con_161035" sourceRef="block206" targetRef="block208">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="escludi" || esito=="nuova_richiesta"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160117" sourceRef="block64" targetRef="block68">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_finale=="negativo"]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block129" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160381" sourceRef="block261" targetRef="block263">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160471" sourceRef="block168" targetRef="block317">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161257" sourceRef="block0" targetRef="block459">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block230" scriptFormat="http://www.mvel.org/2.0" name="Script-task ripresa tempi di procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

interruzioneProcedimento="no";

gc=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm2 =new java.text.SimpleDateFormat("dd-MM-yyyy");

java.util.Date oggi = gc.getTime();
java.util.Date data_interruzione = fm2.parse(data_interruzioneProcedimento); 

java.lang.Long millisecondiFraDueDate = oggi.getTime() - data_interruzione.getTime();

java.lang.Float diff=millisecondiFraDueDate/86400000;
int giorniInterruzione= diff.intValue();

gc2=java.util.GregorianCalendar.getInstance();
gc2.setTime(fm2.parse(dataSilenzioAssenso));
gc2.add(java.util.GregorianCalendar.DAY_OF_MONTH, giorniInterruzione);

dataSilenzioAssenso=fm2.format(gc2.getTime());

System.out.println("la nuova data silenzioAssenso e': " +dataSilenzioAssenso);


if(data_invio_comunicazione_avvio!=""){
gc3=java.util.GregorianCalendar.getInstance();
gc3.setTime(fm2.parse(data_invio_comunicazione_avvio));
gc3.add(java.util.GregorianCalendar.DAY_OF_MONTH, giorniInterruzione);
data_invio_comunicazione_avvio=fm2.format(gc3.getTime());

System.out.println("la data invio_comunicazione  stata incrementata e': " +data_invio_comunicazione_avvio);
}

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("interruzioneProcedimento",null);
kcontext.setVariable("interruzioneProcedimento",interruzioneProcedimento);
kcontext.setVariable("dataSilenzioAssenso",null);
kcontext.setVariable("dataSilenzioAssenso",dataSilenzioAssenso);
kcontext.setVariable("data_invio_comunicazione_avvio",null);
kcontext.setVariable("data_invio_comunicazione_avvio",data_invio_comunicazione_avvio);

        ]]>
    </script>
</scriptTask>



<exclusiveGateway id="block502" name="Exclusive Split (XOR)" gatewayDirection="Diverging"></exclusiveGateway>

<sequenceFlow id="con_161551" sourceRef="block115" targetRef="block355">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block484" name="end (none)">

</endEvent>

<sequenceFlow id="con_161449" sourceRef="block488" targetRef="block402">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161137" sourceRef="block129" targetRef="block439">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161593" sourceRef="block283" targetRef="block435">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160483" sourceRef="block319" targetRef="block320">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160831" sourceRef="block396" targetRef="block397">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block257" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<scriptTask id="block462" scriptFormat="http://www.mvel.org/2.0" name="Gestione protocollazione esito finale per portale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

tmp=null;
foreach(tmp:oggettoDocumentoFinale){
tmp.put("numeroProtocollo",null);
tmp.put("annoProtocollo",null);
}

/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_161581" sourceRef="block432" targetRef="block281">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160411" sourceRef="block282" targetRef="block283">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160189" sourceRef="block177" targetRef="block67">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block429" scriptFormat="http://www.mvel.org/2.0" name="Gestione metadato esito verifica" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.HashMap doc = new java.util.HashMap();

doc.put("@structure","document");
doc.put("TIPO_COMPONENTE",documentoProtocollato.TIPO_COMPONENTE);
doc.put("DOCNAME",documentoProtocollato.DOCNAME);
doc.put("TYPE_ID",documentoProtocollato.TYPE_ID);
doc.put("DOCNUM",documentoProtocollato.DOCNUM);

doc.put("note_doc_prot",esito_verifica);

documentoProtocollato = doc;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("documentoProtocollato",null);
kcontext.setVariable("documentoProtocollato",documentoProtocollato);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160195" sourceRef="block129" targetRef="block178">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161311" sourceRef="block162" targetRef="block469">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161605" sourceRef="block436" targetRef="block138">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_fascicolare=="si"]]>
    </conditionExpression>
</sequenceFlow>

<exclusiveGateway id="block445" name="gateway-exclusive" gatewayDirection="Diverging"></exclusiveGateway>

<sequenceFlow id="con_161425" sourceRef="block486" targetRef="block198">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161455" sourceRef="block402" targetRef="block390">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160225" sourceRef="block190" targetRef="block189">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160519" sourceRef="block322" targetRef="block156">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block482" name="end (terminate)">

    <dataInput id="block482_Input" name="object" />

    <inputSet>
        <dataInputRefs>block482_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block482_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>

<sequenceFlow id="con_160159" sourceRef="block47" targetRef="block67">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica_osservazioni=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160933" sourceRef="block188" targetRef="block418">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161515" sourceRef="block461" targetRef="block494">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block485" name="end (terminate)">

    <dataInput id="block485_Input" name="object" />

    <inputSet>
        <dataInputRefs>block485_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block485_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>

<sequenceFlow id="con_160963" sourceRef="block421" targetRef="block357">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block193" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera provvedimento finale negativo" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block193_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block193_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block193_versioningInput" name="versioning" />
    <dataInput id="block193_messaggioInput" name="messaggio" />
    <dataInput id="block193_proto_autoInput" name="proto_auto" />
    <dataInput id="block193_instanceNameInput" name="instanceName" />
    <dataInput id="block193_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block193_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block193_oggettoInput" name="oggetto" />
    <dataInput id="block193_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block193_humanTokenInput" name="humanToken" />
    <dataInput id="block193_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block193_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block193_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block193_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block193_instanceIdInput" name="instanceId" />
    <dataInput id="block193_destinatariInput" name="destinatari" />
    <dataInput id="block193_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block193_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block193_urlDocerInput" name="urlDocer" />
    <dataInput id="block193_outcomeInput" name="outcome" />
    <dataInput id="block193_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block193_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block193_mittenteInput" name="mittente" />
    <dataInput id="block193_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block193_systemTokenInput" name="systemToken" />
    <dataInput id="block193_mittentiInput" name="mittenti" />
    <dataInput id="block193_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block193_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block193_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block193_invioInput" name="invio" />
    <dataInput id="block193_creazioneInput" name="creazione" />
    <dataInput id="block193_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block193_descrizioneInput" name="descrizione" />
    <dataInput id="block193___ckValueInput" name="__ckValue" />
    <dataInput id="block193_firmatariInput" name="firmatari" />
    <dataInput id="block193_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block193_template_principaleInput" name="template_principale" />
    <dataInput id="block193_canalePECInput" name="canalePEC" />
    <dataInput id="block193_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block193_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block193_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block193_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block193_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block193_assegnazioneInput" name="assegnazione" />
    <dataInput id="block193_nameInput" name="name" />
    <dataInput id="block193_descriptionInput" name="description" />
    <dataInput id="block193_processNameInput" name="processName" />
    <dataOutput id="block193_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block193_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block193_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block193_versioningInput</dataInputRefs>
        <dataInputRefs>block193_messaggioInput</dataInputRefs>
        <dataInputRefs>block193_proto_autoInput</dataInputRefs>
        <dataInputRefs>block193_instanceNameInput</dataInputRefs>
        <dataInputRefs>block193_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block193_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block193_oggettoInput</dataInputRefs>
        <dataInputRefs>block193_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block193_humanTokenInput</dataInputRefs>
        <dataInputRefs>block193_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block193_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block193_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block193_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block193_instanceIdInput</dataInputRefs>
        <dataInputRefs>block193_destinatariInput</dataInputRefs>
        <dataInputRefs>block193_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block193_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block193_urlDocerInput</dataInputRefs>
        <dataInputRefs>block193_outcomeInput</dataInputRefs>
        <dataInputRefs>block193_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block193_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block193_mittenteInput</dataInputRefs>
        <dataInputRefs>block193_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block193_systemTokenInput</dataInputRefs>
        <dataInputRefs>block193_mittentiInput</dataInputRefs>
        <dataInputRefs>block193_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block193_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block193_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block193_invioInput</dataInputRefs>
        <dataInputRefs>block193_creazioneInput</dataInputRefs>
        <dataInputRefs>block193_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block193_descrizioneInput</dataInputRefs>
        <dataInputRefs>block193___ckValueInput</dataInputRefs>
        <dataInputRefs>block193_firmatariInput</dataInputRefs>
        <dataInputRefs>block193_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block193_template_principaleInput</dataInputRefs>
        <dataInputRefs>block193_canalePECInput</dataInputRefs>
        <dataInputRefs>block193_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block193_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block193_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block193_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block193_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block193_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block193_nameInput</dataInputRefs>
        <dataInputRefs>block193_descriptionInput</dataInputRefs>
        <dataInputRefs>block193_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block193_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block193_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block193_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block193_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block193_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block193_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block193_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block193_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block193_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Provvedimento finale negativo";]]></sourceRef>
        <targetRef>block193_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block193_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione Uscita provvedimento finale negativo";]]></sourceRef>
        <targetRef>block193_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firma documento provvedimento finale negativo";]]></sourceRef>
        <targetRef>block193_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block193_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block193_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block193_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block193_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block193_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block193_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera provvedimento finale negativo";]]></sourceRef>
        <targetRef>block193_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block193_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block193_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block193_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block193_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block193_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraProvvFinaleNegativo]]></sourceRef>
        <targetRef>block193_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block193_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block193_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera provvedimento finale negativo]]></from>
            <to xsi:type="tFormalExpression">block193_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block193_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block193_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block193_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block193_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block193_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_provvFinaleNegativo</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160237" sourceRef="block192" targetRef="block191">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161155" sourceRef="block442" targetRef="block443">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block443" isForCompensation="false" independent="false" waitForCompletion="true" name="Creazione documenti di esito finale - istruttoria semplice" calledElementByName="Creazione UD1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block443_lista_correlatiInput" name="lista_correlati" />
    <dataInput id="block443_descrizioneInput" name="descrizione" />
    <dataInput id="block443_instanceIdInput" name="instanceId" />
    <dataInput id="block443_instanceNameInput" name="instanceName" />
    <dataInput id="block443_systemTokenInput" name="systemToken" />
    <dataInput id="block443_canalePECInput" name="canalePEC" />
    <dataInput id="block443_documentoInput" name="documento" />
    <dataInput id="block443_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block443_outcomeInput" name="outcome" />
    <dataInput id="block443_humanTokenInput" name="humanToken" />
    <dataInput id="block443_nameInput" name="name" />
    <dataInput id="block443_descriptionInput" name="description" />
    <dataInput id="block443_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block443_processNameInput" name="processName" />
    <dataOutput id="block443_documentoOutput" name="documento" />
    <dataOutput id="block443_lista_correlatiOutput" name="lista_correlati" />

    <inputSet>
        <dataInputRefs>block443_lista_correlatiInput</dataInputRefs>
        <dataInputRefs>block443_descrizioneInput</dataInputRefs>
        <dataInputRefs>block443_instanceIdInput</dataInputRefs>
        <dataInputRefs>block443_instanceNameInput</dataInputRefs>
        <dataInputRefs>block443_systemTokenInput</dataInputRefs>
        <dataInputRefs>block443_canalePECInput</dataInputRefs>
        <dataInputRefs>block443_documentoInput</dataInputRefs>
        <dataInputRefs>block443_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block443_outcomeInput</dataInputRefs>
        <dataInputRefs>block443_humanTokenInput</dataInputRefs>
        <dataInputRefs>block443_nameInput</dataInputRefs>
        <dataInputRefs>block443_descriptionInput</dataInputRefs>
        <dataInputRefs>block443_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block443_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block443_documentoOutput</dataOutputRefs>
        <dataOutputRefs>block443_lista_correlatiOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:lista_correlati var type: document -->
        <sourceRef><![CDATA[allegati_documentoFinale]]></sourceRef>
        <targetRef>block443_lista_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Creazione documenti di esito finale - istruttoria semplice";]]></sourceRef>
        <targetRef>block443_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block443_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block443_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block443_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block443_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block443_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:documento var type: document -->
        <sourceRef><![CDATA[doc_documentoFinale]]></sourceRef>
        <targetRef>block443_documentoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block443_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block443_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block443_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block443_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione documenti di esito finale - istruttoria semplice]]></from>
            <to xsi:type="tFormalExpression">block443_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block443_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block443_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block443_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block443_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block443_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Creazione UD1.0]]></from>
            <to xsi:type="tFormalExpression">block443_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block443_documentoOutput</sourceRef>
        <targetRef>doc_documentoFinale</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block443_lista_correlatiOutput</sourceRef>
        <targetRef>allegati_documentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160333" sourceRef="block33" targetRef="block255">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160771" sourceRef="block368" targetRef="block327">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160123" sourceRef="block69" targetRef="block71">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[provvedimento_finale=="no"]]>
    </conditionExpression>
</sequenceFlow>

<userTask id="block357" name="HT-Generico_block357" >


    <ioSpecification>

        <dataInput id="block357_TaskNameInput" name="TaskName" />
        <dataInput id="block357_GroupIdInput" name="GroupId" />
        <dataInput id="block357_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block357_listaFirmatariInput" name="listaFirmatari" />
            <dataInput id="block357_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block357_porta_docerInput" name="porta_docer" />
            <dataInput id="block357_incaricatoInput" name="incaricato" />
            <dataInput id="block357_UO_firmaInput" name="UO_firma" />
            <dataInput id="block357_commentInput" name="comment" />
            <dataInput id="block357_fasc_procInput" name="fasc_proc" />
            <dataInput id="block357_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block357_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block357_documentoProtocollatoInput" name="documentoProtocollato" />
        
            <dataOutput id="block357_reasonOutput" name="reason" />
            <dataOutput id="block357_userTokenOutput" name="userToken" />
            <dataOutput id="block357_incaricatoOutput" name="incaricato" />
            <dataOutput id="block357_UO_firmaOutput" name="UO_firma" />
           

        <inputSet>
            <dataInputRefs>block357_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block357_TaskNameInput</dataInputRefs>
            <dataInputRefs>block357_GroupIdInput</dataInputRefs>
                <dataInputRefs>block357_listaFirmatariInput</dataInputRefs>
                <dataInputRefs>block357_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block357_porta_docerInput</dataInputRefs>
                <dataInputRefs>block357_incaricatoInput</dataInputRefs>
                <dataInputRefs>block357_UO_firmaInput</dataInputRefs>
                <dataInputRefs>block357_commentInput</dataInputRefs>
                <dataInputRefs>block357_fasc_procInput</dataInputRefs>
                <dataInputRefs>block357_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block357_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block357_documentoProtocollatoInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block357_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block357_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block357_incaricatoOutput</dataOutputRefs>
                <dataOutputRefs>block357_UO_firmaOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>listaFirmatari</sourceRef>
                            <targetRef>block357_listaFirmatariInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block357_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block357_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>incaricato</sourceRef>
                            <targetRef>block357_incaricatoInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>UO_firma</sourceRef>
                            <targetRef>block357_UO_firmaInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block357_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block357_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc</sourceRef>
                            <targetRef>block357_fasc_procInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block357_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block357_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block357_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block357_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block357_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Gestione incaricato e gestione firmatari"</from>
           <to xsi:type="tFormalExpression">block357_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block357_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block357_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block357_incaricatoOutput</sourceRef>
                    <targetRef>incaricato</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block357_UO_firmaOutput</sourceRef>
                    <targetRef>UO_firma</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<inclusiveGateway id="block7" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<task id="block320" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block320_AccountInput" name="account" />
        <dataInput id="block320_TempfolderInput" name="tempfolder" />
        <dataInput id="block320_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block320_UserTokenInput" name="userToken" />


        <dataInput id="block320_urlBrokerInput" name="urlBroker" />
        <dataInput id="block320_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block320_incaricatoInput" name="incaricato" />
        <dataInput id="block320_codaInput" name="coda" />
        <dataInput id="block320_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block320_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block320_messageInput" name="message" />
        <dataInput id="block320_idUserInput" name="idUser" />
        <dataInput id="block320_idProcessoInput" name="idProcesso" />
        <dataInput id="block320_userTokenInput" name="userToken" />
        <dataInput id="block320_esitoInput" name="esito" />
        <dataInput id="block320_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block320_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block320_pwdInput" name="pwd" />
        <dataInput id="block320_correlationKeyInput" name="correlationKey" />
        <dataInput id="block320_userInput" name="user" />

        <dataOutput id="block320_UserTokenOutput" name="userToken" />
        <dataOutput id="block320_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block320_AccountInput</dataInputRefs>
            <dataInputRefs>block320_TempfolderInput</dataInputRefs>
            <dataInputRefs>block320_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block320_UserTokenInput</dataInputRefs>
            <dataInputRefs>block320_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block320_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block320_incaricatoInput</dataInputRefs>
            <dataInputRefs>block320_codaInput</dataInputRefs>
            <dataInputRefs>block320_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block320_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block320_messageInput</dataInputRefs>
            <dataInputRefs>block320_idUserInput</dataInputRefs>
            <dataInputRefs>block320_idProcessoInput</dataInputRefs>
            <dataInputRefs>block320_userTokenInput</dataInputRefs>
            <dataInputRefs>block320_esitoInput</dataInputRefs>
            <dataInputRefs>block320_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block320_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block320_pwdInput</dataInputRefs>
            <dataInputRefs>block320_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block320_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block320_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block320_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block320_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block320_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block320_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block320_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocMotiviOstativi</sourceRef>
                <targetRef>block320_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"richiestaIntegrazione";</sourceRef>
                <targetRef>block320_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>messagePortale</sourceRef>
                <targetRef>block320_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block320_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block320_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block320_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block320_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block320_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block320_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block320_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block320_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block320_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block320_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160465" sourceRef="block313" targetRef="block314">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161329" sourceRef="block1" targetRef="block220">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[silenzio_assenso=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160945" sourceRef="block419" targetRef="block184">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block423" name="callRestService" tns:taskName="callRestService-task" >
    <ioSpecification>

        <dataInput id="block423_description" name="description" />
        <dataInput id="block423_name" name="name" />


        <dataInput id="block423_userTokenInput" name="userToken" />
        <dataInput id="block423_urlInput" name="url" />

        <dataOutput id="block423_UserTokenOutput" name="userToken" />
        <dataOutput id="block423_responseArrayOutput" name="responseArray" />
        <dataOutput id="block423_responseObjectOutput" name="responseObject" />


        <inputSet>
            <dataInputRefs>block423_name</dataInputRefs>
            <dataInputRefs>block423_description</dataInputRefs>
            <dataInputRefs>block423_userTokenInput</dataInputRefs>
            <dataInputRefs>block423_urlInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block423_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block423_responseArrayOutput</dataOutputRefs>
            <dataOutputRefs>block423_responseObjectOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>systemToken</sourceRef>
                <targetRef>block423_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>rest+"Organigramma?uo="+UO_registrazione;</sourceRef>
                <targetRef>block423_urlInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block423_responseArrayOutput</sourceRef>
                <targetRef>responseArrayUO</targetRef>

    </dataOutputAssociation>
    <dataOutputAssociation>
                <sourceRef>block423_responseObjectOutput</sourceRef>
                <targetRef></targetRef>

    </dataOutputAssociation>


</task>
<sequenceFlow id="con_160297" sourceRef="block142" targetRef="block220">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block490" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione documento Silenzio Assenso" calledElementByName="AMD_RedazioneUD3.3" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=figura_professionale_procedimento;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
template_principale=documentoSilenzioAssenso;
creazione="template";
docnum_principale="";;
mittente=mittente_notifica;
variabili_template_principale=variabiliTemplateSilenzioAssenso;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;
tipo_template="html";
template_principale_html=template_silenzioAssensoHTML;

            documentoSilenzioAssenso.DOCNAME="Conclusione_Silenzio_assenso_"+".pdf";
            
//[auto-insert]
//documentoSilenzioAssenso
kcontext.setVariable("documentoSilenzioAssenso",null);
kcontext.setVariable("documentoSilenzioAssenso",documentoSilenzioAssenso);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block490_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block490_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block490_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block490_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block490_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block490_humanTokenInput" name="humanToken" />
    <dataInput id="block490_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block490_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block490_template_allegatiInput" name="template_allegati" />
    <dataInput id="block490_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block490_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block490_modificaInput" name="modifica" />
    <dataInput id="block490_lanesInput" name="lanes" />
    <dataInput id="block490_mittenteInput" name="mittente" />
    <dataInput id="block490_tipo_templateInput" name="tipo_template" />
    <dataInput id="block490_systemTokenInput" name="systemToken" />
    <dataInput id="block490_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block490_template_annessiInput" name="template_annessi" />
    <dataInput id="block490_creazioneInput" name="creazione" />
    <dataInput id="block490_descrizioneInput" name="descrizione" />
    <dataInput id="block490_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block490_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block490_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block490_template_principaleInput" name="template_principale" />
    <dataInput id="block490_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block490_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block490_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block490_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block490_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block490_userInput" name="user" />
    <dataInput id="block490_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block490_commitInput" name="commit" />
    <dataOutput id="block490_principaleOutput" name="principale" />
    <dataOutput id="block490_lanesOutput" name="lanes" />
    <dataOutput id="block490_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block490_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block490_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block490_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block490_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block490_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block490_humanTokenInput</dataInputRefs>
        <dataInputRefs>block490_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block490_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block490_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block490_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block490_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block490_modificaInput</dataInputRefs>
        <dataInputRefs>block490_lanesInput</dataInputRefs>
        <dataInputRefs>block490_mittenteInput</dataInputRefs>
        <dataInputRefs>block490_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block490_systemTokenInput</dataInputRefs>
        <dataInputRefs>block490_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block490_template_annessiInput</dataInputRefs>
        <dataInputRefs>block490_creazioneInput</dataInputRefs>
        <dataInputRefs>block490_descrizioneInput</dataInputRefs>
        <dataInputRefs>block490_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block490_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block490_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block490_template_principaleInput</dataInputRefs>
        <dataInputRefs>block490_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block490_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block490_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block490_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block490_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block490_userInput</dataInputRefs>
        <dataInputRefs>block490_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block490_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block490_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block490_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block490_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block490_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block490_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block490_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block490_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block490_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block490_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block490_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: script -->
        <sourceRef><![CDATA["html"]]></sourceRef>
        <targetRef>block490_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block490_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[template_silenzioAssensoHTML]]></sourceRef>
        <targetRef>block490_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["template"]]></sourceRef>
        <targetRef>block490_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block490_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[documentoSilenzioAssenso]]></sourceRef>
        <targetRef>block490_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block490_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block490_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[variabiliTemplateSilenzioAssenso]]></sourceRef>
        <targetRef>block490_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block490_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block490_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block490_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block490_principaleOutput</sourceRef>
        <targetRef>documentoSilenzioAssenso</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block490_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block490_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160591" sourceRef="block338" targetRef="block295">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160837" sourceRef="block400" targetRef="block393">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161437" sourceRef="block487" targetRef="block168">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block188" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity Ricezione multipla da piu' enti entro 20 giorni" calledElementByName="RicezioniMultiple2.1" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block188_assegnazione_baseInput" name="assegnazione_base" />
    <dataInput id="block188_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block188_oggetto_protocollazioneInput" name="oggetto_protocollazione" />
    <dataInput id="block188_data_attesa_ricezioniInput" name="data_attesa_ricezioni" />
    <dataInput id="block188_instanceNameInput" name="instanceName" />
    <dataInput id="block188_fascicoloInput" name="fascicolo" />
    <dataInput id="block188_canaleGenericoInput" name="canaleGenerico" />
    <dataInput id="block188_ck1Input" name="ck1" />
    <dataInput id="block188_indirizzo_docerInput" name="indirizzo_docer" />
    <dataInput id="block188_ck2Input" name="ck2" />
    <dataInput id="block188_humanTokenInput" name="humanToken" />
    <dataInput id="block188_mittenti_baseInput" name="mittenti_base" />
    <dataInput id="block188_instanceIdInput" name="instanceId" />
    <dataInput id="block188_porta_docerInput" name="porta_docer" />
    <dataInput id="block188_destinatariInput" name="destinatari" />
    <dataInput id="block188_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block188_urlDocerInput" name="urlDocer" />
    <dataInput id="block188_outcomeInput" name="outcome" />
    <dataInput id="block188_lista_mittenti_ricezioneInput" name="lista_mittenti_ricezione" />
    <dataInput id="block188_systemTokenInput" name="systemToken" />
    <dataInput id="block188_countDestinatariInput" name="countDestinatari" />
    <dataInput id="block188_canaleInput" name="canale" />
    <dataInput id="block188_descrizioneInput" name="descrizione" />
    <dataInput id="block188_firmatariInput" name="firmatari" />
    <dataInput id="block188_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block188_assegnazioneInput" name="assegnazione" />
    <dataInput id="block188_nameInput" name="name" />
    <dataInput id="block188_descriptionInput" name="description" />
    <dataInput id="block188_processNameInput" name="processName" />
    <dataOutput id="block188_systemTokenOutput" name="systemToken" />
    <dataOutput id="block188_listaDocRicevutiOutput" name="listaDocRicevuti" />

    <inputSet>
        <dataInputRefs>block188_assegnazione_baseInput</dataInputRefs>
        <dataInputRefs>block188_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block188_oggetto_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block188_data_attesa_ricezioniInput</dataInputRefs>
        <dataInputRefs>block188_instanceNameInput</dataInputRefs>
        <dataInputRefs>block188_fascicoloInput</dataInputRefs>
        <dataInputRefs>block188_canaleGenericoInput</dataInputRefs>
        <dataInputRefs>block188_ck1Input</dataInputRefs>
        <dataInputRefs>block188_indirizzo_docerInput</dataInputRefs>
        <dataInputRefs>block188_ck2Input</dataInputRefs>
        <dataInputRefs>block188_humanTokenInput</dataInputRefs>
        <dataInputRefs>block188_mittenti_baseInput</dataInputRefs>
        <dataInputRefs>block188_instanceIdInput</dataInputRefs>
        <dataInputRefs>block188_porta_docerInput</dataInputRefs>
        <dataInputRefs>block188_destinatariInput</dataInputRefs>
        <dataInputRefs>block188_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block188_urlDocerInput</dataInputRefs>
        <dataInputRefs>block188_outcomeInput</dataInputRefs>
        <dataInputRefs>block188_lista_mittenti_ricezioneInput</dataInputRefs>
        <dataInputRefs>block188_systemTokenInput</dataInputRefs>
        <dataInputRefs>block188_countDestinatariInput</dataInputRefs>
        <dataInputRefs>block188_canaleInput</dataInputRefs>
        <dataInputRefs>block188_descrizioneInput</dataInputRefs>
        <dataInputRefs>block188_firmatariInput</dataInputRefs>
        <dataInputRefs>block188_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block188_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block188_nameInput</dataInputRefs>
        <dataInputRefs>block188_descriptionInput</dataInputRefs>
        <dataInputRefs>block188_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block188_systemTokenOutput</dataOutputRefs>
        <dataOutputRefs>block188_listaDocRicevutiOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:assegnazione_base var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block188_assegnazione_baseInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block188_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollazione var type: script -->
        <sourceRef><![CDATA["Protocollazione entrata pareri esterni";]]></sourceRef>
        <targetRef>block188_oggetto_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:data_attesa_ricezioni var type: datetimeRef -->
        <sourceRef><![CDATA[dataRicezionePareriEsterni]]></sourceRef>
        <targetRef>block188_data_attesa_ricezioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block188_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block188_fascicoloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleGenerico var type: channel -->
        <targetRef>block188_canaleGenericoInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block188_canaleGenericoInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck1 var type: textRef -->
        <sourceRef><![CDATA[ck1]]></sourceRef>
        <targetRef>block188_ck1Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:indirizzo_docer var type: textRef -->
        <sourceRef><![CDATA[indirizzo_docer]]></sourceRef>
        <targetRef>block188_indirizzo_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:ck2 var type: textRef -->
        <sourceRef><![CDATA[ck2]]></sourceRef>
        <targetRef>block188_ck2Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block188_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti_base var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block188_mittenti_baseInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block188_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:porta_docer var type: textRef -->
        <sourceRef><![CDATA[porta_docer]]></sourceRef>
        <targetRef>block188_porta_docerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block188_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block188_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block188_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block188_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lista_mittenti_ricezione var type: soggetto -->
        <sourceRef><![CDATA[destinatari_pareri_esterni]]></sourceRef>
        <targetRef>block188_lista_mittenti_ricezioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block188_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:countDestinatari var type: script -->
        <sourceRef><![CDATA[destinatari_pareri_esterni.size();]]></sourceRef>
        <targetRef>block188_countDestinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canale var type: script -->
        <sourceRef><![CDATA["jms";]]></sourceRef>
        <targetRef>block188_canaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Ricezione pareri e allegati";]]></sourceRef>
        <targetRef>block188_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block188_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraPareriEsterni]]></sourceRef>
        <targetRef>block188_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione2]]></sourceRef>
        <targetRef>block188_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block188_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity Ricezione multipla da piu' enti entro 20 giorni]]></from>
            <to xsi:type="tFormalExpression">block188_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block188_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block188_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block188_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[RicezioniMultiple2.1]]></from>
            <to xsi:type="tFormalExpression">block188_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block188_systemTokenOutput</sourceRef>
        <targetRef>systemToken</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block188_listaDocRicevutiOutput</sourceRef>
        <targetRef>listaDocPareriRicevuti</targetRef>
</dataOutputAssociation>
    
</callActivity>




<scriptTask id="block387" scriptFormat="http://www.mvel.org/2.0" name="Script-task Gestione variabili template documento conclusione annullamento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

java.util.HashMap tplVar=new java.util.HashMap();

variabiliTemplateConclusivoAnn.put("note", noteAnnullamento);
variabiliTemplateConclusivoAnn.put("titoloprocedimento", titoloProcedimento);
variabiliTemplateConclusivoAnn.put("numeroprotocollo", documentoProtocollato.NUM_PG);
variabiliTemplateConclusivoAnn.put("annoprotocollo", documentoProtocollato.ANNO_PG);


/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("variabiliTemplateConclusivoAnn",null);
kcontext.setVariable("variabiliTemplateConclusivoAnn",variabiliTemplateConclusivoAnn);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block493" scriptFormat="http://www.mvel.org/2.0" name="AC_In lavorazione" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

if(esito_finale.equals("positivo")){
esito_portale="POSITIVE";
}
if(esito_finale.equals("negativo")){
esito_portale="NEGATIVE";
}

/**************  end user script  ***************/

//[auto-insert]
//esito_portale, esito_portale
kcontext.setVariable("esito_portale",null);
kcontext.setVariable("esito_portale",esito_portale);
kcontext.setVariable("esito_portale",null);
kcontext.setVariable("esito_portale",esito_portale);



        ]]>
    </script>
</scriptTask>




<callActivity id="block488" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione documento annullamento pratica" calledElementByName="AMD_RedazioneUD3.3" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=figura_professionale_procedimento;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
template_principale=documentoConclusivoAnnullamento;
creazione="template";
docnum_principale="";;
mittente=mittente_notifica;
variabili_template_principale=variabiliTemplateConclusivoAnn;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;
tipo_template="html";
template_principale_html=documentoConclusivoAnnullamento_html;

            documentoConclusivoAnnullamento.DOCNAME="Documento_Annullamento"+".pdf";
            
//[auto-insert]
//documentoConclusivoAnnullamento
kcontext.setVariable("documentoConclusivoAnnullamento",null);
kcontext.setVariable("documentoConclusivoAnnullamento",documentoConclusivoAnnullamento);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block488_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block488_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block488_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block488_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block488_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block488_humanTokenInput" name="humanToken" />
    <dataInput id="block488_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block488_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block488_template_allegatiInput" name="template_allegati" />
    <dataInput id="block488_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block488_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block488_modificaInput" name="modifica" />
    <dataInput id="block488_lanesInput" name="lanes" />
    <dataInput id="block488_mittenteInput" name="mittente" />
    <dataInput id="block488_tipo_templateInput" name="tipo_template" />
    <dataInput id="block488_systemTokenInput" name="systemToken" />
    <dataInput id="block488_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block488_template_annessiInput" name="template_annessi" />
    <dataInput id="block488_creazioneInput" name="creazione" />
    <dataInput id="block488_descrizioneInput" name="descrizione" />
    <dataInput id="block488_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block488_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block488_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block488_template_principaleInput" name="template_principale" />
    <dataInput id="block488_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block488_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block488_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block488_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block488_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block488_userInput" name="user" />
    <dataInput id="block488_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block488_commitInput" name="commit" />
    <dataOutput id="block488_principaleOutput" name="principale" />
    <dataOutput id="block488_lanesOutput" name="lanes" />
    <dataOutput id="block488_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block488_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block488_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block488_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block488_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block488_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block488_humanTokenInput</dataInputRefs>
        <dataInputRefs>block488_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block488_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block488_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block488_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block488_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block488_modificaInput</dataInputRefs>
        <dataInputRefs>block488_lanesInput</dataInputRefs>
        <dataInputRefs>block488_mittenteInput</dataInputRefs>
        <dataInputRefs>block488_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block488_systemTokenInput</dataInputRefs>
        <dataInputRefs>block488_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block488_template_annessiInput</dataInputRefs>
        <dataInputRefs>block488_creazioneInput</dataInputRefs>
        <dataInputRefs>block488_descrizioneInput</dataInputRefs>
        <dataInputRefs>block488_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block488_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block488_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block488_template_principaleInput</dataInputRefs>
        <dataInputRefs>block488_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block488_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block488_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block488_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block488_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block488_userInput</dataInputRefs>
        <dataInputRefs>block488_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block488_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block488_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block488_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block488_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block488_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block488_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block488_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block488_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block488_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block488_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block488_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: script -->
        <sourceRef><![CDATA["html"]]></sourceRef>
        <targetRef>block488_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block488_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[documentoConclusivoAnnullamento_html]]></sourceRef>
        <targetRef>block488_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["template"]]></sourceRef>
        <targetRef>block488_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block488_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[documentoConclusivoAnnullamento]]></sourceRef>
        <targetRef>block488_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block488_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block488_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[variabiliTemplateConclusivoAnn]]></sourceRef>
        <targetRef>block488_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block488_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block488_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block488_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block488_principaleOutput</sourceRef>
        <targetRef>documentoConclusivoAnnullamento</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block488_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block488_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block358" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160645" sourceRef="block178" targetRef="block348">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[notifica_tempi_conclusione=="si"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block451" scriptFormat="http://www.mvel.org/2.0" name="Set esito verifica per portale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

if(esito_verifica=="positivo"){
esito_portale="POSITIVE";
}else{
esito_portale="NEGATIVE";
}

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("esito_portale",null);
kcontext.setVariable("esito_portale",esito_portale);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block149" scriptFormat="http://www.mvel.org/2.0" name="Gestione date scadenza motivi ostativi e interruzione Procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

int scadenzaOstativi = Integer.parseInt(tempo_attesa_ostativi);
gc=java.util.GregorianCalendar.getInstance();

gc.add(java.util.GregorianCalendar.DAY_OF_MONTH, scadenzaOstativi);
java.text.SimpleDateFormat fm2 = new java.text.SimpleDateFormat(formatoISO8601);
data_scadenza_motiviOstativi=fm2.format(gc.getTime());
interruzioneProcedimento="si";

gc2=java.util.GregorianCalendar.getInstance();
java.text.SimpleDateFormat fm = new java.text.SimpleDateFormat("dd-MM-yyyy");
data_interruzioneProcedimento=fm.format(gc2.getTime());

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("data_scadenza_motiviOstativi",null);
kcontext.setVariable("data_scadenza_motiviOstativi",data_scadenza_motiviOstativi);
kcontext.setVariable("interruzioneProcedimento",null);
kcontext.setVariable("interruzioneProcedimento",interruzioneProcedimento);
kcontext.setVariable("data_interruzioneProcedimento",null);
kcontext.setVariable("data_interruzioneProcedimento",data_interruzioneProcedimento);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block458" scriptFormat="http://www.mvel.org/2.0" name="Gestione UD pratica e figura professionale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println("GESTIONE UD");
var doc = {};
var doc1 = {};
var doc2 = {};
ud.add(documentoProtocollato);
foreach(doc2:allegatiDocumentoProtocollato){ud.add(doc2);}
foreach(doc:annessiDocumentoProtocollato){ud.add(doc);}
foreach(doc1:annotazioniDocumentoProtocollato){ud.add(doc1);}
System.out.println("AAAAAAAAAAAAAAAA SCRIPT RECUPERO DATI");


System.out.println("Step successivo al controllo classifica");

//setto la figura professionale che si occupera' degli human task di verifica amministrativa 

Default.identity = figura_professionale_procedimento;

System.out.println("Step successivo al controllo figura_professionale");

System.out.println("figura_professionale_procedimento "+figura_professionale_procedimento);

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("Default",null);
kcontext.setVariable("Default",Default);
kcontext.setVariable("ud",null);
kcontext.setVariable("ud",ud);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block338" scriptFormat="http://www.mvel.org/2.0" name="Set conclusione" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160393" sourceRef="block269" targetRef="block270">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[UO_smistamento==""]]>
    </conditionExpression>
</sequenceFlow>

<!-- id:block0 -->
<startEvent id="block0" name="Start" isInterrupting="false" >
    <dataOutput id="block0_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block0_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block0_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<sequenceFlow id="con_160417" sourceRef="block167" targetRef="block307">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161251" sourceRef="block285" targetRef="block9">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161557" sourceRef="block464" targetRef="block425">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block368" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity filiera dedicata" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block368_versioningInput" name="versioning" />
    <dataInput id="block368_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block368_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block368_approvazioneInput" name="approvazione" />
    <dataInput id="block368_oggettoInput" name="oggetto" />
    <dataInput id="block368_registrareInput" name="registrare" />
    <dataInput id="block368_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block368_humanTokenInput" name="humanToken" />
    <dataInput id="block368_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block368_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block368_destinatariInput" name="destinatari" />
    <dataInput id="block368_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block368_urlDocerInput" name="urlDocer" />
    <dataInput id="block368_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block368_mittenteInput" name="mittente" />
    <dataInput id="block368_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block368_mittentiInput" name="mittenti" />
    <dataInput id="block368_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block368_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block368_invioInput" name="invio" />
    <dataInput id="block368_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block368_firmareInput" name="firmare" />
    <dataInput id="block368_canalePECInput" name="canalePEC" />
    <dataInput id="block368_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block368_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block368_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block368_messaggioInput" name="messaggio" />
    <dataInput id="block368_proto_autoInput" name="proto_auto" />
    <dataInput id="block368_instanceNameInput" name="instanceName" />
    <dataInput id="block368_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block368_redazioneInput" name="redazione" />
    <dataInput id="block368_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block368_conversioneInput" name="conversione" />
    <dataInput id="block368_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block368_instanceIdInput" name="instanceId" />
    <dataInput id="block368_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block368_modificaInput" name="modifica" />
    <dataInput id="block368_outcomeInput" name="outcome" />
    <dataInput id="block368_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block368_systemTokenInput" name="systemToken" />
    <dataInput id="block368_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block368_creazioneInput" name="creazione" />
    <dataInput id="block368_descrizioneInput" name="descrizione" />
    <dataInput id="block368___ckValueInput" name="__ckValue" />
    <dataInput id="block368_firmatariInput" name="firmatari" />
    <dataInput id="block368_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block368_template_principaleInput" name="template_principale" />
    <dataInput id="block368_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block368_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block368_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block368_nameInput" name="name" />
    <dataInput id="block368_descriptionInput" name="description" />
    <dataInput id="block368_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block368_processNameInput" name="processName" />
    <dataOutput id="block368_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block368_versioningInput</dataInputRefs>
        <dataInputRefs>block368_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block368_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block368_approvazioneInput</dataInputRefs>
        <dataInputRefs>block368_oggettoInput</dataInputRefs>
        <dataInputRefs>block368_registrareInput</dataInputRefs>
        <dataInputRefs>block368_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block368_humanTokenInput</dataInputRefs>
        <dataInputRefs>block368_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block368_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block368_destinatariInput</dataInputRefs>
        <dataInputRefs>block368_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block368_urlDocerInput</dataInputRefs>
        <dataInputRefs>block368_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block368_mittenteInput</dataInputRefs>
        <dataInputRefs>block368_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block368_mittentiInput</dataInputRefs>
        <dataInputRefs>block368_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block368_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block368_invioInput</dataInputRefs>
        <dataInputRefs>block368_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block368_firmareInput</dataInputRefs>
        <dataInputRefs>block368_canalePECInput</dataInputRefs>
        <dataInputRefs>block368_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block368_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block368_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block368_messaggioInput</dataInputRefs>
        <dataInputRefs>block368_proto_autoInput</dataInputRefs>
        <dataInputRefs>block368_instanceNameInput</dataInputRefs>
        <dataInputRefs>block368_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block368_redazioneInput</dataInputRefs>
        <dataInputRefs>block368_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block368_conversioneInput</dataInputRefs>
        <dataInputRefs>block368_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block368_instanceIdInput</dataInputRefs>
        <dataInputRefs>block368_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block368_modificaInput</dataInputRefs>
        <dataInputRefs>block368_outcomeInput</dataInputRefs>
        <dataInputRefs>block368_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block368_systemTokenInput</dataInputRefs>
        <dataInputRefs>block368_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block368_creazioneInput</dataInputRefs>
        <dataInputRefs>block368_descrizioneInput</dataInputRefs>
        <dataInputRefs>block368___ckValueInput</dataInputRefs>
        <dataInputRefs>block368_firmatariInput</dataInputRefs>
        <dataInputRefs>block368_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block368_template_principaleInput</dataInputRefs>
        <dataInputRefs>block368_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block368_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block368_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block368_nameInput</dataInputRefs>
        <dataInputRefs>block368_descriptionInput</dataInputRefs>
        <dataInputRefs>block368_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block368_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block368_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: script -->
        <sourceRef><![CDATA["NF";]]></sourceRef>
        <targetRef>block368_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block368_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:approvazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block368_approvazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[oggettoProtocolloDocNonInvio]]></sourceRef>
        <targetRef>block368_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrare var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block368_registrareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block368_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block368_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block368_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block368_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: textRef -->
        <sourceRef><![CDATA[oggettoProtocolloDocNonInvio]]></sourceRef>
        <targetRef>block368_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block368_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block368_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block368_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block368_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmare var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block368_firmareInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block368_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block368_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block368_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block368_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block368_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:redazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block368_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:conversione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block368_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block368_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block368_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block368_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block368_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block368_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Registrazione Automatica";]]></sourceRef>
        <targetRef>block368_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block368_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[docNonInvio.DOCNUM;]]></sourceRef>
        <targetRef>block368_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block368_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block368_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block368_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity filiera dedicata]]></from>
            <to xsi:type="tFormalExpression">block368_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block368_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[questa filiera viene utilizzata solamente per registrare in automatico il documento]]></from>
            <to xsi:type="tFormalExpression">block368_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block368_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block368_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block368_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block368_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block368_documento_principale_registratoOutput</sourceRef>
        <targetRef>docNonInvioProtocollato</targetRef>
</dataOutputAssociation>
    
</callActivity>




<inclusiveGateway id="block16" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160951" sourceRef="block356" targetRef="block420">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[gestioneIncaricato=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160795" sourceRef="block358" targetRef="block162">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160699" sourceRef="block230" targetRef="block337">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block295" name="end">

</endEvent>

<sequenceFlow id="con_160843" sourceRef="block385" targetRef="block401">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block461" scriptFormat="http://www.mvel.org/2.0" name="Set conclusione del procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/

//[auto-insert]
//procedimento_concluso
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160525" sourceRef="block109" targetRef="block303">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161065" sourceRef="block426" targetRef="block279">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161119" sourceRef="block138" targetRef="block437">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161497" sourceRef="block366" targetRef="block492">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160777" sourceRef="block375" targetRef="block352">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block167" isForCompensation="false" independent="false" waitForCompletion="true" name="Filiera comunicazione avvio procedimento" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block167_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block167_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block167_versioningInput" name="versioning" />
    <dataInput id="block167_messaggioInput" name="messaggio" />
    <dataInput id="block167_proto_autoInput" name="proto_auto" />
    <dataInput id="block167_instanceNameInput" name="instanceName" />
    <dataInput id="block167_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block167_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block167_oggettoInput" name="oggetto" />
    <dataInput id="block167_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block167_humanTokenInput" name="humanToken" />
    <dataInput id="block167_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block167_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block167_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block167_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block167_instanceIdInput" name="instanceId" />
    <dataInput id="block167_destinatariInput" name="destinatari" />
    <dataInput id="block167_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block167_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block167_urlDocerInput" name="urlDocer" />
    <dataInput id="block167_outcomeInput" name="outcome" />
    <dataInput id="block167_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block167_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block167_mittenteInput" name="mittente" />
    <dataInput id="block167_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block167_systemTokenInput" name="systemToken" />
    <dataInput id="block167_mittentiInput" name="mittenti" />
    <dataInput id="block167_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block167_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block167_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block167_creazioneInput" name="creazione" />
    <dataInput id="block167_invioInput" name="invio" />
    <dataInput id="block167_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block167_descrizioneInput" name="descrizione" />
    <dataInput id="block167___ckValueInput" name="__ckValue" />
    <dataInput id="block167_firmatariInput" name="firmatari" />
    <dataInput id="block167_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block167_template_principaleInput" name="template_principale" />
    <dataInput id="block167_canalePECInput" name="canalePEC" />
    <dataInput id="block167_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block167_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block167_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block167_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block167_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block167_assegnazioneInput" name="assegnazione" />
    <dataInput id="block167_nameInput" name="name" />
    <dataInput id="block167_descriptionInput" name="description" />
    <dataInput id="block167_processNameInput" name="processName" />
    <dataOutput id="block167_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block167_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block167_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block167_versioningInput</dataInputRefs>
        <dataInputRefs>block167_messaggioInput</dataInputRefs>
        <dataInputRefs>block167_proto_autoInput</dataInputRefs>
        <dataInputRefs>block167_instanceNameInput</dataInputRefs>
        <dataInputRefs>block167_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block167_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block167_oggettoInput</dataInputRefs>
        <dataInputRefs>block167_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block167_humanTokenInput</dataInputRefs>
        <dataInputRefs>block167_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block167_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block167_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block167_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block167_instanceIdInput</dataInputRefs>
        <dataInputRefs>block167_destinatariInput</dataInputRefs>
        <dataInputRefs>block167_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block167_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block167_urlDocerInput</dataInputRefs>
        <dataInputRefs>block167_outcomeInput</dataInputRefs>
        <dataInputRefs>block167_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block167_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block167_mittenteInput</dataInputRefs>
        <dataInputRefs>block167_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block167_systemTokenInput</dataInputRefs>
        <dataInputRefs>block167_mittentiInput</dataInputRefs>
        <dataInputRefs>block167_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block167_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block167_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block167_creazioneInput</dataInputRefs>
        <dataInputRefs>block167_invioInput</dataInputRefs>
        <dataInputRefs>block167_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block167_descrizioneInput</dataInputRefs>
        <dataInputRefs>block167___ckValueInput</dataInputRefs>
        <dataInputRefs>block167_firmatariInput</dataInputRefs>
        <dataInputRefs>block167_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block167_template_principaleInput</dataInputRefs>
        <dataInputRefs>block167_canalePECInput</dataInputRefs>
        <dataInputRefs>block167_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block167_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block167_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block167_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block167_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block167_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block167_nameInput</dataInputRefs>
        <dataInputRefs>block167_descriptionInput</dataInputRefs>
        <dataInputRefs>block167_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block167_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block167_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block167_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: script -->
        <sourceRef><![CDATA["Le informiamo che il procedimento e'  stato avviato";]]></sourceRef>
        <targetRef>block167_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block167_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block167_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: script -->
        <sourceRef><![CDATA["Comunicazione avvio procedimento";]]></sourceRef>
        <targetRef>block167_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block167_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block167_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block167_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block167_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Comunicazione avvio";]]></sourceRef>
        <targetRef>block167_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block167_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione uscita comunicazione avvio procedimento";]]></sourceRef>
        <targetRef>block167_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firmare il documento avvio procedimento";]]></sourceRef>
        <targetRef>block167_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block167_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block167_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block167_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block167_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block167_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block167_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block167_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block167_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Comunicazione avvio procedimento";]]></sourceRef>
        <targetRef>block167_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block167_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block167_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block167_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block167_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block167_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraComunicazioneAvvio]]></sourceRef>
        <targetRef>block167_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block167_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block167_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Filiera comunicazione avvio procedimento]]></from>
            <to xsi:type="tFormalExpression">block167_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block167_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block167_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block167_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block167_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block167_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_comunicazioneAvvio</targetRef>
</dataOutputAssociation>
    
</callActivity>





<callActivity id="block446" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti esito finale per il portale - istruttoria semplice" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block446_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block446_descrizioneInput" name="descrizione" />
    <dataInput id="block446_instanceIdInput" name="instanceId" />
    <dataInput id="block446_instanceNameInput" name="instanceName" />
    <dataInput id="block446_systemTokenInput" name="systemToken" />
    <dataInput id="block446_principaleInput" name="principale" />
    <dataInput id="block446_canalePECInput" name="canalePEC" />
    <dataInput id="block446_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block446_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block446_outcomeInput" name="outcome" />
    <dataInput id="block446_humanTokenInput" name="humanToken" />
    <dataInput id="block446_nameInput" name="name" />
    <dataInput id="block446_descriptionInput" name="description" />
    <dataInput id="block446_waitForCompletionInput" name="waitForCompletion" />
    <dataInput id="block446_processNameInput" name="processName" />
    <dataOutput id="block446_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block446_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block446_descrizioneInput</dataInputRefs>
        <dataInputRefs>block446_instanceIdInput</dataInputRefs>
        <dataInputRefs>block446_instanceNameInput</dataInputRefs>
        <dataInputRefs>block446_systemTokenInput</dataInputRefs>
        <dataInputRefs>block446_principaleInput</dataInputRefs>
        <dataInputRefs>block446_canalePECInput</dataInputRefs>
        <dataInputRefs>block446_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block446_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block446_outcomeInput</dataInputRefs>
        <dataInputRefs>block446_humanTokenInput</dataInputRefs>
        <dataInputRefs>block446_nameInput</dataInputRefs>
        <dataInputRefs>block446_descriptionInput</dataInputRefs>
        <dataInputRefs>block446_waitForCompletionInput</dataInputRefs>
        <dataInputRefs>block446_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block446_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block446_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block446_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti esito finale per il portale - istruttoria semplice";]]></sourceRef>
        <targetRef>block446_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block446_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block446_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block446_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_documentoFinale]]></sourceRef>
        <targetRef>block446_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block446_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block446_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block446_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block446_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block446_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block446_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block446_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block446_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block446_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti esito finale per il portale - istruttoria semplice]]></from>
            <to xsi:type="tFormalExpression">block446_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block446_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block446_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: bool -->
        <targetRef>block446_waitForCompletionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[true]]></from>
            <to xsi:type="tFormalExpression">block446_waitForCompletionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block446_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block446_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block446_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160537" sourceRef="block198" targetRef="block313">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160219" sourceRef="block183" targetRef="block182">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block308" name="applica template" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block308_TaskNameInput" name="TaskName" />
        <dataInput id="block308_GroupIdInput" name="GroupId" />
        <dataInput id="block308_Operation" name="operation" />

            <dataInput id="block308_userTokenInput" name="userToken" />
            <dataInput id="block308_variabiliInput" name="variabili" />
            <dataInput id="block308_documentInput" name="document" />
        
            <dataOutput id="block308_userTokenOutput" name="userToken" />
            <dataOutput id="block308_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block308_TaskNameInput</dataInputRefs>
            <dataInputRefs>block308_GroupIdInput</dataInputRefs>
            <dataInputRefs>block308_Operation</dataInputRefs>
                <dataInputRefs>block308_userTokenInput</dataInputRefs>
                <dataInputRefs>block308_variabiliInput</dataInputRefs>
                <dataInputRefs>block308_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block308_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block308_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block308_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>variabiliTemplateSmistamento</sourceRef>
                            <targetRef>block308_variabiliInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>templateConclusivoSmistamento</sourceRef>
                            <targetRef>block308_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block308_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block308_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block308_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">applica template</from>
           <to xsi:type="tFormalExpression">block308_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block308_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">ApplicaTemplate</from>
           <to xsi:type="tFormalExpression">block308_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block308_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block308_documentOutput</sourceRef>
                            <targetRef>doc_templateSmistamentoEsterno</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<sequenceFlow id="con_160507" sourceRef="block324" targetRef="block109">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block27" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>

<callActivity id="block327" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block327_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block327_descrizioneInput" name="descrizione" />
    <dataInput id="block327_instanceIdInput" name="instanceId" />
    <dataInput id="block327_instanceNameInput" name="instanceName" />
    <dataInput id="block327_systemTokenInput" name="systemToken" />
    <dataInput id="block327_principaleInput" name="principale" />
    <dataInput id="block327_canalePECInput" name="canalePEC" />
    <dataInput id="block327_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block327_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block327_outcomeInput" name="outcome" />
    <dataInput id="block327_humanTokenInput" name="humanToken" />
    <dataInput id="block327_nameInput" name="name" />
    <dataInput id="block327_descriptionInput" name="description" />
    <dataInput id="block327_processNameInput" name="processName" />
    <dataOutput id="block327_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block327_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block327_descrizioneInput</dataInputRefs>
        <dataInputRefs>block327_instanceIdInput</dataInputRefs>
        <dataInputRefs>block327_instanceNameInput</dataInputRefs>
        <dataInputRefs>block327_systemTokenInput</dataInputRefs>
        <dataInputRefs>block327_principaleInput</dataInputRefs>
        <dataInputRefs>block327_canalePECInput</dataInputRefs>
        <dataInputRefs>block327_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block327_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block327_outcomeInput</dataInputRefs>
        <dataInputRefs>block327_humanTokenInput</dataInputRefs>
        <dataInputRefs>block327_nameInput</dataInputRefs>
        <dataInputRefs>block327_descriptionInput</dataInputRefs>
        <dataInputRefs>block327_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block327_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block327_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block327_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per il portale";]]></sourceRef>
        <targetRef>block327_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block327_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block327_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block327_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[docNonInvioProtocollato]]></sourceRef>
        <targetRef>block327_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block327_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block327_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block327_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block327_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block327_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block327_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block327_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block327_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block327_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block327_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block327_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block327_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block327_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block327_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block327_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocNonInvio</targetRef>
</dataOutputAssociation>
    
</callActivity>




<scriptTask id="block366" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione tipo componente" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

docNonInvio.TIPO_COMPONENTE="PRINCIPALE";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("docNonInvio",null);
kcontext.setVariable("docNonInvio",docNonInvio);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block411" scriptFormat="http://www.mvel.org/2.0" name="Script-task gestione procedimento concluso" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160561" sourceRef="block332" targetRef="block156">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161323" sourceRef="block469" targetRef="block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[smistamento=="interno"]]>
    </conditionExpression>
</sequenceFlow>

<!-- **************************** INIZIO SUBPROCESS block265 ****************************** -->

<subProcess id="block265" isForCompensation="false" name="sub-process invio notifica attivazione procedimento "  triggeredByEvent="false">

    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="destinatario_locale" itemSubjectRef="objectType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("destinatario_locale",null);
kcontext.setVariable("destinatario_locale",{"@structure":"role","identity":"destinatario_locale","IndirizzoTelematico":"","id":"destinatario_locale","name":"destinatario_locale"});

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<ioSpecification>

    <dataInput id="block265_CollectionExpressionInput" name="CollectionExpression" />
    <dataOutput id="block265_OutputCollectionExpressionOutput" name="OutputCollectionExpression" />

    <inputSet>
        <dataInputRefs>block265_CollectionExpressionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block265_OutputCollectionExpressionOutput</dataOutputRefs>
    </outputSet>

</ioSpecification>

<dataInputAssociation>
    <sourceRef>destinatari_notifica_attivazione</sourceRef>
    <targetRef>block265_CollectionExpressionInput</targetRef>
</dataInputAssociation>

<dataOutputAssociation>
    <sourceRef>block265_OutputCollectionExpressionOutput</sourceRef>
    <targetRef>_foreachc_</targetRef>
</dataOutputAssociation>


<multiInstanceLoopCharacteristics >
    <loopDataInputRef>block265_CollectionExpressionInput</loopDataInputRef>
    <loopDataOutputRef>block265_OutputCollectionExpressionOutput</loopDataOutputRef>
    <inputDataItem id="destinatario_locale" itemSubjectRef="tempType"/>
    <outputDataItem id="_foreachi_" itemSubjectRef="tempType"/>
</multiInstanceLoopCharacteristics>


<callActivity id="block265_block1" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity invio notifica" calledElementByName="Invio messaggio senza allegati1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block265_block1_messaggioInput" name="messaggio" />
    <dataInput id="block265_block1_mittenteInput" name="mittente" />
    <dataInput id="block265_block1_instanceNameInput" name="instanceName" />
    <dataInput id="block265_block1_systemTokenInput" name="systemToken" />
    <dataInput id="block265_block1_oggettoInput" name="oggetto" />
    <dataInput id="block265_block1_humanTokenInput" name="humanToken" />
    <dataInput id="block265_block1_destinatarioInput" name="destinatario" />
    <dataInput id="block265_block1_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block265_block1_descrizioneInput" name="descrizione" />
    <dataInput id="block265_block1_instanceIdInput" name="instanceId" />
    <dataInput id="block265_block1___ckValueInput" name="__ckValue" />
    <dataInput id="block265_block1_canalePECInput" name="canalePEC" />
    <dataInput id="block265_block1_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block265_block1_outcomeInput" name="outcome" />
    <dataInput id="block265_block1_nameInput" name="name" />
    <dataInput id="block265_block1_descriptionInput" name="description" />
    <dataInput id="block265_block1_processNameInput" name="processName" />

    <inputSet>
        <dataInputRefs>block265_block1_messaggioInput</dataInputRefs>
        <dataInputRefs>block265_block1_mittenteInput</dataInputRefs>
        <dataInputRefs>block265_block1_instanceNameInput</dataInputRefs>
        <dataInputRefs>block265_block1_systemTokenInput</dataInputRefs>
        <dataInputRefs>block265_block1_oggettoInput</dataInputRefs>
        <dataInputRefs>block265_block1_humanTokenInput</dataInputRefs>
        <dataInputRefs>block265_block1_destinatarioInput</dataInputRefs>
        <dataInputRefs>block265_block1_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block265_block1_descrizioneInput</dataInputRefs>
        <dataInputRefs>block265_block1_instanceIdInput</dataInputRefs>
        <dataInputRefs>block265_block1___ckValueInput</dataInputRefs>
        <dataInputRefs>block265_block1_canalePECInput</dataInputRefs>
        <dataInputRefs>block265_block1_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block265_block1_outcomeInput</dataInputRefs>
        <dataInputRefs>block265_block1_nameInput</dataInputRefs>
        <dataInputRefs>block265_block1_descriptionInput</dataInputRefs>
        <dataInputRefs>block265_block1_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[messaggio_notifica_attivazione]]></sourceRef>
        <targetRef>block265_block1_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block265_block1_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block265_block1_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block265_block1_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[oggetto_notifica_attivazione]]></sourceRef>
        <targetRef>block265_block1_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block265_block1_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatario var type: soggetto -->
        <sourceRef><![CDATA[destinatario_locale]]></sourceRef>
        <targetRef>block265_block1_destinatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block265_block1_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block265_block1_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Invio notifica attivazione Istanza di parte";]]></sourceRef>
        <targetRef>block265_block1_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block265_block1_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block265_block1___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block265_block1_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block265_block1_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block265_block1_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block265_block1_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block265_block1_outcomeInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block265_block1_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity invio notifica]]></from>
            <to xsi:type="tFormalExpression">block265_block1_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block265_block1_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block265_block1_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block265_block1_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Invio messaggio senza allegati1.0]]></from>
            <to xsi:type="tFormalExpression">block265_block1_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
    
</callActivity>




<sequenceFlow id="con_16046" sourceRef="block265_block0" targetRef="block265_block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<!-- id:block265_block0 -->
<startEvent id="block265_block0" name="Start" isInterrupting="false" >
    <dataOutput id="block265_block0_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block265_block0_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block265_block0_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>

<sequenceFlow id="con_16052" sourceRef="block265_block1" targetRef="block265_block2">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block265_block2" name="end">

</endEvent>


</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<sequenceFlow id="con_160165" sourceRef="block156" targetRef="block109">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block169" scriptFormat="http://www.mvel.org/2.0" name="Generazione ck per invio e ricezione e set assengnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraMotiviOstativi;

/************** start user script ***************/

java.util.ArrayList tmp=new java.util.ArrayList();
tmp.add(fasc_proc.PROGR_FASCICOLO);
java.lang.String s = String.valueOf(instanceId);
tmp.add(s);
ck=tmp;
ck1=fasc_proc.PROGR_FASCICOLO;
ck2=s;


assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("ck1",null);
kcontext.setVariable("ck1",ck1);
kcontext.setVariable("ck2",null);
kcontext.setVariable("ck2",ck2);
kcontext.setVariable("ck",null);
kcontext.setVariable("ck",ck);
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<task id="block422" name="UpdateDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block422_TaskNameInput" name="TaskName" />
        <dataInput id="block422_GroupIdInput" name="GroupId" />
        <dataInput id="block422_Operation" name="operation" />

            <dataInput id="block422_userTokenInput" name="userToken" />
            <dataInput id="block422_mittenteInput" name="mittente" />
            <dataInput id="block422_documentInput" name="document" />
            <dataInput id="block422_destinatarioInput" name="destinatario" />
        
            <dataOutput id="block422_userTokenOutput" name="userToken" />
            <dataOutput id="block422_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block422_TaskNameInput</dataInputRefs>
            <dataInputRefs>block422_GroupIdInput</dataInputRefs>
            <dataInputRefs>block422_Operation</dataInputRefs>
                <dataInputRefs>block422_userTokenInput</dataInputRefs>
                <dataInputRefs>block422_mittenteInput</dataInputRefs>
                <dataInputRefs>block422_documentInput</dataInputRefs>
                <dataInputRefs>block422_destinatarioInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block422_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block422_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block422_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block422_mittenteInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interni</sourceRef>
                            <targetRef>block422_documentInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef></sourceRef>
                            <targetRef>block422_destinatarioInput</targetRef>
                            

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block422_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block422_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block422_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">UpdateDocument</from>
           <to xsi:type="tFormalExpression">block422_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block422_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">AggiornaDocumento</from>
           <to xsi:type="tFormalExpression">block422_Operation</to>
        </assignment>
      </dataInputAssociation>


            <dataOutputAssociation>
                            <sourceRef>block422_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block422_documentOutput</sourceRef>
                            <targetRef>doc_pareri_interni</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<sequenceFlow id="con_161179" sourceRef="block441" targetRef="block446">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block407" scriptFormat="http://www.mvel.org/2.0" name="Script-task eventuale gestione messaggio conclusivo per portale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/



/**************  end user script  ***************/



        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160639" sourceRef="block345" targetRef="block346">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[interruzioneProcedimento=="no"]]>
    </conditionExpression>
</sequenceFlow>

<!-- **************************** INIZIO SUBPROCESS block266 ****************************** -->

<subProcess id="block266" isForCompensation="false" name="sub-process invio notifica tempi conclusione del procedimento"  triggeredByEvent="false">

    <property id="contextKey" itemSubjectRef="textType"/>
    <property id="destinatario_locale" itemSubjectRef="objectType"/>
    <property id="humanToken" itemSubjectRef="userTokenType"/>

<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
            
            
//[auto-insert]
kcontext.setVariable("destinatario_locale",null);
kcontext.setVariable("destinatario_locale",{"@structure":"role","identity":"destinatario_locale","IndirizzoTelematico":"","id":"destinatario_locale","name":"destinatario_locale"});

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<ioSpecification>

    <dataInput id="block266_CollectionExpressionInput" name="CollectionExpression" />
    <dataOutput id="block266_OutputCollectionExpressionOutput" name="OutputCollectionExpression" />

    <inputSet>
        <dataInputRefs>block266_CollectionExpressionInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block266_OutputCollectionExpressionOutput</dataOutputRefs>
    </outputSet>

</ioSpecification>

<dataInputAssociation>
    <sourceRef>destinatari_notifica_tempiConclusione</sourceRef>
    <targetRef>block266_CollectionExpressionInput</targetRef>
</dataInputAssociation>

<dataOutputAssociation>
    <sourceRef>block266_OutputCollectionExpressionOutput</sourceRef>
    <targetRef>_foreachc_</targetRef>
</dataOutputAssociation>


<multiInstanceLoopCharacteristics >
    <loopDataInputRef>block266_CollectionExpressionInput</loopDataInputRef>
    <loopDataOutputRef>block266_OutputCollectionExpressionOutput</loopDataOutputRef>
    <inputDataItem id="destinatario_locale" itemSubjectRef="tempType"/>
    <outputDataItem id="_foreachi_" itemSubjectRef="tempType"/>
</multiInstanceLoopCharacteristics>

<sequenceFlow id="con_6301" sourceRef="block266_block2" targetRef="block266_block1">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_6295" sourceRef="block266_block0" targetRef="block266_block2">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block266_block2" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity invio notifica tempi di conclusione" calledElementByName="Invio messaggio senza allegati1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block266_block2_messaggioInput" name="messaggio" />
    <dataInput id="block266_block2_mittenteInput" name="mittente" />
    <dataInput id="block266_block2_instanceNameInput" name="instanceName" />
    <dataInput id="block266_block2_systemTokenInput" name="systemToken" />
    <dataInput id="block266_block2_oggettoInput" name="oggetto" />
    <dataInput id="block266_block2_humanTokenInput" name="humanToken" />
    <dataInput id="block266_block2_destinatarioInput" name="destinatario" />
    <dataInput id="block266_block2_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block266_block2_descrizioneInput" name="descrizione" />
    <dataInput id="block266_block2_instanceIdInput" name="instanceId" />
    <dataInput id="block266_block2___ckValueInput" name="__ckValue" />
    <dataInput id="block266_block2_canalePECInput" name="canalePEC" />
    <dataInput id="block266_block2_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block266_block2_outcomeInput" name="outcome" />
    <dataInput id="block266_block2_nameInput" name="name" />
    <dataInput id="block266_block2_descriptionInput" name="description" />
    <dataInput id="block266_block2_processNameInput" name="processName" />

    <inputSet>
        <dataInputRefs>block266_block2_messaggioInput</dataInputRefs>
        <dataInputRefs>block266_block2_mittenteInput</dataInputRefs>
        <dataInputRefs>block266_block2_instanceNameInput</dataInputRefs>
        <dataInputRefs>block266_block2_systemTokenInput</dataInputRefs>
        <dataInputRefs>block266_block2_oggettoInput</dataInputRefs>
        <dataInputRefs>block266_block2_humanTokenInput</dataInputRefs>
        <dataInputRefs>block266_block2_destinatarioInput</dataInputRefs>
        <dataInputRefs>block266_block2_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block266_block2_descrizioneInput</dataInputRefs>
        <dataInputRefs>block266_block2_instanceIdInput</dataInputRefs>
        <dataInputRefs>block266_block2___ckValueInput</dataInputRefs>
        <dataInputRefs>block266_block2_canalePECInput</dataInputRefs>
        <dataInputRefs>block266_block2_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block266_block2_outcomeInput</dataInputRefs>
        <dataInputRefs>block266_block2_nameInput</dataInputRefs>
        <dataInputRefs>block266_block2_descriptionInput</dataInputRefs>
        <dataInputRefs>block266_block2_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[messaggioNotificaConclusione]]></sourceRef>
        <targetRef>block266_block2_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block266_block2_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block266_block2_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block266_block2_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[oggettoNotificaConclusione]]></sourceRef>
        <targetRef>block266_block2_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block266_block2_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatario var type: soggetto -->
        <sourceRef><![CDATA[destinatario_locale]]></sourceRef>
        <targetRef>block266_block2_destinatarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block266_block2_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block266_block2_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Invio notifica conclusione tempi procedimento";]]></sourceRef>
        <targetRef>block266_block2_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block266_block2_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block266_block2___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block266_block2_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block266_block2_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block266_block2_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block266_block2_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block266_block2_outcomeInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block266_block2_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity invio notifica tempi di conclusione]]></from>
            <to xsi:type="tFormalExpression">block266_block2_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block266_block2_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block266_block2_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block266_block2_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Invio messaggio senza allegati1.0]]></from>
            <to xsi:type="tFormalExpression">block266_block2_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
    
</callActivity>




<endEvent id="block266_block1" name="end">

</endEvent>

<!-- id:block266_block0 -->
<startEvent id="block266_block0" name="Start" isInterrupting="false" >
    <dataOutput id="block266_block0_Output" name="object" />

    <outputSet>
        <dataOutputRefs>block266_block0_Output</dataOutputRefs>
    </outputSet>

    <dataOutputAssociation>
        <sourceRef>block266_block0_Output</sourceRef>
        <targetRef>_tmpevt_</targetRef>
    </dataOutputAssociation>

</startEvent>


</subProcess>
<!-- **************************** FINE SUBPROCESS ****************************** -->



<task id="block305" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block305_AccountInput" name="account" />
        <dataInput id="block305_TempfolderInput" name="tempfolder" />
        <dataInput id="block305_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block305_UserTokenInput" name="userToken" />


        <dataInput id="block305_urlBrokerInput" name="urlBroker" />
        <dataInput id="block305_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block305_incaricatoInput" name="incaricato" />
        <dataInput id="block305_codaInput" name="coda" />
        <dataInput id="block305_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block305_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block305_messageInput" name="message" />
        <dataInput id="block305_idUserInput" name="idUser" />
        <dataInput id="block305_idProcessoInput" name="idProcesso" />
        <dataInput id="block305_userTokenInput" name="userToken" />
        <dataInput id="block305_esitoInput" name="esito" />
        <dataInput id="block305_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block305_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block305_pwdInput" name="pwd" />
        <dataInput id="block305_correlationKeyInput" name="correlationKey" />
        <dataInput id="block305_userInput" name="user" />

        <dataOutput id="block305_UserTokenOutput" name="userToken" />
        <dataOutput id="block305_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block305_AccountInput</dataInputRefs>
            <dataInputRefs>block305_TempfolderInput</dataInputRefs>
            <dataInputRefs>block305_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block305_UserTokenInput</dataInputRefs>
            <dataInputRefs>block305_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block305_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block305_incaricatoInput</dataInputRefs>
            <dataInputRefs>block305_codaInput</dataInputRefs>
            <dataInputRefs>block305_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block305_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block305_messageInput</dataInputRefs>
            <dataInputRefs>block305_idUserInput</dataInputRefs>
            <dataInputRefs>block305_idProcessoInput</dataInputRefs>
            <dataInputRefs>block305_userTokenInput</dataInputRefs>
            <dataInputRefs>block305_esitoInput</dataInputRefs>
            <dataInputRefs>block305_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block305_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block305_pwdInput</dataInputRefs>
            <dataInputRefs>block305_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block305_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block305_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block305_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block305_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block305_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block305_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block305_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentiAvvio</sourceRef>
                <targetRef>block305_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"documentoGenerico";</sourceRef>
                <targetRef>block305_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Invio documento relativo all'avvio del procedimento";</sourceRef>
                <targetRef>block305_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block305_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block305_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block305_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block305_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block305_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block305_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block305_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block305_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block305_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block305_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160345" sourceRef="block257" targetRef="block261">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[richiesta_pareri=="enti_interni"]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block340" scriptFormat="http://www.mvel.org/2.0" name="set conclusione del procedimento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

procedimento_concluso="si";

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("procedimento_concluso",null);
kcontext.setVariable("procedimento_concluso",procedimento_concluso);

        ]]>
    </script>
</scriptTask>



<inclusiveGateway id="block269" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160669" sourceRef="block349" targetRef="block266">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[ esito_cicla_notifica=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160717" sourceRef="block212" targetRef="block309">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<userTask id="block135" name="HT-Generico_block135" >


    <ioSpecification>

        <dataInput id="block135_TaskNameInput" name="TaskName" />
        <dataInput id="block135_GroupIdInput" name="GroupId" />
        <dataInput id="block135_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block135_allegatiRichiestaIntegrazioniInput" name="allegatiRichiestaIntegrazioni" />
            <dataInput id="block135_annessiIntegrazioniRicevutoInput" name="annessiIntegrazioniRicevuto" />
            <dataInput id="block135_doc_pareri_interniProtocollatoInput" name="doc_pareri_interniProtocollato" />
            <dataInput id="block135_allegatiMotiviOstativiInput" name="allegatiMotiviOstativi" />
            <dataInput id="block135_doc_richiestaIntegrazioniRicevutoInput" name="doc_richiestaIntegrazioniRicevuto" />
            <dataInput id="block135_allegatiIntegrazioniRicevutoInput" name="allegatiIntegrazioniRicevuto" />
            <dataInput id="block135_listaPareriInterniRicevutiInput" name="listaPareriInterniRicevuti" />
            <dataInput id="block135_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block135_allegatiPareriInterniInput" name="allegatiPareriInterni" />
            <dataInput id="block135_doc_motiviOstativiRicevutoInput" name="doc_motiviOstativiRicevuto" />
            <dataInput id="block135_allegatiMotiviOstativiRicevutoInput" name="allegatiMotiviOstativiRicevuto" />
            <dataInput id="block135_annessiMotiviOstativiRicevutoInput" name="annessiMotiviOstativiRicevuto" />
            <dataInput id="block135_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block135_doc_motiviOstativiInput" name="doc_motiviOstativi" />
            <dataInput id="block135_porta_docerInput" name="porta_docer" />
            <dataInput id="block135_annessiMotiviOstativiInput" name="annessiMotiviOstativi" />
            <dataInput id="block135_allegatiDocumentoAvvioInput" name="allegatiDocumentoAvvio" />
            <dataInput id="block135_note_approvazioneInput" name="note_approvazione" />
            <dataInput id="block135_fasc_procInput" name="fasc_proc" />
            <dataInput id="block135_approvazionePareriInterniInput" name="approvazionePareriInterni" />
            <dataInput id="block135_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block135_annessiDocumentoAvvioInput" name="annessiDocumentoAvvio" />
            <dataInput id="block135_doc_richiestaIntegrazioniInput" name="doc_richiestaIntegrazioni" />
            <dataInput id="block135_comunicazione_avvioInput" name="comunicazione_avvio" />
            <dataInput id="block135_annessiPareriInterniInput" name="annessiPareriInterni" />
            <dataInput id="block135_commentInput" name="comment" />
            <dataInput id="block135_doc_comunicazioneAvvioInput" name="doc_comunicazioneAvvio" />
            <dataInput id="block135_annessiRichiestaIntegrazioniInput" name="annessiRichiestaIntegrazioni" />
            <dataInput id="block135_documentoProtocollatoInput" name="documentoProtocollato" />
        
            <dataOutput id="block135_reasonOutput" name="reason" />
            <dataOutput id="block135_userTokenOutput" name="userToken" />
            <dataOutput id="block135_note_approvazioneOutput" name="note_approvazione" />
            <dataOutput id="block135_approvazionePareriInterniOutput" name="approvazionePareriInterni" />
           

        <inputSet>
            <dataInputRefs>block135_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block135_TaskNameInput</dataInputRefs>
            <dataInputRefs>block135_GroupIdInput</dataInputRefs>
                <dataInputRefs>block135_allegatiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block135_annessiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_doc_pareri_interniProtocollatoInput</dataInputRefs>
                <dataInputRefs>block135_allegatiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block135_doc_richiestaIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_allegatiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_listaPareriInterniRicevutiInput</dataInputRefs>
                <dataInputRefs>block135_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block135_allegatiPareriInterniInput</dataInputRefs>
                <dataInputRefs>block135_doc_motiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_allegatiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_annessiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block135_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block135_doc_motiviOstativiInput</dataInputRefs>
                <dataInputRefs>block135_porta_docerInput</dataInputRefs>
                <dataInputRefs>block135_annessiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block135_allegatiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block135_note_approvazioneInput</dataInputRefs>
                <dataInputRefs>block135_fasc_procInput</dataInputRefs>
                <dataInputRefs>block135_approvazionePareriInterniInput</dataInputRefs>
                <dataInputRefs>block135_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block135_annessiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block135_doc_richiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block135_comunicazione_avvioInput</dataInputRefs>
                <dataInputRefs>block135_annessiPareriInterniInput</dataInputRefs>
                <dataInputRefs>block135_commentInput</dataInputRefs>
                <dataInputRefs>block135_doc_comunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block135_annessiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block135_documentoProtocollatoInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block135_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block135_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block135_note_approvazioneOutput</dataOutputRefs>
                <dataOutputRefs>block135_approvazionePareriInterniOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>allegatiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block135_allegatiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block135_annessiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interniProtocollato</sourceRef>
                            <targetRef>block135_doc_pareri_interniProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativi</sourceRef>
                            <targetRef>block135_allegatiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioniRicevuto</sourceRef>
                            <targetRef>block135_doc_richiestaIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block135_allegatiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>listaPareriInterniRicevuti</sourceRef>
                            <targetRef>block135_listaPareriInterniRicevutiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block135_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiPareriInterni</sourceRef>
                            <targetRef>block135_allegatiPareriInterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativiRicevuto</sourceRef>
                            <targetRef>block135_doc_motiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block135_allegatiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block135_annessiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block135_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativi</sourceRef>
                            <targetRef>block135_doc_motiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block135_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativi</sourceRef>
                            <targetRef>block135_annessiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoAvvio</sourceRef>
                            <targetRef>block135_allegatiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>note_approvazione</sourceRef>
                            <targetRef>block135_note_approvazioneInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc</sourceRef>
                            <targetRef>block135_fasc_procInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>approvazionePareriInterni</sourceRef>
                            <targetRef>block135_approvazionePareriInterniInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block135_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block135_annessiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioni</sourceRef>
                            <targetRef>block135_doc_richiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>comunicazione_avvio</sourceRef>
                            <targetRef>block135_comunicazione_avvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiPareriInterni</sourceRef>
                            <targetRef>block135_annessiPareriInterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block135_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block135_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_comunicazioneAvvio</sourceRef>
                            <targetRef>block135_doc_comunicazioneAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block135_annessiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block135_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block135_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block135_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"HT Approvazione documento pareri interni con nota da inserire nel template"</from>
           <to xsi:type="tFormalExpression">block135_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block135_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block135_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block135_note_approvazioneOutput</sourceRef>
                    <targetRef>note_approvazione</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block135_approvazionePareriInterniOutput</sourceRef>
                    <targetRef>approvazionePareriInterni</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<sequenceFlow id="con_161209" sourceRef="block439" targetRef="block456">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[istruttoria_semplice=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161623" sourceRef="block61" targetRef="block493">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block397" scriptFormat="http://www.mvel.org/2.0" name="Script-task copia metadati documento richiesta annullamento" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

System.out.println("copia documento annullamento:"+documentoAnnullamento.toString());

docCopy.put("filePath", pathDocAnnullamento);
docCopy.put("TYPE_ID",documentoAnnullamento.TYPE_ID);
docCopy.put("TIPO_COMPONENTE","ALLEGATO");
docCopy.put("ABSTRACT",documentoAnnullamento.ABSTRACT);
docCopy.put("DOCNAME",documentoAnnullamento.DOCNAME);

docCopy.put("FIRMATARIO",documentoAnnullamento.FIRMATARIO);
docCopy.put("TIPO_FIRMA",documentoAnnullamento.TIPO_FIRMA);



/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("docCopy",null);
kcontext.setVariable("docCopy",docCopy);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160531" sourceRef="block327" targetRef="block301">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161443" sourceRef="block387" targetRef="block488">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block355" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160657" sourceRef="block347" targetRef="block348">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block425" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160615" sourceRef="block341" targetRef="block248">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block283" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block283_AccountInput" name="account" />
        <dataInput id="block283_TempfolderInput" name="tempfolder" />
        <dataInput id="block283_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block283_UserTokenInput" name="userToken" />


        <dataInput id="block283_urlBrokerInput" name="urlBroker" />
        <dataInput id="block283_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block283_incaricatoInput" name="incaricato" />
        <dataInput id="block283_codaInput" name="coda" />
        <dataInput id="block283_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block283_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block283_messageInput" name="message" />
        <dataInput id="block283_idUserInput" name="idUser" />
        <dataInput id="block283_idProcessoInput" name="idProcesso" />
        <dataInput id="block283_userTokenInput" name="userToken" />
        <dataInput id="block283_esitoInput" name="esito" />
        <dataInput id="block283_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block283_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block283_pwdInput" name="pwd" />
        <dataInput id="block283_correlationKeyInput" name="correlationKey" />
        <dataInput id="block283_userInput" name="user" />

        <dataOutput id="block283_UserTokenOutput" name="userToken" />
        <dataOutput id="block283_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block283_AccountInput</dataInputRefs>
            <dataInputRefs>block283_TempfolderInput</dataInputRefs>
            <dataInputRefs>block283_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block283_UserTokenInput</dataInputRefs>
            <dataInputRefs>block283_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block283_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block283_incaricatoInput</dataInputRefs>
            <dataInputRefs>block283_codaInput</dataInputRefs>
            <dataInputRefs>block283_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block283_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block283_messageInput</dataInputRefs>
            <dataInputRefs>block283_idUserInput</dataInputRefs>
            <dataInputRefs>block283_idProcessoInput</dataInputRefs>
            <dataInputRefs>block283_userTokenInput</dataInputRefs>
            <dataInputRefs>block283_esitoInput</dataInputRefs>
            <dataInputRefs>block283_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block283_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block283_pwdInput</dataInputRefs>
            <dataInputRefs>block283_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block283_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block283_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block283_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block283_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block283_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block283_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block283_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>documenti</sourceRef>
                <targetRef>block283_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"notifica";</sourceRef>
                <targetRef>block283_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Notifica avvenuta protocollazione entrata pratica";</sourceRef>
                <targetRef>block283_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block283_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block283_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block283_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>esito_portale</sourceRef>
                <targetRef>block283_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block283_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block283_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block283_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block283_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block283_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block283_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<scriptTask id="block402" scriptFormat="http://www.mvel.org/2.0" name="Script-task impostazione  tipo firma" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

documentoConclusivoAnnullamento.put("TIPO_FIRMA", "NF");

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("documentoConclusivoAnnullamento",null);
kcontext.setVariable("documentoConclusivoAnnullamento",documentoConclusivoAnnullamento);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160135" sourceRef="block68" targetRef="block90">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161227" sourceRef="block281" targetRef="block458">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161419" sourceRef="block17" targetRef="block486">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_verifica=="negativoIntegrazioni"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160255" sourceRef="block90" targetRef="block194">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[provvedimento_finale=="si"]]>
    </conditionExpression>
</sequenceFlow>

<exclusiveGateway id="block434" name="gateway-exclusive" gatewayDirection="Diverging"></exclusiveGateway>


<callActivity id="block307" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per il portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block307_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block307_descrizioneInput" name="descrizione" />
    <dataInput id="block307_instanceIdInput" name="instanceId" />
    <dataInput id="block307_instanceNameInput" name="instanceName" />
    <dataInput id="block307_systemTokenInput" name="systemToken" />
    <dataInput id="block307_principaleInput" name="principale" />
    <dataInput id="block307_canalePECInput" name="canalePEC" />
    <dataInput id="block307_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block307_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block307_outcomeInput" name="outcome" />
    <dataInput id="block307_humanTokenInput" name="humanToken" />
    <dataInput id="block307_nameInput" name="name" />
    <dataInput id="block307_descriptionInput" name="description" />
    <dataInput id="block307_processNameInput" name="processName" />
    <dataOutput id="block307_docIntSendOutput" name="docIntSend" />
    <dataOutput id="block307_annessiOutput" name="annessi" />
    <dataOutput id="block307_allegatiOutput" name="allegati" />

    <inputSet>
        <dataInputRefs>block307_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block307_descrizioneInput</dataInputRefs>
        <dataInputRefs>block307_instanceIdInput</dataInputRefs>
        <dataInputRefs>block307_instanceNameInput</dataInputRefs>
        <dataInputRefs>block307_systemTokenInput</dataInputRefs>
        <dataInputRefs>block307_principaleInput</dataInputRefs>
        <dataInputRefs>block307_canalePECInput</dataInputRefs>
        <dataInputRefs>block307_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block307_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block307_outcomeInput</dataInputRefs>
        <dataInputRefs>block307_humanTokenInput</dataInputRefs>
        <dataInputRefs>block307_nameInput</dataInputRefs>
        <dataInputRefs>block307_descriptionInput</dataInputRefs>
        <dataInputRefs>block307_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block307_docIntSendOutput</dataOutputRefs>
        <dataOutputRefs>block307_annessiOutput</dataOutputRefs>
        <dataOutputRefs>block307_allegatiOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block307_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block307_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documenti per il portale";]]></sourceRef>
        <targetRef>block307_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block307_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block307_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block307_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[doc_comunicazioneAvvio]]></sourceRef>
        <targetRef>block307_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block307_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block307_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block307_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block307_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block307_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block307_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block307_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block307_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block307_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per il portale]]></from>
            <to xsi:type="tFormalExpression">block307_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block307_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block307_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block307_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block307_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block307_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentiAvvio</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block307_annessiOutput</sourceRef>
        <targetRef>annessiDocumentoAvvio</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block307_allegatiOutput</sourceRef>
        <targetRef>allegatiDocumentoAvvio</targetRef>
</dataOutputAssociation>
    
</callActivity>




<task id="block419" name="getRelatedDocument" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block419_TaskNameInput" name="TaskName" />
        <dataInput id="block419_GroupIdInput" name="GroupId" />
        <dataInput id="block419_Operation" name="operation" />

            <dataInput id="block419_userTokenInput" name="userToken" />
            <dataInput id="block419_documentInput" name="document" />
        
            <dataOutput id="block419_userTokenOutput" name="userToken" />
            <dataOutput id="block419_annessiOutput" name="annessi" />
            <dataOutput id="block419_annotazioniOutput" name="annotazioni" />
            <dataOutput id="block419_allegatiOutput" name="allegati" />
            <dataOutput id="block419_documentOutput" name="document" />
           

        <inputSet>
            <dataInputRefs>block419_TaskNameInput</dataInputRefs>
            <dataInputRefs>block419_GroupIdInput</dataInputRefs>
            <dataInputRefs>block419_Operation</dataInputRefs>
                <dataInputRefs>block419_userTokenInput</dataInputRefs>
                <dataInputRefs>block419_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block419_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block419_annessiOutput</dataOutputRefs>
                <dataOutputRefs>block419_annotazioniOutput</dataOutputRefs>
                <dataOutputRefs>block419_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block419_documentOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block419_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_esterni</sourceRef>
                            <targetRef>block419_documentInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
        <targetRef>block419_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block419_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block419_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getRelatedDocument</from>
           <to xsi:type="tFormalExpression">block419_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block419_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaUnitaDocumentaria</from>
           <to xsi:type="tFormalExpression">block419_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block419_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block419_annessiOutput</sourceRef>
                            <targetRef>annessiPareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block419_annotazioniOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block419_allegatiOutput</sourceRef>
                            <targetRef>allegatiPareriEsterni</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block419_documentOutput</sourceRef>
                            <targetRef>doc_pareri_esterni</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>

<sequenceFlow id="con_160375" sourceRef="block260" targetRef="block183">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160105" sourceRef="block14" targetRef="block15">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_fascicolare=="si"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160663" sourceRef="block223" targetRef="block349">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block192" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraDocumentoFinale;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<scriptTask id="block190" scriptFormat="http://www.mvel.org/2.0" name="set assegnazione" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraProvvFinalePositivo;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

/**************  end user script  ***************/



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160141" sourceRef="block1" targetRef="block7">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[comunicazione_avvio=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161107" sourceRef="block265" targetRef="block436">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161599" sourceRef="block434" targetRef="block435">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[scelta_protocollare=="no"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block191" isForCompensation="false" independent="false" waitForCompletion="true" name="filiera documento finale" calledElementByName="#{lista_call_activity.FilieraDedicataIstanzadiParte}" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block191_figura_professionale_registrazioneUscitaInput" name="figura_professionale_registrazioneUscita" />
    <dataInput id="block191_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block191_versioningInput" name="versioning" />
    <dataInput id="block191_messaggioInput" name="messaggio" />
    <dataInput id="block191_proto_autoInput" name="proto_auto" />
    <dataInput id="block191_instanceNameInput" name="instanceName" />
    <dataInput id="block191_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block191_descrizione_conversioneInput" name="descrizione_conversione" />
    <dataInput id="block191_oggettoInput" name="oggetto" />
    <dataInput id="block191_tipologieAnnotazioneInput" name="tipologieAnnotazione" />
    <dataInput id="block191_humanTokenInput" name="humanToken" />
    <dataInput id="block191_descrizione_firmaInput" name="descrizione_firma" />
    <dataInput id="block191_descrizione_invioInput" name="descrizione_invio" />
    <dataInput id="block191_figura_professionale_inviaInput" name="figura_professionale_invia" />
    <dataInput id="block191_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block191_instanceIdInput" name="instanceId" />
    <dataInput id="block191_destinatariInput" name="destinatari" />
    <dataInput id="block191_mittente_notificaInput" name="mittente_notifica" />
    <dataInput id="block191_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block191_urlDocerInput" name="urlDocer" />
    <dataInput id="block191_outcomeInput" name="outcome" />
    <dataInput id="block191_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block191_testo_notificaInput" name="testo_notifica" />
    <dataInput id="block191_mittenteInput" name="mittente" />
    <dataInput id="block191_figura_professionale_redazioneInput" name="figura_professionale_redazione" />
    <dataInput id="block191_systemTokenInput" name="systemToken" />
    <dataInput id="block191_mittentiInput" name="mittenti" />
    <dataInput id="block191_fascicolo_primarioInput" name="fascicolo_primario" />
    <dataInput id="block191_descrizione_redazioneInput" name="descrizione_redazione" />
    <dataInput id="block191_invio_multiploInput" name="invio_multiplo" />
    <dataInput id="block191_invioInput" name="invio" />
    <dataInput id="block191_creazioneInput" name="creazione" />
    <dataInput id="block191_disabilita_ht_invioInput" name="disabilita_ht_invio" />
    <dataInput id="block191_descrizioneInput" name="descrizione" />
    <dataInput id="block191___ckValueInput" name="__ckValue" />
    <dataInput id="block191_firmatariInput" name="firmatari" />
    <dataInput id="block191_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block191_template_principaleInput" name="template_principale" />
    <dataInput id="block191_canalePECInput" name="canalePEC" />
    <dataInput id="block191_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block191_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block191_figura_professionale_conversioneInput" name="figura_professionale_conversione" />
    <dataInput id="block191_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block191_descrizione_registrazioneUscitaInput" name="descrizione_registrazioneUscita" />
    <dataInput id="block191_assegnazioneInput" name="assegnazione" />
    <dataInput id="block191_nameInput" name="name" />
    <dataInput id="block191_descriptionInput" name="description" />
    <dataInput id="block191_processNameInput" name="processName" />
    <dataOutput id="block191_documento_principale_registratoOutput" name="documento_principale_registrato" />

    <inputSet>
        <dataInputRefs>block191_figura_professionale_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block191_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block191_versioningInput</dataInputRefs>
        <dataInputRefs>block191_messaggioInput</dataInputRefs>
        <dataInputRefs>block191_proto_autoInput</dataInputRefs>
        <dataInputRefs>block191_instanceNameInput</dataInputRefs>
        <dataInputRefs>block191_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block191_descrizione_conversioneInput</dataInputRefs>
        <dataInputRefs>block191_oggettoInput</dataInputRefs>
        <dataInputRefs>block191_tipologieAnnotazioneInput</dataInputRefs>
        <dataInputRefs>block191_humanTokenInput</dataInputRefs>
        <dataInputRefs>block191_descrizione_firmaInput</dataInputRefs>
        <dataInputRefs>block191_descrizione_invioInput</dataInputRefs>
        <dataInputRefs>block191_figura_professionale_inviaInput</dataInputRefs>
        <dataInputRefs>block191_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block191_instanceIdInput</dataInputRefs>
        <dataInputRefs>block191_destinatariInput</dataInputRefs>
        <dataInputRefs>block191_mittente_notificaInput</dataInputRefs>
        <dataInputRefs>block191_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block191_urlDocerInput</dataInputRefs>
        <dataInputRefs>block191_outcomeInput</dataInputRefs>
        <dataInputRefs>block191_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block191_testo_notificaInput</dataInputRefs>
        <dataInputRefs>block191_mittenteInput</dataInputRefs>
        <dataInputRefs>block191_figura_professionale_redazioneInput</dataInputRefs>
        <dataInputRefs>block191_systemTokenInput</dataInputRefs>
        <dataInputRefs>block191_mittentiInput</dataInputRefs>
        <dataInputRefs>block191_fascicolo_primarioInput</dataInputRefs>
        <dataInputRefs>block191_descrizione_redazioneInput</dataInputRefs>
        <dataInputRefs>block191_invio_multiploInput</dataInputRefs>
        <dataInputRefs>block191_invioInput</dataInputRefs>
        <dataInputRefs>block191_creazioneInput</dataInputRefs>
        <dataInputRefs>block191_disabilita_ht_invioInput</dataInputRefs>
        <dataInputRefs>block191_descrizioneInput</dataInputRefs>
        <dataInputRefs>block191___ckValueInput</dataInputRefs>
        <dataInputRefs>block191_firmatariInput</dataInputRefs>
        <dataInputRefs>block191_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block191_template_principaleInput</dataInputRefs>
        <dataInputRefs>block191_canalePECInput</dataInputRefs>
        <dataInputRefs>block191_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block191_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block191_figura_professionale_conversioneInput</dataInputRefs>
        <dataInputRefs>block191_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block191_descrizione_registrazioneUscitaInput</dataInputRefs>
        <dataInputRefs>block191_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block191_nameInput</dataInputRefs>
        <dataInputRefs>block191_descriptionInput</dataInputRefs>
        <dataInputRefs>block191_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block191_documento_principale_registratoOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:figura_professionale_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block191_figura_professionale_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[tipo_firma]]></sourceRef>
        <targetRef>block191_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:versioning var type: textRef -->
        <sourceRef><![CDATA[versioning]]></sourceRef>
        <targetRef>block191_versioningInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:messaggio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_messaggioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block191_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block191_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_conversione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_descrizione_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_oggettoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazione var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block191_tipologieAnnotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_firma var type: textRef -->
        <sourceRef><![CDATA[DescrizioneFirmaDocumentoFinale]]></sourceRef>
        <targetRef>block191_descrizione_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_descrizione_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_invia var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraDocumentoFinale]]></sourceRef>
        <targetRef>block191_figura_professionale_inviaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block191_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[destinatari]]></sourceRef>
        <targetRef>block191_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente_notifica var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block191_mittente_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Documento finale";]]></sourceRef>
        <targetRef>block191_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:urlDocer var type: textRef -->
        <sourceRef><![CDATA[urlDocer]]></sourceRef>
        <targetRef>block191_urlDocerInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione uscita documento finale";]]></sourceRef>
        <targetRef>block191_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_notifica var type: script -->
        <sourceRef><![CDATA["Firma documento finale";]]></sourceRef>
        <targetRef>block191_testo_notificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente]]></sourceRef>
        <targetRef>block191_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_redazione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneDocumentoFinale]]></sourceRef>
        <targetRef>block191_figura_professionale_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block191_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block191_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_primario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block191_fascicolo_primarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_redazione var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRedazioneDocumentoFinale]]></sourceRef>
        <targetRef>block191_descrizione_redazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio_multiplo var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_invio_multiploInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:invio var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block191_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht";]]></sourceRef>
        <targetRef>block191_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:disabilita_ht_invio var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_disabilita_ht_invioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Filiera documento finale";]]></sourceRef>
        <targetRef>block191_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:__ckValue var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191___ckValueInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: object -->
        <sourceRef><![CDATA[oggettoFirmatariDocumentoFinale]]></sourceRef>
        <targetRef>block191_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block191_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block191_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block191_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block191_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale_conversione var type: textRef -->
        <sourceRef><![CDATA[UO_RedazioneDocumentoFinale]]></sourceRef>
        <targetRef>block191_figura_professionale_conversioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block191_metadati_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione_registrazioneUscita var type: textRef -->
        <sourceRef><![CDATA[DescrizioneRegistraDocumentoFinale]]></sourceRef>
        <targetRef>block191_descrizione_registrazioneUscitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block191_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block191_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[filiera documento finale]]></from>
            <to xsi:type="tFormalExpression">block191_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block191_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block191_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block191_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[#{lista_call_activity.FilieraDedicataIstanzadiParte}]]></from>
            <to xsi:type="tFormalExpression">block191_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block191_documento_principale_registratoOutput</sourceRef>
        <targetRef>doc_documentoFinale</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161191" sourceRef="block451" targetRef="block440">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<intermediateCatchEvent id="block142" name="Timer" >
    <timerEventDefinition>
        <timeDuration xsi:type="tFormalExpression">PT12H</timeDuration>
    </timerEventDefinition>
</intermediateCatchEvent>

<sequenceFlow id="con_160903" sourceRef="block409" targetRef="block411">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160183" sourceRef="block176" targetRef="block177">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="escludi" || esito=="nuova_richiesta"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160753" sourceRef="block363" targetRef="block188">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block290" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block290_AccountInput" name="account" />
        <dataInput id="block290_TempfolderInput" name="tempfolder" />
        <dataInput id="block290_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block290_UserTokenInput" name="userToken" />


        <dataInput id="block290_urlBrokerInput" name="urlBroker" />
        <dataInput id="block290_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block290_incaricatoInput" name="incaricato" />
        <dataInput id="block290_codaInput" name="coda" />
        <dataInput id="block290_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block290_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block290_messageInput" name="message" />
        <dataInput id="block290_idProcessoInput" name="idProcesso" />
        <dataInput id="block290_idUserInput" name="idUser" />
        <dataInput id="block290_userTokenInput" name="userToken" />
        <dataInput id="block290_esitoInput" name="esito" />
        <dataInput id="block290_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block290_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block290_pwdInput" name="pwd" />
        <dataInput id="block290_correlationKeyInput" name="correlationKey" />
        <dataInput id="block290_userInput" name="user" />

        <dataOutput id="block290_UserTokenOutput" name="userToken" />
        <dataOutput id="block290_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block290_AccountInput</dataInputRefs>
            <dataInputRefs>block290_TempfolderInput</dataInputRefs>
            <dataInputRefs>block290_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block290_UserTokenInput</dataInputRefs>
            <dataInputRefs>block290_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block290_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block290_incaricatoInput</dataInputRefs>
            <dataInputRefs>block290_codaInput</dataInputRefs>
            <dataInputRefs>block290_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block290_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block290_messageInput</dataInputRefs>
            <dataInputRefs>block290_idProcessoInput</dataInputRefs>
            <dataInputRefs>block290_idUserInput</dataInputRefs>
            <dataInputRefs>block290_userTokenInput</dataInputRefs>
            <dataInputRefs>block290_esitoInput</dataInputRefs>
            <dataInputRefs>block290_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block290_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block290_pwdInput</dataInputRefs>
            <dataInputRefs>block290_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block290_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block290_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block290_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block290_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block290_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block290_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block290_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>oggettoDocumentoConclusioneSmistamento</sourceRef>
                <targetRef>block290_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"conclusione";</sourceRef>
                <targetRef>block290_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"Pratica completa";</sourceRef>
                <targetRef>block290_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block290_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block290_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block290_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"POSITIVE";</sourceRef>
                <targetRef>block290_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block290_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block290_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block290_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block290_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block290_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block290_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160309" sourceRef="block149" targetRef="block175">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160489" sourceRef="block173" targetRef="block319">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<exclusiveGateway id="block436" name="gateway-exclusive" gatewayDirection="Diverging"></exclusiveGateway>

<sequenceFlow id="con_160999" sourceRef="block201" targetRef="block202">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block420" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160651" sourceRef="block348" targetRef="block223">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160783" sourceRef="block221" targetRef="block371">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito_ciclo=="fine"]]>
    </conditionExpression>
</sequenceFlow>


<callActivity id="block125" isForCompensation="false" independent="false" waitForCompletion="true" name="call-activity registrazione con proto e fascicolazione" calledElementByName="AMD_RegistrazioneInternaUD2.1" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block125_fascicoloPrimarioInput" name="fascicoloPrimario" />
    <dataInput id="block125_tipo_firmaInput" name="tipo_firma" />
    <dataInput id="block125_proto_autoInput" name="proto_auto" />
    <dataInput id="block125_instanceNameInput" name="instanceName" />
    <dataInput id="block125_destinatari_registrazioneInput" name="destinatari_registrazione" />
    <dataInput id="block125_tipo_firma_registrazioneInput" name="tipo_firma_registrazione" />
    <dataInput id="block125_humanTokenInput" name="humanToken" />
    <dataInput id="block125_fascicolazioneInput" name="fascicolazione" />
    <dataInput id="block125_instanceIdInput" name="instanceId" />
    <dataInput id="block125_oggetto_registroInput" name="oggetto_registro" />
    <dataInput id="block125_destinatariInput" name="destinatari" />
    <dataInput id="block125_testo_attivitaInput" name="testo_attivita" />
    <dataInput id="block125_outcomeInput" name="outcome" />
    <dataInput id="block125_oggetto_protocolloInput" name="oggetto_protocollo" />
    <dataInput id="block125_registrazioneInput" name="registrazione" />
    <dataInput id="block125_fascicoliSecondariInput" name="fascicoliSecondari" />
    <dataInput id="block125_systemTokenInput" name="systemToken" />
    <dataInput id="block125_mittentiInput" name="mittenti" />
    <dataInput id="block125_firmatari_registrazioneInput" name="firmatari_registrazione" />
    <dataInput id="block125_assegnazione_registroInput" name="assegnazione_registro" />
    <dataInput id="block125_descrizioneInput" name="descrizione" />
    <dataInput id="block125_firmatariInput" name="firmatari" />
    <dataInput id="block125_protocollazioneInput" name="protocollazione" />
    <dataInput id="block125_fascicolo_fissoInput" name="fascicolo_fisso" />
    <dataInput id="block125_canalePECInput" name="canalePEC" />
    <dataInput id="block125_mittenti_registrazioneInput" name="mittenti_registrazione" />
    <dataInput id="block125_lista_registriInput" name="lista_registri" />
    <dataInput id="block125_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block125_reg_autoInput" name="reg_auto" />
    <dataInput id="block125_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block125_assegnazioneInput" name="assegnazione" />
    <dataInput id="block125_nameInput" name="name" />
    <dataInput id="block125_descriptionInput" name="description" />
    <dataInput id="block125_processNameInput" name="processName" />
    <dataOutput id="block125_principaleOutput" name="principale" />

    <inputSet>
        <dataInputRefs>block125_fascicoloPrimarioInput</dataInputRefs>
        <dataInputRefs>block125_tipo_firmaInput</dataInputRefs>
        <dataInputRefs>block125_proto_autoInput</dataInputRefs>
        <dataInputRefs>block125_instanceNameInput</dataInputRefs>
        <dataInputRefs>block125_destinatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block125_tipo_firma_registrazioneInput</dataInputRefs>
        <dataInputRefs>block125_humanTokenInput</dataInputRefs>
        <dataInputRefs>block125_fascicolazioneInput</dataInputRefs>
        <dataInputRefs>block125_instanceIdInput</dataInputRefs>
        <dataInputRefs>block125_oggetto_registroInput</dataInputRefs>
        <dataInputRefs>block125_destinatariInput</dataInputRefs>
        <dataInputRefs>block125_testo_attivitaInput</dataInputRefs>
        <dataInputRefs>block125_outcomeInput</dataInputRefs>
        <dataInputRefs>block125_oggetto_protocolloInput</dataInputRefs>
        <dataInputRefs>block125_registrazioneInput</dataInputRefs>
        <dataInputRefs>block125_fascicoliSecondariInput</dataInputRefs>
        <dataInputRefs>block125_systemTokenInput</dataInputRefs>
        <dataInputRefs>block125_mittentiInput</dataInputRefs>
        <dataInputRefs>block125_firmatari_registrazioneInput</dataInputRefs>
        <dataInputRefs>block125_assegnazione_registroInput</dataInputRefs>
        <dataInputRefs>block125_descrizioneInput</dataInputRefs>
        <dataInputRefs>block125_firmatariInput</dataInputRefs>
        <dataInputRefs>block125_protocollazioneInput</dataInputRefs>
        <dataInputRefs>block125_fascicolo_fissoInput</dataInputRefs>
        <dataInputRefs>block125_canalePECInput</dataInputRefs>
        <dataInputRefs>block125_mittenti_registrazioneInput</dataInputRefs>
        <dataInputRefs>block125_lista_registriInput</dataInputRefs>
        <dataInputRefs>block125_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block125_reg_autoInput</dataInputRefs>
        <dataInputRefs>block125_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block125_assegnazioneInput</dataInputRefs>
        <dataInputRefs>block125_nameInput</dataInputRefs>
        <dataInputRefs>block125_descriptionInput</dataInputRefs>
        <dataInputRefs>block125_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block125_principaleOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:fascicoloPrimario var type: fascicolo -->
        <sourceRef><![CDATA[fasc_proc]]></sourceRef>
        <targetRef>block125_fascicoloPrimarioInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_tipo_firmaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:proto_auto var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block125_proto_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_destinatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_firma_registrazione var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_tipo_firma_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolazione var type: textRef -->
        <sourceRef><![CDATA[scelta_fascicolare]]></sourceRef>
        <targetRef>block125_fascicolazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_registro var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_oggetto_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:destinatari var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block125_destinatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:testo_attivita var type: script -->
        <sourceRef><![CDATA["Documento pareri interni";]]></sourceRef>
        <targetRef>block125_testo_attivitaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:oggetto_protocollo var type: script -->
        <sourceRef><![CDATA["Protocollazione documenti pareri interni";]]></sourceRef>
        <targetRef>block125_oggetto_protocolloInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:registrazione var type: script -->
        <sourceRef><![CDATA["no";]]></sourceRef>
        <targetRef>block125_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicoliSecondari var type: fascicolo -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_fascicoliSecondariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block125_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti var type: soggetto -->
        <sourceRef><![CDATA[mittenti]]></sourceRef>
        <targetRef>block125_mittentiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_firmatari_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione_registro var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block125_assegnazione_registroInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Protocollazione e fascicolazilone documenti pareri interni";]]></sourceRef>
        <targetRef>block125_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:firmatari var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_firmatariInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:protocollazione var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block125_protocollazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:fascicolo_fisso var type: script -->
        <sourceRef><![CDATA["si";]]></sourceRef>
        <targetRef>block125_fascicolo_fissoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block125_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[canalePEC]]></from>
            <to xsi:type="tFormalExpression">block125_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittenti_registrazione var type: soggetto -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_mittenti_registrazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lista_registri var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_lista_registriInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA[doc_pareri_interni.DOCNUM;]]></sourceRef>
        <targetRef>block125_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:reg_auto var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block125_reg_autoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: textRef -->
        <sourceRef><![CDATA[UO_RegistraPareriInterni]]></sourceRef>
        <targetRef>block125_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:assegnazione var type: object -->
        <sourceRef><![CDATA[assegnazione]]></sourceRef>
        <targetRef>block125_assegnazioneInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block125_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[call-activity registrazione con proto e fascicolazione]]></from>
            <to xsi:type="tFormalExpression">block125_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block125_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block125_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block125_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[AMD_RegistrazioneInternaUD2.1]]></from>
            <to xsi:type="tFormalExpression">block125_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block125_principaleOutput</sourceRef>
        <targetRef>doc_pareri_interniProtocollato</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161677" sourceRef="block503" targetRef="block214">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<userTask id="block61" name="HT-Generico_block61" >


    <ioSpecification>

        <dataInput id="block61_TaskNameInput" name="TaskName" />
        <dataInput id="block61_GroupIdInput" name="GroupId" />
        <dataInput id="block61_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block61_allegatiRichiestaIntegrazioniInput" name="allegatiRichiestaIntegrazioni" />
            <dataInput id="block61_annessiIntegrazioniRicevutoInput" name="annessiIntegrazioniRicevuto" />
            <dataInput id="block61_doc_pareri_interniProtocollatoInput" name="doc_pareri_interniProtocollato" />
            <dataInput id="block61_doc_pareri_esterniInput" name="doc_pareri_esterni" />
            <dataInput id="block61_esito_finaleInput" name="esito_finale" />
            <dataInput id="block61_allegatiMotiviOstativiInput" name="allegatiMotiviOstativi" />
            <dataInput id="block61_provvedimento_finaleInput" name="provvedimento_finale" />
            <dataInput id="block61_doc_richiestaIntegrazioniRicevutoInput" name="doc_richiestaIntegrazioniRicevuto" />
            <dataInput id="block61_allegatiIntegrazioniRicevutoInput" name="allegatiIntegrazioniRicevuto" />
            <dataInput id="block61_listaPareriInterniRicevutiInput" name="listaPareriInterniRicevuti" />
            <dataInput id="block61_indirizzo_docerInput" name="indirizzo_docer" />
            <dataInput id="block61_allegatiPareriInterniInput" name="allegatiPareriInterni" />
            <dataInput id="block61_listaUDPareriRicevutiInput" name="listaUDPareriRicevuti" />
            <dataInput id="block61_doc_motiviOstativiRicevutoInput" name="doc_motiviOstativiRicevuto" />
            <dataInput id="block61_allegatiMotiviOstativiRicevutoInput" name="allegatiMotiviOstativiRicevuto" />
            <dataInput id="block61_annessiMotiviOstativiRicevutoInput" name="annessiMotiviOstativiRicevuto" />
            <dataInput id="block61_allegatiPareriEsterniInput" name="allegatiPareriEsterni" />
            <dataInput id="block61_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block61_doc_motiviOstativiInput" name="doc_motiviOstativi" />
            <dataInput id="block61_porta_docerInput" name="porta_docer" />
            <dataInput id="block61_azione_finaleInput" name="azione_finale" />
            <dataInput id="block61_annessiMotiviOstativiInput" name="annessiMotiviOstativi" />
            <dataInput id="block61_allegatiDocumentoAvvioInput" name="allegatiDocumentoAvvio" />
            <dataInput id="block61_fasc_procInput" name="fasc_proc" />
            <dataInput id="block61_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block61_annessiDocumentoAvvioInput" name="annessiDocumentoAvvio" />
            <dataInput id="block61_invio_documentiInput" name="invio_documenti" />
            <dataInput id="block61_doc_richiestaIntegrazioniInput" name="doc_richiestaIntegrazioni" />
            <dataInput id="block61_comunicazione_avvioInput" name="comunicazione_avvio" />
            <dataInput id="block61_annessiPareriInterniInput" name="annessiPareriInterni" />
            <dataInput id="block61_commentInput" name="comment" />
            <dataInput id="block61_doc_comunicazioneAvvioInput" name="doc_comunicazioneAvvio" />
            <dataInput id="block61_annessiRichiestaIntegrazioniInput" name="annessiRichiestaIntegrazioni" />
            <dataInput id="block61_documentoProtocollatoInput" name="documentoProtocollato" />
            <dataInput id="block61_annessiPareriEsterniInput" name="annessiPareriEsterni" />
        
            <dataOutput id="block61_esito_finaleOutput" name="esito_finale" />
            <dataOutput id="block61_reasonOutput" name="reason" />
            <dataOutput id="block61_userTokenOutput" name="userToken" />
            <dataOutput id="block61_azione_finaleOutput" name="azione_finale" />
           

        <inputSet>
            <dataInputRefs>block61_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block61_TaskNameInput</dataInputRefs>
            <dataInputRefs>block61_GroupIdInput</dataInputRefs>
                <dataInputRefs>block61_allegatiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block61_annessiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_doc_pareri_interniProtocollatoInput</dataInputRefs>
                <dataInputRefs>block61_doc_pareri_esterniInput</dataInputRefs>
                <dataInputRefs>block61_esito_finaleInput</dataInputRefs>
                <dataInputRefs>block61_allegatiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block61_provvedimento_finaleInput</dataInputRefs>
                <dataInputRefs>block61_doc_richiestaIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_allegatiIntegrazioniRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_listaPareriInterniRicevutiInput</dataInputRefs>
                <dataInputRefs>block61_indirizzo_docerInput</dataInputRefs>
                <dataInputRefs>block61_allegatiPareriInterniInput</dataInputRefs>
                <dataInputRefs>block61_listaUDPareriRicevutiInput</dataInputRefs>
                <dataInputRefs>block61_doc_motiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_allegatiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_annessiMotiviOstativiRicevutoInput</dataInputRefs>
                <dataInputRefs>block61_allegatiPareriEsterniInput</dataInputRefs>
                <dataInputRefs>block61_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block61_doc_motiviOstativiInput</dataInputRefs>
                <dataInputRefs>block61_porta_docerInput</dataInputRefs>
                <dataInputRefs>block61_azione_finaleInput</dataInputRefs>
                <dataInputRefs>block61_annessiMotiviOstativiInput</dataInputRefs>
                <dataInputRefs>block61_allegatiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block61_fasc_procInput</dataInputRefs>
                <dataInputRefs>block61_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block61_annessiDocumentoAvvioInput</dataInputRefs>
                <dataInputRefs>block61_invio_documentiInput</dataInputRefs>
                <dataInputRefs>block61_doc_richiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block61_comunicazione_avvioInput</dataInputRefs>
                <dataInputRefs>block61_annessiPareriInterniInput</dataInputRefs>
                <dataInputRefs>block61_commentInput</dataInputRefs>
                <dataInputRefs>block61_doc_comunicazioneAvvioInput</dataInputRefs>
                <dataInputRefs>block61_annessiRichiestaIntegrazioniInput</dataInputRefs>
                <dataInputRefs>block61_documentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block61_annessiPareriEsterniInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block61_esito_finaleOutput</dataOutputRefs>
                <dataOutputRefs>block61_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block61_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block61_azione_finaleOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>allegatiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block61_allegatiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block61_annessiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_interni</sourceRef>
                            <targetRef>block61_doc_pareri_interniProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_pareri_esterni</sourceRef>
                            <targetRef>block61_doc_pareri_esterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>esito_finale</sourceRef>
                            <targetRef>block61_esito_finaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativi</sourceRef>
                            <targetRef>block61_allegatiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>provvedimento_finale</sourceRef>
                            <targetRef>block61_provvedimento_finaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioniRicevuto</sourceRef>
                            <targetRef>block61_doc_richiestaIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiIntegrazioniRicevuto</sourceRef>
                            <targetRef>block61_allegatiIntegrazioniRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>listaPareriInterniRicevuti</sourceRef>
                            <targetRef>block61_listaPareriInterniRicevutiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>indirizzo_docer</sourceRef>
                            <targetRef>block61_indirizzo_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiPareriInterni</sourceRef>
                            <targetRef>block61_allegatiPareriInterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>listaUDPareriRicevuti</sourceRef>
                            <targetRef>block61_listaUDPareriRicevutiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativiRicevuto</sourceRef>
                            <targetRef>block61_doc_motiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block61_allegatiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativiRicevuto</sourceRef>
                            <targetRef>block61_annessiMotiviOstativiRicevutoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiPareriEsterni</sourceRef>
                            <targetRef>block61_allegatiPareriEsterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block61_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_motiviOstativi</sourceRef>
                            <targetRef>block61_doc_motiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>porta_docer</sourceRef>
                            <targetRef>block61_porta_docerInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>azione_finale</sourceRef>
                            <targetRef>block61_azione_finaleInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiMotiviOstativi</sourceRef>
                            <targetRef>block61_annessiMotiviOstativiInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoAvvio</sourceRef>
                            <targetRef>block61_allegatiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>fasc_proc</sourceRef>
                            <targetRef>block61_fasc_procInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block61_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoAvvio</sourceRef>
                            <targetRef>block61_annessiDocumentoAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>invio_documenti</sourceRef>
                            <targetRef>block61_invio_documentiInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_richiestaIntegrazioni</sourceRef>
                            <targetRef>block61_doc_richiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>comunicazione_avvio</sourceRef>
                            <targetRef>block61_comunicazione_avvioInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiPareriInterni</sourceRef>
                            <targetRef>block61_annessiPareriInterniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block61_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block61_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>doc_comunicazioneAvvio</sourceRef>
                            <targetRef>block61_doc_comunicazioneAvvioInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiRichiestaIntegrazioni</sourceRef>
                            <targetRef>block61_annessiRichiestaIntegrazioniInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block61_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>annessiPareriEsterni</sourceRef>
                            <targetRef>block61_annessiPareriEsterniInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block61_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block61_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Controllo completo dei documenti del procedimento con esito finale"</from>
           <to xsi:type="tFormalExpression">block61_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block61_esito_finaleOutput</sourceRef>
                    <targetRef>esito_finale</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block61_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block61_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block61_azione_finaleOutput</sourceRef>
                    <targetRef>azione_finale</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>

<sequenceFlow id="con_160915" sourceRef="block176" targetRef="block413">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[esito=="ricevuti_positivi"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160441" sourceRef="block308" targetRef="block310">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160249" sourceRef="block194" targetRef="block193">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160705" sourceRef="block337" targetRef="block150">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160447" sourceRef="block310" targetRef="block311">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block356" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<sequenceFlow id="con_160453" sourceRef="block311" targetRef="block312">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block17" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<inclusiveGateway id="block221" name="gateway-branching" gatewayDirection="Diverging"></inclusiveGateway>
<scriptTask id="block242" scriptFormat="http://www.mvel.org/2.0" name="AC_Attesa pareri gestione tipo firma sul documento" isForCompensation="false" >
    <script>
        <![CDATA[



//[auto-insert]
uo_assegnazione=UO_RegistraPareriInterni;

/************** start user script ***************/

assegnazione.get(0).identity=uo_assegnazione;

java.util.HashMap doc = new java.util.HashMap();

doc.put("@structure","document");
doc.put("TIPO_COMPONENTE",doc_pareri_interni.TIPO_COMPONENTE);
doc.put("DOCNAME",doc_pareri_interni.DOCNAME);
doc.put("TYPE_ID",doc_pareri_interni.TYPE_ID);
doc.put("DOCNUM",doc_pareri_interni.DOCNUM);
doc.put("TIPO_FIRMA","NF");

doc_pareri_interni=doc;

/**************  end user script  ***************/

//[auto-insert]
//doc_pareri_interni
kcontext.setVariable("doc_pareri_interni",null);
kcontext.setVariable("doc_pareri_interni",doc_pareri_interni);



//[auto-insert]
kcontext.setVariable("assegnazione",null);
kcontext.setVariable("assegnazione",assegnazione);
kcontext.setVariable("doc_pareri_interniConvertito",null);
kcontext.setVariable("doc_pareri_interniConvertito",doc_pareri_interniConvertito);

        ]]>
    </script>
</scriptTask>



<sequenceFlow id="con_160759" sourceRef="block360" targetRef="block363">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[gestioneRicevutePEC=="no"]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161359" sourceRef="block476" targetRef="block60">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<task id="block396" name="getProfileDocument documento richiesta annullamento" tns:taskName="DocerJMS" >
    <ioSpecification>

        <dataInput id="block396_TaskNameInput" name="TaskName" />
        <dataInput id="block396_GroupIdInput" name="GroupId" />
        <dataInput id="block396_Operation" name="operation" />
        <dataInput id="block396_ForceDownloadDocument" name="forceDownloadDocument" />

            <dataInput id="block396_userTokenInput" name="userToken" />
            <dataInput id="block396_documentInput" name="document" />
        
            <dataOutput id="block396_userTokenOutput" name="userToken" />
            <dataOutput id="block396_allegatiOutput" name="allegati" />
            <dataOutput id="block396_documentOutput" name="document" />
            <dataOutput id="block396_filePathOutput" name="filePath" />
           

        <inputSet>
            <dataInputRefs>block396_TaskNameInput</dataInputRefs>
            <dataInputRefs>block396_GroupIdInput</dataInputRefs>
            <dataInputRefs>block396_ForceDownloadDocument</dataInputRefs>
            <dataInputRefs>block396_Operation</dataInputRefs>
                <dataInputRefs>block396_userTokenInput</dataInputRefs>
                <dataInputRefs>block396_documentInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block396_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block396_allegatiOutput</dataOutputRefs>
                <dataOutputRefs>block396_documentOutput</dataOutputRefs>
                <dataOutputRefs>block396_filePathOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>systemToken</sourceRef>
                            <targetRef>block396_userTokenInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoAnnullamento</sourceRef>
                            <targetRef>block396_documentInput</targetRef>

                </dataInputAssociation>
				<dataInputAssociation>
			        <targetRef>block396_ForceDownloadDocument</targetRef>
			        <assignment>
			            <from xsi:type="tFormalExpression">true</from>
			            <to xsi:type="tFormalExpression">block396_ForceDownloadDocument</to>
			        </assignment>
			    </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block396_GroupIdInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression"></from>
           <to xsi:type="tFormalExpression">block396_GroupIdInput</to>
        </assignment>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block396_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">getProfileDocument documento richiesta annullamento</from>
           <to xsi:type="tFormalExpression">block396_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
	  <dataInputAssociation>
        <targetRef>block396_Operation</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">RecuperaProfiloDocumento</from>
           <to xsi:type="tFormalExpression">block396_Operation</to>
        </assignment>
      </dataInputAssociation>

            <dataOutputAssociation>
                            <sourceRef>block396_userTokenOutput</sourceRef>
                            <targetRef>systemToken</targetRef>
                            
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block396_allegatiOutput</sourceRef>
                            <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block396_documentOutput</sourceRef>
                            <targetRef>documentoAnnullamento</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                            <sourceRef>block396_filePathOutput</sourceRef>
                            <targetRef>pathDocAnnullamento</targetRef>
                            
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</task>


<callActivity id="block495" isForCompensation="false" independent="false" waitForCompletion="true" name="Redazione documento pareri interni" calledElementByName="AMD_RedazioneUD3.3" >
<extensionElements>
        <tns:onEntry-script scriptFormat="http://www.mvel.org/2.0" >
            <tns:script><![CDATA[
            
//input declarations
descrizione="Redazione documento dei pareri interni";
systemToken=systemToken;
humanToken=humanToken;
figura_professionale=figura_professionale_procedimento;
tipologiePrincipale=tipologiePrincipale;
tipologieAllegato=tipologieAllegato;
tipologieAnnesso=tipologieAnnesso;
tipologieAnnotazioni=tipologieAnnotazioni;
creazione="ht";
docnum_principale="";;
mittente=mittente_notifica;
modifica="no";
INSTANCE_ENTE=INSTANCE_ENTE;
INSTANCE_AOO=INSTANCE_AOO;

            doc_irricevibilita.DOCNAME="Documento_irricevibilita_"+".pdf";
            
//[auto-insert]
//doc_irricevibilita
kcontext.setVariable("doc_irricevibilita",null);
kcontext.setVariable("doc_irricevibilita",doc_irricevibilita);

                ]]></tns:script>
        </tns:onEntry-script>
</extensionElements>
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block495_headerHtmlTextInput" name="headerHtmlText" />
    <dataInput id="block495_localhost_8082Input" name="localhost_8082" />
    <dataInput id="block495_tipologiePrincipaleInput" name="tipologiePrincipale" />
    <dataInput id="block495_tipologieAnnotazioniInput" name="tipologieAnnotazioni" />
    <dataInput id="block495_INSTANCE_AOOInput" name="INSTANCE_AOO" />
    <dataInput id="block495_humanTokenInput" name="humanToken" />
    <dataInput id="block495_variabili_template_correlatiInput" name="variabili_template_correlati" />
    <dataInput id="block495_template_annotazioniInput" name="template_annotazioni" />
    <dataInput id="block495_template_allegatiInput" name="template_allegati" />
    <dataInput id="block495_metadati_annessoInput" name="metadati_annesso" />
    <dataInput id="block495_INSTANCE_ENTEInput" name="INSTANCE_ENTE" />
    <dataInput id="block495_modificaInput" name="modifica" />
    <dataInput id="block495_lanesInput" name="lanes" />
    <dataInput id="block495_mittenteInput" name="mittente" />
    <dataInput id="block495_tipo_templateInput" name="tipo_template" />
    <dataInput id="block495_systemTokenInput" name="systemToken" />
    <dataInput id="block495_template_principale_htmlInput" name="template_principale_html" />
    <dataInput id="block495_template_annessiInput" name="template_annessi" />
    <dataInput id="block495_creazioneInput" name="creazione" />
    <dataInput id="block495_descrizioneInput" name="descrizione" />
    <dataInput id="block495_metadati_annotazioneInput" name="metadati_annotazione" />
    <dataInput id="block495_metadati_allegatoInput" name="metadati_allegato" />
    <dataInput id="block495_tipologieAnnessoInput" name="tipologieAnnesso" />
    <dataInput id="block495_template_principaleInput" name="template_principale" />
    <dataInput id="block495_footerHtmlTextInput" name="footerHtmlText" />
    <dataInput id="block495_tipologieAllegatoInput" name="tipologieAllegato" />
    <dataInput id="block495_docnum_principaleInput" name="docnum_principale" />
    <dataInput id="block495_variabili_template_principaleInput" name="variabili_template_principale" />
    <dataInput id="block495_figura_professionaleInput" name="figura_professionale" />
    <dataInput id="block495_userInput" name="user" />
    <dataInput id="block495_metadati_principaleInput" name="metadati_principale" />
    <dataInput id="block495_commitInput" name="commit" />
    <dataOutput id="block495_principaleOutput" name="principale" />
    <dataOutput id="block495_lanesOutput" name="lanes" />
    <dataOutput id="block495_businessStateOutput" name="businessState" />

    <inputSet>
        <dataInputRefs>block495_headerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block495_localhost_8082Input</dataInputRefs>
        <dataInputRefs>block495_tipologiePrincipaleInput</dataInputRefs>
        <dataInputRefs>block495_tipologieAnnotazioniInput</dataInputRefs>
        <dataInputRefs>block495_INSTANCE_AOOInput</dataInputRefs>
        <dataInputRefs>block495_humanTokenInput</dataInputRefs>
        <dataInputRefs>block495_variabili_template_correlatiInput</dataInputRefs>
        <dataInputRefs>block495_template_annotazioniInput</dataInputRefs>
        <dataInputRefs>block495_template_allegatiInput</dataInputRefs>
        <dataInputRefs>block495_metadati_annessoInput</dataInputRefs>
        <dataInputRefs>block495_INSTANCE_ENTEInput</dataInputRefs>
        <dataInputRefs>block495_modificaInput</dataInputRefs>
        <dataInputRefs>block495_lanesInput</dataInputRefs>
        <dataInputRefs>block495_mittenteInput</dataInputRefs>
        <dataInputRefs>block495_tipo_templateInput</dataInputRefs>
        <dataInputRefs>block495_systemTokenInput</dataInputRefs>
        <dataInputRefs>block495_template_principale_htmlInput</dataInputRefs>
        <dataInputRefs>block495_template_annessiInput</dataInputRefs>
        <dataInputRefs>block495_creazioneInput</dataInputRefs>
        <dataInputRefs>block495_descrizioneInput</dataInputRefs>
        <dataInputRefs>block495_metadati_annotazioneInput</dataInputRefs>
        <dataInputRefs>block495_metadati_allegatoInput</dataInputRefs>
        <dataInputRefs>block495_tipologieAnnessoInput</dataInputRefs>
        <dataInputRefs>block495_template_principaleInput</dataInputRefs>
        <dataInputRefs>block495_footerHtmlTextInput</dataInputRefs>
        <dataInputRefs>block495_tipologieAllegatoInput</dataInputRefs>
        <dataInputRefs>block495_docnum_principaleInput</dataInputRefs>
        <dataInputRefs>block495_variabili_template_principaleInput</dataInputRefs>
        <dataInputRefs>block495_figura_professionaleInput</dataInputRefs>
        <dataInputRefs>block495_userInput</dataInputRefs>
        <dataInputRefs>block495_metadati_principaleInput</dataInputRefs>
        <dataInputRefs>block495_commitInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block495_principaleOutput</dataOutputRefs>
        <dataOutputRefs>block495_lanesOutput</dataOutputRefs>
        <dataOutputRefs>block495_businessStateOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:headerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_headerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:localhost_8082 var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_localhost_8082Input</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologiePrincipale var type: textRef -->
        <sourceRef><![CDATA[tipologiePrincipale]]></sourceRef>
        <targetRef>block495_tipologiePrincipaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnotazioni var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnotazioni]]></sourceRef>
        <targetRef>block495_tipologieAnnotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_AOO var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_AOO]]></sourceRef>
        <targetRef>block495_INSTANCE_AOOInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[humanToken]]></sourceRef>
        <targetRef>block495_humanTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_correlati var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_variabili_template_correlatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annotazioni var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_template_annotazioniInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_allegati var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_template_allegatiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annesso var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_metadati_annessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:INSTANCE_ENTE var type: textRef -->
        <sourceRef><![CDATA[INSTANCE_ENTE]]></sourceRef>
        <targetRef>block495_INSTANCE_ENTEInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:modifica var type: script -->
        <sourceRef><![CDATA["no"]]></sourceRef>
        <targetRef>block495_modificaInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:lanes var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_lanesInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:mittente var type: soggetto -->
        <sourceRef><![CDATA[mittente_notifica]]></sourceRef>
        <targetRef>block495_mittenteInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipo_template var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_tipo_templateInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block495_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale_html var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_template_principale_htmlInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_annessi var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_template_annessiInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:creazione var type: script -->
        <sourceRef><![CDATA["ht"]]></sourceRef>
        <targetRef>block495_creazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Redazione documento dei pareri interni"]]></sourceRef>
        <targetRef>block495_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_annotazione var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_metadati_annotazioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_allegato var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_metadati_allegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAnnesso var type: textRef -->
        <sourceRef><![CDATA[tipologieAnnesso]]></sourceRef>
        <targetRef>block495_tipologieAnnessoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:template_principale var type: document -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:footerHtmlText var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_footerHtmlTextInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:tipologieAllegato var type: textRef -->
        <sourceRef><![CDATA[tipologieAllegato]]></sourceRef>
        <targetRef>block495_tipologieAllegatoInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:docnum_principale var type: script -->
        <sourceRef><![CDATA["";]]></sourceRef>
        <targetRef>block495_docnum_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:variabili_template_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_variabili_template_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:figura_professionale var type: tempRef -->
        <sourceRef><![CDATA[figura_professionale_procedimento]]></sourceRef>
        <targetRef>block495_figura_professionaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:user var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_userInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:metadati_principale var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block495_metadati_principaleInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: boolean -->
        <sourceRef>false</sourceRef>
        <targetRef>block495_commitInput</targetRef>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block495_principaleOutput</sourceRef>
        <targetRef>doc_pareri_interni</targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block495_lanesOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
<dataOutputAssociation>
        <sourceRef>block495_businessStateOutput</sourceRef>
        <targetRef></targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_160477" sourceRef="block317" targetRef="block318">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<scriptTask id="block464" scriptFormat="http://www.mvel.org/2.0" name="Gestione unita documentaria ricevuta dal portale" isForCompensation="false" >
    <script>
        <![CDATA[



/************** start user script ***************/

docTemp = new java.lang.Object();
int i=0;

java.util.List firmatariList = new java.util.ArrayList();
firmatariList.add(firmatario);

foreach(docTemp : documenti){

System.out.println("test-documento"+(documenti.get(i)).get("url"));

  if( (documenti.get(i)).get("principale")=="si" ){
System.out.println("test-documento-principale"+(documenti.get(i)).get("url"));
    princ=new java.util.HashMap();
    princ.put("@structure","document");
    princ.put("filePath",(documenti.get(i)).get("url"));
    princ.put("TYPE_ID",type_id_iniziale);
    princ.put("TIPO_COMPONENTE","PRINCIPALE");
   if((documenti.get(i)).get("firmaDigitale")=="si"){
tipo_firma_protoEntrata="FD";
princ.put("FIRMATARIO", firmatariList);
princ.put("TIPO_FIRMA", tipo_firma_protoEntrata);
    
  }
  if( ((documenti.get(i)).get("firmaDigitale")=="no") || ((documenti.get(i)).get("firmaDigitale")==null) ){
    tipo_firma_protoEntrata="FE";
princ.put("TIPO_FIRMA", tipo_firma_protoEntrata);
  }




 principale=princ;
 
}

  else if( (documenti.get(i)).get("principale")=="xml" ){
	  if(annessiXML.equals("si")){
		System.out.println("test-documento-allegato"+(documenti.get(i)).get("url"));
		allegato=new java.util.HashMap();
		allegato.put("@structure","document");

		allegato.put("filePath",(documenti.get(i)).get("url"));

		allegato.put("TYPE_ID",type_id_iniziale);
		allegato.put("TIPO_COMPONENTE","ANNESSO");
		listaAllegati.add(allegato);
		listaCorrelati.add(allegato);
	   }
	   else if(annessiXML.equals("titoli")){
	   	titolo=null;
	   	foreach(titolo:listaTitoli){
              if(titolo.get("nome").equals(titoloProcedimento) && titolo.get("annessiXMLtitolo").equals("si")){
			  			allegato=new java.util.HashMap();
						allegato.put("@structure","document");
						allegato.put("filePath",(documenti.get(i)).get("url"));
						allegato.put("TYPE_ID",type_id_iniziale);
						allegato.put("TIPO_COMPONENTE","ANNESSO");
						listaAllegati.add(allegato);
						listaCorrelati.add(allegato);
			  }
	   }
	   }
  }

  else{
System.out.println("test-documento-allegato"+(documenti.get(i)).get("url"));
    allegato=new java.util.HashMap();
    allegato.put("@structure","document");
    
    allegato.put("filePath",(documenti.get(i)).get("url"));
    
    allegato.put("TYPE_ID",type_id_iniziale);
    allegato.put("TIPO_COMPONENTE","ALLEGATO");
    listaAllegati.add(allegato);
    listaCorrelati.add(allegato);
  } 
  
  i=i+1;
}


System.out.println("test---------------correlati--"+listaCorrelati.toString());

System.out.println("test---------------allegati--"+listaAllegati.toString());


// gestione uo_registrazione con la figura professionale impostata nel titolo

titolo2=null;
//procedimentoCorrente=null;
azioni_verifica_documenti=new java.util.HashMap();

foreach(titolo2:listaTitoli){
              if(titolo2.get("nome").equals(titoloProcedimento)) {
              			//procedimentoCorrente=titolo2;              	
						UO_registrazione= ((titolo2.get("UO_registrazione")!=null)&&(titolo2.get("UO_registrazione")!=""))? titolo2.get("UO_registrazione"): uo;
						        azioni_verifica_documenti.put("positivo",titolo2.get("azioni_verifica_documenti").get("positivo"));
              			azioni_verifica_documenti.put("negativoIntegrazioni",titolo2.get("azioni_verifica_documenti").get("negativoIntegrazioni"));
              			azioni_verifica_documenti.put("negativoMotiviOstativi",titolo2.get("azioni_verifica_documenti").get("negativoMotiviOstativi"));
              			azioni_verifica_documenti.put("negativoIrricevibilita",titolo2.get("azioni_verifica_documenti").get("negativoIrricevibilita"));
              			azioni_verifica_documenti.put("concludiProcedimento",titolo2.get("azioni_verifica_documenti").get("concludiProcedimento"));
                    azioni_verifica_documenti.put("approvatoConRiserva",titolo2.get("azioni_verifica_documenti").get("approvatoConRiserva"));
                        
			  }
	   }
   

System.out.println("UO_registrazioneUO_registrazioneUO_registrazione :"+ UO_registrazione);

/**************  end user script  ***************/

//[auto-insert]
//test, test, tipo_firma_protoEntrata, tipo_firma_protoEntrata, principale, test, test, test, test, azioni_verifica_documenti, UO_registrazione
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("tipo_firma_protoEntrata",null);
kcontext.setVariable("tipo_firma_protoEntrata",tipo_firma_protoEntrata);
kcontext.setVariable("tipo_firma_protoEntrata",null);
kcontext.setVariable("tipo_firma_protoEntrata",tipo_firma_protoEntrata);
kcontext.setVariable("principale",null);
kcontext.setVariable("principale",principale);
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("test",null);
kcontext.setVariable("test",test);
kcontext.setVariable("azioni_verifica_documenti",null);
kcontext.setVariable("azioni_verifica_documenti",azioni_verifica_documenti);
kcontext.setVariable("UO_registrazione",null);
kcontext.setVariable("UO_registrazione",UO_registrazione);



        ]]>
    </script>
</scriptTask>



<userTask id="block438" name="HT-Generico_block438" >


    <ioSpecification>

        <dataInput id="block438_TaskNameInput" name="TaskName" />
        <dataInput id="block438_GroupIdInput" name="GroupId" />
        <dataInput id="block438_SwimlaneActorIdInput" name="SwimlaneActorId" />

            <dataInput id="block438_annessiDocumentoprotocollatoInput" name="annessiDocumentoprotocollato" />
            <dataInput id="block438_recupera_documenti_istruttoria_sempliceInput" name="recupera_documenti_istruttoria_semplice" />
            <dataInput id="block438_commentInput" name="comment" />
            <dataInput id="block438_allegatiDocumentoProtocollatoInput" name="allegatiDocumentoProtocollato" />
            <dataInput id="block438_tipologieInput" name="tipologie" />
            <dataInput id="block438_documentoProtocollatoInput" name="documentoProtocollato" />
        
            <dataOutput id="block438_reasonOutput" name="reason" />
            <dataOutput id="block438_userTokenOutput" name="userToken" />
            <dataOutput id="block438_esito_verificaOutput" name="esito_verifica" />
            <dataOutput id="block438_ResultOutput" name="Result" />
           

        <inputSet>
            <dataInputRefs>block438_SwimlaneActorIdInput</dataInputRefs>
            <dataInputRefs>block438_TaskNameInput</dataInputRefs>
            <dataInputRefs>block438_GroupIdInput</dataInputRefs>
                <dataInputRefs>block438_annessiDocumentoprotocollatoInput</dataInputRefs>
                <dataInputRefs>block438_recupera_documenti_istruttoria_sempliceInput</dataInputRefs>
                <dataInputRefs>block438_commentInput</dataInputRefs>
                <dataInputRefs>block438_allegatiDocumentoProtocollatoInput</dataInputRefs>
                <dataInputRefs>block438_tipologieInput</dataInputRefs>
                <dataInputRefs>block438_documentoProtocollatoInput</dataInputRefs>
        </inputSet>
        
        <outputSet>
                <dataOutputRefs>block438_reasonOutput</dataOutputRefs>
                <dataOutputRefs>block438_userTokenOutput</dataOutputRefs>
                <dataOutputRefs>block438_esito_verificaOutput</dataOutputRefs>
                <dataOutputRefs>block438_ResultOutput</dataOutputRefs>
                
         </outputSet>

    </ioSpecification>
                <dataInputAssociation>
                            <sourceRef>annessiDocumentoProtocollato</sourceRef>
                            <targetRef>block438_annessiDocumentoprotocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>recupera_documenti_istruttoria_semplice</sourceRef>
                            <targetRef>block438_recupera_documenti_istruttoria_sempliceInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                                <targetRef>block438_commentInput</targetRef>
                                <assignment>
                                <from xsi:type="tFormalExpression"><![CDATA[]]></from>
                                <to xsi:type="tFormalExpression">block438_commentInput</to>
                                </assignment>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>allegatiDocumentoProtocollato</sourceRef>
                            <targetRef>block438_allegatiDocumentoProtocollatoInput</targetRef>

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>tipologie_documentarie</sourceRef>
                            <targetRef>block438_tipologieInput</targetRef>
                            

                </dataInputAssociation>
                <dataInputAssociation>
                            <sourceRef>documentoProtocollato</sourceRef>
                            <targetRef>block438_documentoProtocollatoInput</targetRef>

                </dataInputAssociation>

      <dataInputAssociation>
          <sourceRef>Default.identity</sourceRef>
          <targetRef>block438_GroupIdInput</targetRef>
      </dataInputAssociation>
      <dataInputAssociation>
        <targetRef>block438_TaskNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression">"Verifica documenti e inserimento esito pratica"</from>
           <to xsi:type="tFormalExpression">block438_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block438_reasonOutput</sourceRef>
                    <targetRef></targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block438_userTokenOutput</sourceRef>
                    <targetRef>humanToken</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block438_esito_verificaOutput</sourceRef>
                    <targetRef>esito_verifica</targetRef>
            </dataOutputAssociation>
            <dataOutputAssociation>
                    <sourceRef>block438_ResultOutput</sourceRef>
                    <targetRef>Result</targetRef>
            </dataOutputAssociation>
           
      <potentialOwner>
        <resourceAssignmentExpression>
           <formalExpression></formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
</userTask>


<callActivity id="block352" isForCompensation="false" independent="false" waitForCompletion="true" name="Gestione documenti per portale" calledElementByName="Gestione documenti per portale1.0" >
<!-- ioSpecification -->
<ioSpecification>
    <dataInput id="block352_canaleMAILInput" name="canaleMAIL" />
    <dataInput id="block352_descrizioneInput" name="descrizione" />
    <dataInput id="block352_instanceIdInput" name="instanceId" />
    <dataInput id="block352_instanceNameInput" name="instanceName" />
    <dataInput id="block352_systemTokenInput" name="systemToken" />
    <dataInput id="block352_principaleInput" name="principale" />
    <dataInput id="block352_canalePECInput" name="canalePEC" />
    <dataInput id="block352_canalePORTALEInput" name="canalePORTALE" />
    <dataInput id="block352_canaleJMSInput" name="canaleJMS" />
    <dataInput id="block352_outcomeInput" name="outcome" />
    <dataInput id="block352_humanTokenInput" name="humanToken" />
    <dataInput id="block352_nameInput" name="name" />
    <dataInput id="block352_descriptionInput" name="description" />
    <dataInput id="block352_processNameInput" name="processName" />
    <dataOutput id="block352_docIntSendOutput" name="docIntSend" />

    <inputSet>
        <dataInputRefs>block352_canaleMAILInput</dataInputRefs>
        <dataInputRefs>block352_descrizioneInput</dataInputRefs>
        <dataInputRefs>block352_instanceIdInput</dataInputRefs>
        <dataInputRefs>block352_instanceNameInput</dataInputRefs>
        <dataInputRefs>block352_systemTokenInput</dataInputRefs>
        <dataInputRefs>block352_principaleInput</dataInputRefs>
        <dataInputRefs>block352_canalePECInput</dataInputRefs>
        <dataInputRefs>block352_canalePORTALEInput</dataInputRefs>
        <dataInputRefs>block352_canaleJMSInput</dataInputRefs>
        <dataInputRefs>block352_outcomeInput</dataInputRefs>
        <dataInputRefs>block352_humanTokenInput</dataInputRefs>
        <dataInputRefs>block352_nameInput</dataInputRefs>
        <dataInputRefs>block352_descriptionInput</dataInputRefs>
        <dataInputRefs>block352_processNameInput</dataInputRefs>
    </inputSet>

    <outputSet>
        <dataOutputRefs>block352_docIntSendOutput</dataOutputRefs>
    </outputSet>
</ioSpecification>

<!-- lista inputs -->
<dataInputAssociation><!-- k:canaleMAIL var type: channel -->
        <targetRef>block352_canaleMAILInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block352_canaleMAILInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:descrizione var type: script -->
        <sourceRef><![CDATA["Gestione documento per il portale";]]></sourceRef>
        <targetRef>block352_descrizioneInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceId var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block352_instanceIdInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:instanceName var type: textRef -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block352_instanceNameInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:systemToken var type: userToken -->
        <sourceRef><![CDATA[systemToken]]></sourceRef>
        <targetRef>block352_systemTokenInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:principale var type: document -->
        <sourceRef><![CDATA[documentoSilenzioAssenso]]></sourceRef>
        <targetRef>block352_principaleInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePEC var type: channel -->
        <targetRef>block352_canalePECInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block352_canalePECInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canalePORTALE var type: channel -->
        <targetRef>block352_canalePORTALEInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block352_canalePORTALEInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:canaleJMS var type: channel -->
        <targetRef>block352_canaleJMSInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[]]></from>
            <to xsi:type="tFormalExpression">block352_canaleJMSInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- k:outcome var type: object -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block352_outcomeInput</targetRef>
</dataInputAssociation>
<dataInputAssociation><!-- k:humanToken var type: userToken -->
        <sourceRef><![CDATA[]]></sourceRef>
        <targetRef>block352_humanTokenInput</targetRef>
</dataInputAssociation>

<!-- lista props -->
<dataInputAssociation><!-- var type: string -->
        <targetRef>block352_nameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale]]></from>
            <to xsi:type="tFormalExpression">block352_nameInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block352_descriptionInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[note]]></from>
            <to xsi:type="tFormalExpression">block352_descriptionInput</to>
        </assignment>
</dataInputAssociation>
<dataInputAssociation><!-- var type: string -->
        <targetRef>block352_processNameInput</targetRef>
        <assignment>
            <from xsi:type="tFormalExpression"><![CDATA[Gestione documenti per portale1.0]]></from>
            <to xsi:type="tFormalExpression">block352_processNameInput</to>
        </assignment>
</dataInputAssociation>

<!-- lista outputs -->
<dataOutputAssociation>
        <sourceRef>block352_docIntSendOutput</sourceRef>
        <targetRef>oggettoDocumentoSilenzioAssenso</targetRef>
</dataOutputAssociation>
    
</callActivity>




<sequenceFlow id="con_161527" sourceRef="block263" targetRef="block495">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<inclusiveGateway id="block177" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<inclusiveGateway id="block260" name="gateway-merge" gatewayDirection="Converging"></inclusiveGateway>
<sequenceFlow id="con_160987" sourceRef="block242" targetRef="block422">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<endEvent id="block491" name="end (terminate)">

    <dataInput id="block491_Input" name="object" />

    <inputSet>
        <dataInputRefs>block491_Input</dataInputRefs>
    </inputSet>

    <dataInputAssociation>
        <sourceRef>_tmpevt_.get("object")</sourceRef>
        <targetRef>block491_Input</targetRef>
    </dataInputAssociation>


    <terminateEventDefinition ></terminateEventDefinition>
</endEvent>

<task id="block335" name="send-jms-portale" tns:taskName="send-jms-portale" >
    <ioSpecification>

        <dataInput id="block335_AccountInput" name="account" />
        <dataInput id="block335_TempfolderInput" name="tempfolder" />
        <dataInput id="block335_AcceptMimeTypesInput" name="acceptMimeTypes" />
        <dataInput id="block335_UserTokenInput" name="userToken" />


        <dataInput id="block335_urlBrokerInput" name="urlBroker" />
        <dataInput id="block335_idPraticaPortaleInput" name="idPraticaPortale" />
        <dataInput id="block335_incaricatoInput" name="incaricato" />
        <dataInput id="block335_codaInput" name="coda" />
        <dataInput id="block335_listaDocumentiInput" name="listaDocumenti" />
        <dataInput id="block335_codiceMessaggioInput" name="codiceMessaggio" />
        <dataInput id="block335_messageInput" name="message" />
        <dataInput id="block335_idUserInput" name="idUser" />
        <dataInput id="block335_idProcessoInput" name="idProcesso" />
        <dataInput id="block335_userTokenInput" name="userToken" />
        <dataInput id="block335_esitoInput" name="esito" />
        <dataInput id="block335_idProceduraPortaleInput" name="idProceduraPortale" />
        <dataInput id="block335_descrizioneProcessoInput" name="descrizioneProcesso" />
        <dataInput id="block335_pwdInput" name="pwd" />
        <dataInput id="block335_correlationKeyInput" name="correlationKey" />
        <dataInput id="block335_userInput" name="user" />

        <dataOutput id="block335_UserTokenOutput" name="userToken" />
        <dataOutput id="block335_esitoOutput" name="esito" />


        <inputSet>
            <dataInputRefs>block335_AccountInput</dataInputRefs>
            <dataInputRefs>block335_TempfolderInput</dataInputRefs>
            <dataInputRefs>block335_AcceptMimeTypesInput</dataInputRefs>
            <dataInputRefs>block335_UserTokenInput</dataInputRefs>
            <dataInputRefs>block335_urlBrokerInput</dataInputRefs>
            <dataInputRefs>block335_idPraticaPortaleInput</dataInputRefs>
            <dataInputRefs>block335_incaricatoInput</dataInputRefs>
            <dataInputRefs>block335_codaInput</dataInputRefs>
            <dataInputRefs>block335_listaDocumentiInput</dataInputRefs>
            <dataInputRefs>block335_codiceMessaggioInput</dataInputRefs>
            <dataInputRefs>block335_messageInput</dataInputRefs>
            <dataInputRefs>block335_idUserInput</dataInputRefs>
            <dataInputRefs>block335_idProcessoInput</dataInputRefs>
            <dataInputRefs>block335_userTokenInput</dataInputRefs>
            <dataInputRefs>block335_esitoInput</dataInputRefs>
            <dataInputRefs>block335_idProceduraPortaleInput</dataInputRefs>
            <dataInputRefs>block335_descrizioneProcessoInput</dataInputRefs>
            <dataInputRefs>block335_pwdInput</dataInputRefs>
            <dataInputRefs>block335_correlationKeyInput</dataInputRefs>
            <dataInputRefs>block335_userInput</dataInputRefs>
        </inputSet>

        <outputSet>

            <dataOutputRefs>block335_UserTokenOutput</dataOutputRefs>
            <dataOutputRefs>block335_esitoOutput</dataOutputRefs>

        </outputSet>

    </ioSpecification>
    <dataInputAssociation>
                <sourceRef>urlBroker</sourceRef>
                <targetRef>block335_urlBrokerInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idPraticaPortale</sourceRef>
                <targetRef>block335_idPraticaPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>incaricato</sourceRef>
                <targetRef>block335_incaricatoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>codaPortale</sourceRef>
                <targetRef>block335_codaInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>documentiRicevutiIntegrazioni</sourceRef>
                <targetRef>block335_listaDocumentiInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"notifica";</sourceRef>
                <targetRef>block335_codiceMessaggioInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"i documenti ricevuti sono stati protocollati";</sourceRef>
                <targetRef>block335_messageInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idUser</sourceRef>
                <targetRef>block335_idUserInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProcesso</sourceRef>
                <targetRef>block335_idProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>humanToken</sourceRef>
                <targetRef>block335_userTokenInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef></sourceRef>
                <targetRef>block335_esitoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>idProceduraPortale</sourceRef>
                <targetRef>block335_idProceduraPortaleInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>descrizioneProcesso</sourceRef>
                <targetRef>block335_descrizioneProcessoInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>pwdCoda</sourceRef>
                <targetRef>block335_pwdInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>"["+ck1+"---"+ck2+"]";</sourceRef>
                <targetRef>block335_correlationKeyInput</targetRef>


    </dataInputAssociation>
    <dataInputAssociation>
                <sourceRef>userCoda</sourceRef>
                <targetRef>block335_userInput</targetRef>


    </dataInputAssociation>



    <dataOutputAssociation>
                <sourceRef>block335_esitoOutput</sourceRef>
                <targetRef>esitoPortale</targetRef>

    </dataOutputAssociation>


</task>

<sequenceFlow id="con_160435" sourceRef="block309" targetRef="block308">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_160543" sourceRef="block246" targetRef="block265">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>

<sequenceFlow id="con_161203" sourceRef="block455" targetRef="block448">
    <conditionExpression language="http://www.mvel.org/2.0" xsi:type="tFormalExpression" >
        <![CDATA[true]]>
    </conditionExpression>
</sequenceFlow>



	</process>
</definitions>
